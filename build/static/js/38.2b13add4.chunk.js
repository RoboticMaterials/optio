(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[38,43],{1562:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var c=n(44),r=n(35),o=n(1),s=n(41),u=n(112),i=n(65),d=n(8);function a(e){var t,n,a=e.route,l=Object(s.d)((function(e){return e.tasksReducer.selectedTask})),j=Object(s.d)((function(e){return e.tasksReducer.selectedHoveringTask})),b=Object(s.d)((function(e){return e.positionsReducer.positions})),O=Object(s.d)((function(e){return e.stationsReducer.stations})),f=Object(s.c)(),v=null;v=a||(j||l);var w=Object(o.useRef)();w.current=v;var k=null===(t=v)||void 0===t?void 0:t.load,x=(null===(n=v)||void 0===n||n.unload,Object(o.useState)({x:0,y:0})),h=(Object(r.a)(x,1)[0],Object(o.useState)(0)),m=Object(r.a)(h,2),p=m[0],g=m[1],y=Object(o.useState)(0),_=Object(r.a)(y,2),E=_[0],M=_[1],R=Object(o.useState)(null),L=Object(r.a)(R,2),S=L[0],B=L[1],T=Object(o.useState)(null),P=Object(r.a)(T,2),F=P[0],G=P[1],J=Object(o.useState)((function(){return function(e){B(e.clientX),G(e.clientY)}})),N=Object(r.a)(J,1)[0],W=Object(o.useState)((function(){return function(e){"Escape"==e.key&&f(Object(u.p)(w.current._id,{load:null}))}})),q=Object(r.a)(W,1)[0];if(Object(o.useEffect)((function(){var e,t;if(v?(e=Object(i.d)(v),t=Object(i.k)(v)):(e=Object(i.d)(j),t=Object(i.k)(j)),null!==v||null!==j){if(null!==e){var n=b[e]?b[e]:O[e];n&&(g(n.x),M(n.y))}if(null!==t){var c=b[t]?b[t]:O[t];c&&(B(c.x),G(c.y))}}})),Object(o.useEffect)((function(){var e=Object(i.d)(v),t=Object(i.k)(v);return window.addEventListener("mousedown",N,!1),null!==v&&null!==e&&null===t?(B(p),G(E),window.addEventListener("mousemove",N,!1),window.addEventListener("keydown",q)):(window.removeEventListener("mousemove",N,!1),window.removeEventListener("keydown",q)),function(){window.removeEventListener("mousedown",N,!1),window.removeEventListener("mousemove",N,!1),window.removeEventListener("keydown",q)}}),[v]),null!==v&&null!=k){var A=S||p,D=F||E,H=Math.sqrt(Math.pow(A-p,2)+Math.pow(D-E,2)),I=Math.atan2(D-E,A-p),V=180*I/Math.PI,X=Object(c.a)(Array(Math.ceil(H/(10*e.d3.scale))).keys()),Y=(null===j||void 0===j?void 0:j._id)===(null===a||void 0===a?void 0:a._id)?"rgba(56, 235, 135, 0.95)":"rgba(255, 182, 46, 0.95)",z=(null===j||void 0===j?void 0:j._id)===(null===a||void 0===a?void 0:a._id)?"rgba(184, 255, 215, 0.7)":"rgba(255, 236, 201, 0.7)",C=(null===j||void 0===j?void 0:j._id)===(null===a||void 0===a?void 0:a._id)?"rgba(56, 235, 135, 0.95)":"rgba(255, 182, 47, 0.95)";return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("g",{children:[Object(d.jsx)("defs",{children:Object(d.jsxs)("filter",{id:"glow",children:[Object(d.jsx)("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),Object(d.jsxs)("feMerge",{children:[Object(d.jsx)("feMergeNode",{in:"coloredBlur"}),Object(d.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),Object(d.jsx)("line",{x1:"".concat(p),y1:"".concat(E),x2:"".concat(S||p),y2:"".concat(F||E),strokeWidth:"".concat(8*e.d3.scale),stroke:Y,strokeLinecap:"round"}),Object(d.jsx)("line",{x1:"".concat(p),y1:"".concat(E),x2:"".concat(S||p),y2:"".concat(F||E),strokeWidth:"".concat(6*e.d3.scale),stroke:z,strokeLinecap:"round"}),X.map((function(t){return Object(d.jsx)("g",{transform:"translate(".concat(p+t*e.d3.scale*10*Math.cos(I)," ").concat(E+t*e.d3.scale*10*Math.sin(I),")"),children:Object(d.jsx)("g",{viewBox:"-50 -50 50 50",transform:"rotate(".concat(V,") scale(").concat(.05*e.d3.scale,")"),children:Object(d.jsx)("polygon",{points:"-40,-50 -40,50 40,0",fill:C})})},"arrow-".concat(t))}))]})})}return null}},2051:function(e,t,n){"use strict";n.r(t);n(1);var c=n(41),r=n(1562),o=n(64),s=n(8);t.default=function(e){var t=e.d3,n=Object(c.d)((function(e){return e.processesReducer.selectedProcess})),u=Object(c.d)((function(e){return e.tasksReducer.tasks})),i=Object(c.d)((function(e){return e.tasksReducer.editingTask})),d=Object(c.d)((function(e){return e.tasksReducer.selectedTask})),a=Object(c.d)((function(e){return e.processesReducer.editingProcess})),l=Object(c.d)((function(e){return e.processesReducer.editingValues}));return Object(s.jsx)(s.Fragment,{children:(a&&l?l:n).routes.filter((function(e){var t=(Object(o.c)(e)?e:u[e])||{},n=t.load,c=t.unload,r=t._id,s=(d||{})._id;return r!==s&&!((!i||i&&s!==r)&&(null===n||null===c))})).map((function(e,n){return Object(o.c)(e)?Object(s.jsx)(r.default,{d3:t,route:e},e._id):Object(s.jsx)(r.default,{d3:t,route:u[e]},e)}))})}}}]);
//# sourceMappingURL=38.2b13add4.chunk.js.map