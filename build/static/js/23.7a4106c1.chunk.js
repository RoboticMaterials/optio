(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[23],{2506:function(t,e,n){"use strict";n.r(e),n.d(e,"MapView",(function(){return Ot}));var o,i,s,r,c,a,l,u,d,p=n(20),b=n(0),f=n(401),h=n(403),j=n(436),O=n(406),g=n(407),v=n(2),m=n.n(v),x=n(120),y=n(29),w=n(31),S=n(19),_=n(17),M=_.d.div(o||(o=Object(S.a)(["\n    height: 100%;\n    width: 100%;\n    flex: 1;\n    background: ",";\n    user-select: none;\n\n    // cursor: move; /* fallback if grab cursor is unsupported */\n    // cursor: -webkit-move;\n    // cursor: -moz-move;\n\n    cursor: url(https://ssl.gstatic.com/ui/v1/icons/mail/images/2/openhand.cur), grab;\n\n    &:active {\n        cursor: grabbing;\n        cursor: -moz-grabbing;\n        cursor: -webkit-grabbing;\n    }\n\n    background-size: cover;\n    overflow: visible;\n"])),(function(t){return t.isBlank?"#F9FBFC":t.theme.bg.quaternary})),k=_.d.g(i||(i=Object(S.a)(["\n"]))),C=_.d.img(s||(s=Object(S.a)(["\n    height: 100%;\n    width: auto;\n\n    ccursor: move; /* fallback if grab cursor is unsupported */\n    cursor: -webkit-move;\n    cursor: -moz-move;\n\n    // ","\n    \n"])),(function(t){return t.tall&&"\n    //     height: auto;\n    //     width: 100%;\n    // "})),R=(n(67),n(1587)),E=n(163),P=n(7),D=n(202),L=n(192),N=n(75),I=n(110),z=n(571),A=n(1),G=n.n(A),T=n(3),F=(_.d.foreignObject(r||(r=Object(S.a)(["\n    transition: ",";\n    overflow: visible;\n    z-index: 1;\n"])),(function(t){return"100%"===t.width?"all 0.25s ease":"none"})),_.d.div(c||(c=Object(S.a)(["\n    margin-top: -12.7rem;\n    width: 30rem;\n    height: 10rem;\n    z-index: 5000;\n"]))),_.d.g(a||(a=Object(S.a)(["\n    stroke-width: 0;\n    opacity: 0.8;\n"]))),_.d.h1(l||(l=Object(S.a)(["\n    color: red;\n    position: relative;\n"]))),n(84)),B=n(417),W=function(t,e,n){var o={};return o.id=t._id,o.heightWidth="1",o.yPosition=t.y,o.xPosition=t.x,o.scale=n.scale,o.realScale=n.scale,o},Z=n(126),U=n(451),H=_.d.g(u||(u=Object(S.a)(["\n    stroke-width: 0;\n    opacity: 0.8;\n"]))),X=_.d.g(d||(d=Object(S.a)(["\n    cursor: url(https://ssl.gstatic.com/ui/v1/icons/mail/images/2/openhand.cur), grab;\n\n    &:active {\n        cursor: grabbing;\n        cursor: -moz-grabbing;\n        cursor: -webkit-grabbing;\n    }\n"]))),Y=n(438),V=n(55),q=n(4),J=function(t){var e=t.location,n=t.rd3tClassName,o=t.color,i=t.d3,s=t.isSelected,r=(t.hovering,t.rotating,t.hoveringInfo),c=t.shouldGlow,a=t.handleMouseEnter,l=t.handleMouseLeave,u=t.handleMouseDown,d=t.handleTranslating,f=(t.handleRotating,e.schema),h=Object(b.a)(Object(b.a)({},U.a),Y.a),j=Object(y.d)((function(t){return t.settingsReducer.settings})),O=Object(v.useState)(o),g=Object(p.a)(O,2),m=g[0],x=g[1];return Object(v.useEffect)((function(){x(o)}),[o]),Object(q.jsxs)(H,{id:n,className:n,style:{fill:m,stroke:m},onMouseOver:function(t){return t.stopPropagation()},onMouseEnter:function(){a(),s&&x(Object(V.a)("#5c6fff",-50))},onMouseDown:function(){u()},onMouseLeave:function(){l(),x(o)},transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(-e.rotation,") scale(").concat(i.scale/i.imgResolution,")"),children:[(j.mapApps.labels||s)&&(null===r||void 0===r?void 0:r.id)!==(null===e||void 0===e?void 0:e._id)&&Object(q.jsx)("text",{y:-16,fontSize:"0.7em",dominantBaseline:"middle",textAnchor:"middle",children:e.name}),Object(q.jsxs)("defs",{children:[Object(q.jsxs)("filter",{id:"glow",children:[Object(q.jsx)("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),Object(q.jsxs)("feMerge",{children:[Object(q.jsx)("feMergeNode",{in:"coloredBlur"}),Object(q.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(q.jsxs)("filter",{id:"glow2",height:"300%",width:"300%",x:"-75%",y:"-75%",children:[Object(q.jsx)("feMorphology",{operator:"dilate",radius:"1",in:"SourceAlpha",result:"thicken"}),Object(q.jsx)("feGaussianBlur",{in:"thicken",stdDeviation:"2",result:"blurred"}),Object(q.jsx)("feFlood",{floodColor:o,result:"glowColor"}),Object(q.jsx)("feComposite",{in:"glowColor",in2:"blurred",operator:"in",result:"softGlow_colored"}),Object(q.jsxs)("feMerge",{children:[Object(q.jsx)("feMergeNode",{in:"softGlow_colored"}),Object(q.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),Object(q.jsx)(X,{className:"".concat(n,"-trans"),onMouseEnter:function(){a()},onMouseDown:function(){return d(!0)},onMouseUp:function(){return d(!1)},transform:"device"===e.type?"scale(.07) translate(-180,-140)":"shelf_position"===e.type?"rotate(90)":"",children:Object(q.jsx)("svg",{id:"".concat(n,"-").concat(f),x:"-10",y:"-10",width:"20",height:"20",viewBox:"0 0 400 400",style:{filter:c?"url(#glow2)":"none"},children:h[e.type].svgPath})})]})};J.defaultProps={handleMouseEnter:function(){},handleMouseLeave:function(){},handleMouseDown:function(){},handleTranslating:function(){},handleRotating:function(){}};var K=J,Q=function(t){var e=t.isSelected,n=t.location,o=t.handleRotate,i=t.handleTranslate,s=t.handleDisableDrag,r=t.handleEnableDrag,c=t.handleTranslateEnd,a=t.rd3tClassName,l=Object(v.useState)(!1),u=Object(p.a)(l,2),d=u[0],b=u[1],f=Object(v.useState)(!1),h=Object(p.a)(f,2),j=h[0],O=h[1],g=Object(v.useState)(!1),m=Object(p.a)(g,2),x=m[0],y=m[1];Object(v.useEffect)((function(){e?P():x&&D()}));var w=null,S=null,_=null,M=Object(v.useRef)(null).current,k=Object(v.useRef)([]).current,C=Object(v.useRef)([]).current,E=Object(v.useMemo)((function(){return[n.x,n.y]}),[n]),P=function(){R.select(".".concat(a));var t=R.select(".".concat(a,"-rot")),l=R.select(".".concat(a,"-trans"));t.call(R.behavior.drag().on("dragstart",(function(){e&&s()})).on("drag",(function(t,i){e&&function(t,i){if(e){var s;d||b(!0),"mousemove"===t.sourceEvent.type?s=180*Math.atan2(t.sourceEvent.clientY-n.y,t.sourceEvent.clientX-n.x)/Math.PI:"touchmove"===t.sourceEvent.type&&(s=180*Math.atan2(t.sourceEvent.touches[0].clientY-n.y,t.sourceEvent.touches[0].clientX-n.x)/Math.PI),null==w&&(S=n.rotation,w=s),_=s-w,_=Math.abs(_%45)<5?45*Math.round(_/45):10*Math.round(_/10);var r=S-_;r<0&&(r+=360),o(r)}}(R.event)})).on("dragend",(function(){e&&(w=null,r(),b(!1))}))),l.call(R.behavior.drag().on("dragstart",(function(){e&&(k=E,s())})).on("drag",(function(t,n){e&&function(t,n){if(e){j||O(!0);var o=[];"mousemove"===t.sourceEvent.type?o=[t.sourceEvent.clientX,t.sourceEvent.clientY]:"touchmove"===t.sourceEvent.type&&(o=[t.sourceEvent.touches[0].clientX,t.sourceEvent.touches[0].clientY]),null==M&&(M=o,k=E),C[0]=5*Math.round((o[0]-M[0])/5),C[1]=5*Math.round((o[1]-M[1])/5),i({x:k[0]+C[0],y:k[1]+C[1]})}}(R.event)})).on("dragend",Object(T.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(2===C.length&&(c({x:k[0]+C[0],y:k[1]+C[1]}),M=null),r(),O(!1));case 1:case"end":return t.stop()}}),t)}))))),y(!0)},D=function(){R.select(".".concat(a));var t=R.select(".".concat(a,"-rot")),e=R.select(".".concat(a,"-trans"));t.call(R.behavior.drag().on("dragstart",(function(){})).on("drag",(function(){})).on("dragend",(function(){}))),e.call(R.behavior.drag().on("dragstart",(function(){})).on("drag",(function(){})).on("dragend",Object(T.a)(G.a.mark((function t(){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))))),y(!1)};return null},$=n(37);var tt=function(t){var e=t.station,n=t.rd3tClassName,o=t.d3,i=t.handleEnableDrag,s=t.handleDisableDrag,r=t.mouseDown,c=Object(v.useState)(!1),a=Object(p.a)(c,2),l=a[0],u=a[1],d=Object(v.useState)(!1),b=Object(p.a)(d,2),f=b[0],h=b[1],j=Object(v.useState)(!1),O=Object(p.a)(j,2),g=O[0],x=O[1],S=Object(y.d)((function(t){return t.stationsReducer.selectedStation})),_=Object(y.d)((function(t){return t.processesReducer.editingProcess})),M=Object(y.d)((function(t){return t.positionsReducer.selectedPosition})),k=Object(y.d)((function(t){return t.tasksReducer.selectedTask})),C=Object(y.d)((function(t){return t.processesReducer.selectedProcess})),R=Object(y.d)((function(t){return t.widgetReducer.hoverStationInfo})),P=Object(y.c)(),D=function(t){return P(Object(z.a)(t))},L=function(t,e){return P(Object(N.j)(t,e))},I=function(){var t=Object(T.a)(G.a.mark((function t(e){return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(Object(F.j)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(t,e){return P(Object(F.k)(t,e))},H=!!S&&S._id===e._id,X=!1;k&&C||(S&&S._id!==e._id||M&&!e.children.includes(M._id))&&(X=!0);var Y=!1;!k||(null===k||void 0===k?void 0:k.load)!==e._id&&(null===k||void 0===k?void 0:k.unload)!==e._id||(Y=!0);var V=U.a[e.type].color;!H&&X?V="#c4cbff":Y&&(V="#38eb87");var J=Object(w.g)();Object(v.useEffect)((function(){return window.addEventListener("mouseup",tt),function(){window.removeEventListener("mouseup",tt)}}),[]);var tt=function(){h(!1),x(!1)};Object(v.useEffect)((function(){void 0!==J.stationID&&J.stationID===t.station._id&&J.widgetPage&&D(et())}),[]);var et=function(){return W(e,0,o)};return Object(q.jsxs)(m.a.Fragment,{children:[Object(q.jsx)(K,{location:e,rd3tClassName:n,color:V,d3:o,isSelected:H,hovering:l,rotating:f,hoveringInfo:R,shouldGlow:!1,handleMouseEnter:function(){R||null!==k||e.temp||r||_||(u(!0),Object(Z.b)()||f||g||S||k||C||(D(et()),function(t){P(Object(N.i)(t))}(e)))},handleMouseLeave:function(){u(!1)},handleMouseDown:function(){X||function(){if(k)if(null!==(null===k||void 0===k?void 0:k.load)&&null===(null===k||void 0===k?void 0:k.unload)&&k.load!==e._id){var t=(e.type,"push");A(k._id,{unload:e._id,type:t})}else{var n="warehouse"===e.type?"pull":"push";A(k._id,{load:e._id,unload:null,type:n})}else if(C){var o=Object($.b)(C._id);o.type=(e.type,"push"),o.load=e._id,o.unload=null,I(o)}}(),P(Object(B.a)(!0))},handleTranslating:function(t){x(t)},handleRotating:function(t){h(t)}}),Object(q.jsx)(Q,{isSelected:H,location:e,rd3tClassName:n,d3:function(){return o()},handleRotate:function(t){L(e._id,{rotation:t})},handleTranslate:function(t){var n=t.x,o=t.y;return L(e._id,{x:n,y:o})},handleTranslateEnd:function(n){var o=n.x,i=n.y,s=Object(E.a)([o,i],t.d3);L(e._id,{x:o,y:i,pos_x:s[0],pos_y:s[1]})},handleEnableDrag:function(){i()},handleDisableDrag:function(){s()}}),void(J.widgetPage&&!l&&J.stationID===e._id?(u(!0),D(et())):!H&&l&&null===R&&u(!1))]},"frag-loc-".concat(e._id))},et=n(87),nt=n(25);var ot=function(t){var e=t.d3,n=t.position,o=t.rd3tClassName,i=t.handleEnableDrag,s=t.handleDisableDrag,r=t.mouseDown,c=n._id,a=Object(v.useState)(!1),l=Object(p.a)(a,2),u=l[0],d=l[1],b=Object(v.useState)(!1),f=Object(p.a)(b,2),h=f[0],j=f[1],O=Object(v.useState)(!1),g=Object(p.a)(O,2),x=g[0],w=g[1],S=Object(y.c)(),_=function(t,e){return S(Object(F.k)(t,e))},M=function(t){return S(Object(z.a)(t))},k=function(t){return S(Object(I.h)(t))},C=function(t,e){return S(Object(I.g)(t,e))},R=Object(y.d)((function(t){return t.tasksReducer.selectedTask})),D=Object(y.d)((function(t){return t.processesReducer.selectedProcess})),L=Object(y.d)((function(t){return t.positionsReducer.selectedPosition})),N=Object(y.d)((function(t){return t.stationsReducer.selectedStation})),A=(Object(y.d)((function(t){return t.widgetReducer.hoverLocationID})),Object(y.d)((function(t){return t.widgetReducer.hoverStationInfo}))),G=Object(y.d)((function(t){return t.stationsReducer.stations})),T=Object(y.d)((function(t){return t.positionsReducer.positions})),U=(Object(y.d)((function(t){return t.tasksReducer.tasks})),Object(y.d)((function(t){return t.positionsReducer.selectedStationChildrenCopy}))),H=Object(y.d)((function(t){return t.processesReducer.fixingProcess})),X=Object($.i)(R),V=Object($.f)(R),J=!1;(U&&c in U&&!R||L&&L._id===c&&!R||"temporary_position"===n.schema)&&(J=!0);var tt=!1;if(R&&D)if(n.parent||(tt=!0),H)if(n.parent){if(!X||X&&V){var ot=D.routes[D.broken-1];tt=!Object($.m)(ot,c)}else if(!V){var it;T[null===R||void 0===R||null===(it=R.load)||void 0===it?void 0:it.position]||(tt=!0);var st=D.routes[D.broken];Object($.n)(D.routes,c)&&!Object($.l)(st,c)&&(tt=!0)}}else tt=!0;else{var rt=((R||{}).temp||{}).insertIndex;if(D.routes.length>0){var ct=Object($.g)(D.routes.map((function(t){return t._id})),null===R||void 0===R?void 0:R._id);if(!X||X&&V)if(0===rt)Object($.n)(D.routes,c)&&(tt=!0);else if(0===ct)Object($.n)(Object(nt.a)(D.routes,0),c)&&(tt=!0);else{var at=Object(et.f)(D.routes,R._id),lt=Object($.f)(at);!Object($.m)(at,c)&&lt&&(tt=!0);var ut=Object($.d)(R),dt=Object($.e)(R);Object($.n)(D.routes,c)&&lt!==n.parent&&c!==ut&&dt!==n.parent&&(tt=!0)}else if(!V){var pt;if(T[null===R||void 0===R||null===(pt=R.load)||void 0===pt?void 0:pt.position]||(tt=!0),0===rt){var bt=D.routes[0];Object($.n)(D.routes,c)&&!Object($.l)(bt,c)&&(tt=!0),Object($.l)(R,c)&&(tt=!0)}else if(0===ct){var ft=D.routes[1];Object($.n)(D.routes,c)&&!Object($.l)(ft,c)&&(tt=!0)}else{var ht=D.routes[ct+1];!Object($.n)(D.routes,c)||Object($.l)(ht,c)&&-1!==ct||(tt=!0),Object($.l)(R,c)&&(tt=!0)}}}else!X||X&&V||V||Object($.l)(R,c)&&(tt=!0)}else(L&&L._id!==c||R&&!n.parent||U&&!(c in U)||N&&!N.children.includes(c))&&(tt=!0);var jt=null!==R&&(R.load.position==c&&"push"==R.type||R.unload.position==c&&"pull"==R.type||R.load.position==c&&"both"==R.type||R.unload.position==c&&"both"==R.type),Ot=!1;!R||R.load.position!==c&&R.unload.position!==c||(Ot=!0);var gt=Y.a[n.type].color;!J&&tt?gt="#afb5c9":Ot&&(gt="#38eb87"),Object(v.useEffect)((function(){return window.addEventListener("mouseup",vt),function(){window.removeEventListener("mouseup",vt)}}),[]);var vt=function(){j(!1),w(!1)};Object(v.useEffect)((function(){null!==n&&"temporary_position"===n.schema&&(d(!0),M(mt()),k(n))}),[]);var mt=function(){return W(n,0,e)};return Object(q.jsxs)(m.a.Fragment,{children:[!!n.parent&&function(){var t=U&&c in U&&N?N:G[n.parent];if(t)return Object(q.jsx)("line",{x1:"".concat(n.x),y1:"".concat(n.y),x2:"".concat(t.x),y2:"".concat(t.y),stroke:gt,strokeWidth:"1.4",shapeRendering:"geometricPrecision",style:{opacity:"0.3"}})}(),Object(q.jsx)(K,{location:n,rd3tClassName:o,color:gt,d3:e,isSelected:J,hovering:u,rotating:h,hoveringInfo:"temporary_position"!==n.schema?A:null,shouldGlow:jt,handleMouseEnter:function(){A||null!==R||n.temp||r||(d(!0),Object(Z.b)()||h||x||L||N||R||(M(mt()),k(n)))},handleMouseLeave:function(){"temporary_position"!==n.schema&&d(!1)},handleMouseDown:function(){tt||function(){if(null!==R)if(null!==R.load.position&&null===R.unload.position){var t=Object(P.c)(R.unload),e=R.type;t.position=c,null!==n.parent?t.station=n.parent:e="push",_(R._id,{unload:t,type:e})}else{var o=Object(P.c)(R.load),i=Object(P.c)(R.unload),s=R.type;o.position=c,null!==n.parent?o.station=n.parent:s="pull",i.position=null,i.station=null,_(R._id,{load:o,unload:i,type:s})}}(),"temporary_position"!==(null===L||void 0===L?void 0:L.schema)&&S(Object(B.a)(!0))},handleTranslating:function(t){J||w(t)},handleRotating:function(t){j(t),t||d(!1)}}),Object(q.jsx)(Q,{isSelected:J,location:n,rd3tClassName:o,d3:function(){return e()},handleRotate:function(t){C(c,{rotation:t})},handleTranslate:function(t){var e=t.x,n=t.y;return C(c,{x:e,y:n})},handleTranslateEnd:function(e){var n=e.x,o=e.y,i=Object(E.a)([n,o],t.d3);C(c,{pos_x:i[0],pos_y:i[1]})},handleEnableDrag:function(){i()},handleDisableDrag:function(){s()}})]},"frag-loc-".concat(c))},it=n(28),st=(n(456),n(159)),rt=function(t){var e=t.station,n=t.wipRatio,o=t.d3Scale,i=30*Math.min(Math.max(1,n),4)*o;return isNaN(i)?null:Object(q.jsx)("g",{children:Object(q.jsx)("circle",{cx:e.x,cy:e.y,r:i,fill:n<1.5?"url(#goodGrad)":n<3?"url(#okayGrad)":"url(#badGrad)"})})},ct=function(t){var e=t.map_id,n=t.d3Scale,o=Object(v.useState)({}),i=Object(p.a)(o,2),s=i[0],r=i[1],c=Object(y.d)((function(t){return t.cardsReducer.cards})),a=Object(y.d)((function(t){return t.tasksReducer.tasks})),l=Object(y.d)((function(t){return t.stationsReducer.editingStation})),u=Object(y.d)((function(t){return t.positionsReducer.editingPosition})),d=Object(y.d)((function(t){return t.stationsReducer.stations}));d=Object.values(d).filter((function(t){return t.map_id===e}));var b=Object(y.d)((function(t){return t.processesReducer.processes}));b=Object.values(b).filter((function(t){return t.map_id===e})),Object(v.useEffect)((function(){var t={};b.forEach((function(e){var n,o,i,s=Object(et.j)(e,a),r=0,l={},u=0,d=Object(it.a)(s);try{for(d.s();!(i=d.n()).done;)l[o=i.value]=Object.values(c).filter((function(t){return t.process_id===e._id})).reduce((function(t,e){return t+Object(st.f)(e,o)}),0),u+=l[o]>0?1:0,r+=l[o]}catch(f){d.e(f)}finally{d.f()}var p,b=r/u;for(n=0;n<s.length;n++)p=l[o=s[n]]/b,o in t?t[o]=p+t[o]:p>0&&(t[o]=p)})),r(t)}),[c]);return Object(q.jsxs)("g",{children:[Object(q.jsxs)("defs",{children:[Object(q.jsxs)("radialGradient",{id:"goodGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(q.jsx)("stop",{offset:"20%",style:{stopColor:"#00ffcf",stopOpacity:.7}}),Object(q.jsx)("stop",{offset:"100%",style:{stopColor:"#00ff97",stopOpacity:0}})]}),Object(q.jsxs)("radialGradient",{id:"okayGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(q.jsx)("stop",{offset:"20%",style:{stopColor:"#ff9300",stopOpacity:.7}}),Object(q.jsx)("stop",{offset:"100%",style:{stopColor:"#ffc200",stopOpacity:0}})]}),Object(q.jsxs)("radialGradient",{id:"badGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(q.jsx)("stop",{offset:"20%",style:{stopColor:"#ff0e00",stopOpacity:.7}}),Object(q.jsx)("stop",{offset:"100%",style:{stopColor:"#ff6800",stopOpacity:0}})]})]}),!l&&!u&&d.map((function(t){return t._id in s&&Object(q.jsx)(rt,{station:t,wipRatio:s[t._id],d3Scale:n},t._id+"-heatspot")}))]})};function at(t){var e=t.route,n=t.d3Scale,o=Object(y.d)((function(t){return t.tasksReducer.tasks})),i=Object(y.d)((function(t){return t.positionsReducer.positions})),s=Object(y.d)((function(t){return t.stationsReducer.stations})),r=Object($.d)(o[e]),c=Object($.j)(o[e]),a=i[r]?i[r]:s[r],l=i[c]?i[c]:s[c];return a&&l?Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("g",{children:Object(q.jsx)("line",{x1:"".concat(a.x),y1:"".concat(a.y),x2:"".concat(l.x),y2:"".concat(l.y),strokeWidth:"".concat(1.5*n),stroke:"lightgrey",strokeLinecap:"round"})})}):null}var lt=function(t){t.map_id;var e=t.d3Scale,n=Object(y.d)((function(t){return t.processesReducer.processes})),o=Object(y.d)((function(t){return t.processesReducer.selectedProcess})),i=Object.values(n),s=Object(y.d)((function(t){return t.stationsReducer.editingStation})),r=Object(y.d)((function(t){return t.positionsReducer.editingPosition}));return Object(q.jsx)(q.Fragment,{children:!s&&!r&&i.filter((function(t){return!o||o._id!==t._id})).map((function(t,n){return t.routes.map((function(t,o){return Object(q.jsx)(at,{route:t,d3Scale:e,id:"ratsnest-path-".concat(t._id)},"ratsnest-".concat(n,"-").concat(o))}))}))})},ut=n(51),dt=n(52),pt=(ut.a.getLogger("MapView"),Object(v.lazy)((function(){return n.e(35).then(n.bind(null,1814))}))),bt=Object(v.lazy)((function(){return n.e(32).then(n.bind(null,2503))})),ft=Object(v.lazy)((function(){return n.e(33).then(n.bind(null,2520))})),ht=Object(v.lazy)((function(){return Promise.all([n.e(5),n.e(40)]).then(n.bind(null,2494))})),jt=Object(v.lazy)((function(){return n.e(31).then(n.bind(null,2514))})),Ot=function(t){Object(O.a)(n,t);var e=Object(g.a)(n);function n(t){var o;return Object(f.a)(this,n),(o=e.call(this,t)).checkForMapLoad=function(){var t=o.props.maps.find((function(t){return t._id===o.props.localSettings.currentMapId}));if(t)o.setState({currentMap:t});else if(!o.state.currentMap&&null===o.props.localSettings.currentMapId&&o.props.maps.length>0){o.setState({currentMap:o.props.maps[0]});var e=Object(b.a)(Object(b.a)({},o.props.localSettings),{},{currentMapId:o.props.maps[0]._id});o.props.dispatchPostLocalSettings(e).then((function(){o.props.dispatchGetStations().then((function(t){var e=[];Object.values(t).forEach((function(t){var n=Object(E.b)([t.pos_x,t.pos_y],o.d3),i=Object(p.a)(n,2),s=i[0],r=i[1];t=Object(b.a)(Object(b.a)({},t),{},{x:s,y:r}),e[t._id]=t})),o.props.dispatchUpdateStations(e,null,o.d3)}))}))}},o.componentWillUnmount=function(){window.removeEventListener("mousedown",(function(){return o.mouseDown=!0}),{passive:!1}),window.removeEventListener("mouseup",(function(){o.mouseDown=!1,o.validateNewEntity()}),{passive:!1}),window.removeEventListener("click",(function(){o.setState({showRightClickMenu:{}})})),window.removeEventListener("resize",(function(){o.bindZoomListener()}),{passive:!1}),document.removeEventListener("dragend",o.validateNewLocation),o.unbindZoomListener()},o.refreshMap=function(){o.props.maps[0]&&o.props.dispatchGetMap(o.props.maps[0].guid)},o.openLocation=function(){return Object(q.jsx)(x.Route,{path:["/locations"]})},o.dragNewEntity=function(t){if(o.mouseDown)if(o.props.selectedStation&&!0===o.props.selectedStation.temp)o.props.dispatchSetStationAttributes(o.props.selectedStation._id,{x:t.clientX,y:t.clientY});else if(o.props.selectedPosition&&!0===o.props.selectedPosition.temp&&"temporary_position"!==o.props.selectedPosition.schema)o.props.dispatchSetPositionAttributes(o.props.selectedPosition._id,{x:t.clientX,y:t.clientY});else if(o.props.selectedStationChildrenCopy){var e=Object.values(o.props.selectedStationChildrenCopy).find((function(t){return!0===t.temp}));e&&!o.props.selectedPosition&&o.props.dispatchSetPositionAttributes(e._id,{x:t.clientX,y:t.clientY})}},o.validateNewEntity=function(){if(o.props.selectedStation&&!0===o.props.selectedStation.temp){var t=Object(E.a)([o.props.selectedStation.x,o.props.selectedStation.y],o.d3);o.props.dispatchSetStationAttributes(o.props.selectedStation._id,{pos_x:t[0],pos_y:t[1],temp:!1})}else if(o.props.selectedPosition&&!0===o.props.selectedPosition.temp&&"temporary_position"!==o.props.selectedPosition.schema){var e=Object(E.a)([o.props.selectedPosition.x,o.props.selectedPosition.y],o.d3);o.props.dispatchSetPositionAttributes(o.props.selectedPosition._id,{pos_x:e[0],pos_y:e[1],temp:!1})}else if(o.props.selectedStationChildrenCopy){var n=Object.values(o.props.selectedStationChildrenCopy).find((function(t){return 1==t.temp}));if(n){n=o.props.selectedStationChildrenCopy[n._id];var i=Object(E.a)([n.x,n.y],o.d3);o.props.dispatchSetPositionAttributes(n._id,{pos_x:i[0],pos_y:i[1],temp:!1})}}},o.bindZoomListener=function(){if(o.state.currentMap){o.props.scaleExtent,o.state.currentMap.resolution;var t,e,n=o.d3,i=n.translate,s=n.scale,r=R.select(".".concat(o.rd3tSvgClassName)),c=R.selectAll(".".concat(o.rd3tMapClassName));r.call(R.behavior.zoom().scaleExtent([-100,100]).on("zoom",(function(){!(o.props.selectedStation||o.props.selectedPosition&&"temporary_position"!==o.props.selectedPosition.schema)||o.props.editingStation&&o.props.editingPosition||o.props.dispatchHoverStationInfo(null),o.lastEvent=R.event;var n=o.props,i=n.stations,s=n.positions,r={},a={};c.attr("transform","translate(".concat(R.event.translate,") scale(").concat(R.event.scale,")")),o.d3=Object(b.a)(Object(b.a)({},o.d3),{},{translate:R.event.translate,scale:R.event.scale}),Object.values(i).forEach((function(n){var i=Object(E.b)([n.pos_x,n.pos_y],o.d3),s=Object(p.a)(i,2);t=s[0],e=s[1],n=Object(b.a)(Object(b.a)({},n),{},{x:t,y:e}),r[n._id]=n}));var l=null;if(o.props.selectedStation){var u=Object(E.b)([o.props.selectedStation.pos_x,o.props.selectedStation.pos_y],o.d3),d=Object(p.a)(u,2);t=d[0],e=d[1],l=o.props.selectedStation,l=Object(b.a)(Object(b.a)({},l),{},{x:t,y:e})}o.props.dispatchUpdateStations(r,l,o.d3),Object.values(s).forEach((function(n){var i=Object(E.b)([n.pos_x,n.pos_y],o.d3),s=Object(p.a)(i,2);t=s[0],e=s[1],n=Object(b.a)(Object(b.a)({},n),{},{x:t,y:e}),a[n._id]=n}));var f=null;if(o.props.selectedPosition){var h=Object(E.b)([o.props.selectedPosition.pos_x,o.props.selectedPosition.pos_y],o.d3),j=Object(p.a)(h,2);t=j[0],e=j[1],f=o.props.selectedPosition,f=Object(b.a)(Object(b.a)({},f),{},{x:t,y:e})}var O=null;o.props.selectedStationChildrenCopy&&(O={},Object.values(o.props.selectedStationChildrenCopy).forEach((function(n){var i=Object(E.b)([n.pos_x,n.pos_y],o.d3),s=Object(p.a)(i,2);t=s[0],e=s[1],n=Object(b.a)(Object(b.a)({},n),{},{x:t,y:e}),O[n._id]=n}))),o.props.dispatchUpdatePositions(a,f,O,o.d3),o.initialRender&&(o.initialRender=!1)})).on("zoomend",(function(){})).scale(s).translate(i))}},o.unbindZoomListener=function(){var t=Object(j.a)(o).rd3tSvgClassName;R.select(".".concat(t)).call(R.behavior.zoom().on("zoom",null))},o.onDisableDrag=function(){o.draggable&&(o.draggable=!1,o.unbindZoomListener())},o.onEnableDrag=function(){o.draggable||(o.draggable=!0,o.bindZoomListener())},o.onWidgetDisableDrag=function(){o.widgetDraggable&&(o.widgetDraggable=!1,o.unbindZoomListener())},o.onWidgetEnableDrag=function(){o.widgetDraggable||(o.widgetDraggable=!0,o.bindZoomListener())},o.calculateD3Geometry=function(){o.props.locations;var t,e,n=o.state.currentMap.resolution;if(t=o.props.zoom>o.props.scaleExtent.max?o.props.scaleExtent.max:o.props.zoom<o.props.scaleExtent.min?o.props.scaleExtent.min:o.props.zoom,o.mapContainer&&o.mapImage){var i,s,r=o.mapContainer.getBoundingClientRect().height,c=o.mapContainer.getBoundingClientRect().width,a=o.mapImage.getBoundingClientRect().height,l=o.mapImage.getBoundingClientRect().width,u=o.naturalImageDimensions.height,d=o.naturalImageDimensions.width;e={x:o.props.translate.x+c/2-l/2,y:o.props.translate.y+r/2-a/2},o.d3={translate:[e.x,e.y],scale:t,mapResolution:n,imgResolution:1,actualDims:{height:a,width:l},naturalDims:{height:u,width:d}};var f=o.props,h=f.stations,j=f.positions;Object.values(h).forEach((function(t){var e=Object(E.b)([t.pos_x,t.pos_y],o.d3),n=Object(p.a)(e,2);i=n[0],s=n[1],t=Object(b.a)(Object(b.a)({},t),{},{x:i,y:s}),h[t._id]=t})),o.props.dispatchUpdateStations(h,null,o.d3),Object.values(j).forEach((function(t){var e=Object(E.b)([t.pos_x,t.pos_y],o.d3),n=Object(p.a)(e,2);i=n[0],s=n[1],t=Object(b.a)(Object(b.a)({},t),{},{x:i,y:s}),j[t._id]=t})),o.props.dispatchUpdatePositions(j,null,null,o.d3)}else e=o.props.translate;R.selectAll(".".concat(o.rd3tMapClassName)).attr("transform","translate(".concat(e.x,",").concat(e.y,") scale(").concat(t,")"))},o.handleRightClickMenu=function(t){t.preventDefault(),o.setState({showRightClickMenu:{x:t.clientX,y:t.clientY}})},o.mobileMode=o.props.mobileMode,o.onClick=o.props.onClick,o.state={showRightClickMenu:{},hasStartAndEnd:!1,currentMap:null},o.rd3tSvgClassName="__SVG",o.rd3tMapClassName="__MAP",o.rd3tLocClassName="__LOC",o.rd3tStationClassName="__STATION",o.rd3tPosClassName="__POS",o.lastEvent=null,o.initialRender=!0,o.draggable=!0,o.widgetDraggable=!0,o.d3={translate:[0,0],naturalDims:{height:500,width:500},scale:1,naturalScale:1,boundingClientHeight:0},o.naturalImageDimensions={width:100,heigh:100},o.mouseDown=!1,o}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.dispatchGetMaps().then((function(e){return t.checkForMapLoad()})),window.addEventListener("mousedown",(function(){return t.mouseDown=!0}),{passive:!1}),window.addEventListener("mouseup",(function(){t.mouseDown=!1,t.validateNewEntity()}),{passive:!1}),window.addEventListener("click",(function(){t.setState({showRightClickMenu:{}})})),window.addEventListener("resize",(function(){t.bindZoomListener()}),{passive:!1})}},{key:"componentDidUpdate",value:function(t,e){this.state.currentMap&&this.props.localSettings.currentMapId===this.state.currentMap._id||this.checkForMapLoad(),t.selectedTask!==this.props.selectedTask&&this.setState({hasStartAndEnd:Object($.c)(this.props.selectedTask)}),Object(P.d)(t.currentMap,this.state.currentMap)||this.bindZoomListener(),this.props.match.params.widgetPage?document.removeEventListener("dragend",this.validateNewLocation):document.addEventListener("dragend",this.validateNewLocation,{capture:!1,passive:!0})}},{key:"render",value:function(){var t,e,n=this,o=this.props,i=o.stations,s=o.positions,r=o.selectedStation,c=o.selectedPosition,a=o.selectedStationChildrenCopy;o.deviceEnabled,this.state.hasStartAndEnd;if(null==this.state.currentMap)return Object(q.jsx)(q.Fragment,{});var l=this.d3;l.translate,l.scale;return Object(q.jsx)("div",{style:{width:"100%",height:"100%"},onMouseMove:this.dragNewEntity,onMouseUp:this.validateNewLocation,children:Object(q.jsxs)(M,{ref:function(t){return n.mapContainer=t},style:{touchAction:"none",pointerEvents:this.widgetDraggable?"default":"none"},children:[Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(q.Fragment,{}),children:Object(q.jsx)(jt,{})}),Object.keys(this.state.showRightClickMenu).length>0&&Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(q.Fragment,{}),children:Object(q.jsx)(ft,{coords:this.state.showRightClickMenu,buttonClicked:function(){n.setState({showRightClickMenu:{}})},d3:this.d3})}),Object(q.jsxs)("svg",{className:this.rd3tSvgClassName,width:"100%",height:"100%",onClick:function(){n.setState({showRightClickMenu:{}})},onContextMenu:function(t){n.handleRightClickMenu(t)},onMouseEnter:function(){n.props.selectedStation&&!n.props.editingStation&&(n.props.dispatchHoverStationInfo(null),n.props.dispatchSetSelectedStation(null),n.props.dispatchSetSelectedPosition(null))},onMouseOver:function(){n.props.selectedStation&&!n.props.editingStation&&(n.props.dispatchHoverStationInfo(null),n.props.dispatchSetSelectedStation(null),n.props.dispatchSetSelectedPosition(null))},children:[" ",Object(q.jsx)(k,{className:this.rd3tMapClassName,children:Object(q.jsx)("foreignObject",{width:"200%",height:"200%",children:!!this.state.currentMap&&Object(q.jsx)(C,{ref:function(t){return n.mapImage=t},tall:!!this.mapContainer&&this.mapContainer.getBoundingClientRect().height/this.naturalImageDimensions.height>this.mapContainer.getBoundingClientRect().width/this.naturalImageDimensions.width,src:"data:image/png;base64, "+this.state.currentMap.map,onLoad:function(){n.naturalImageDimensions={height:n.mapImage.naturalHeight,width:n.mapImage.naturalWidth},n.calculateD3Geometry(),n.setState({resolution:n.state.currentMap.resolution},(function(){return n.bindZoomListener()}))}})})}),(!!this.props.selectedTask||!!this.props.selectedHoveringTask)&&Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(q.Fragment,{}),children:Object(q.jsx)(pt,{d3:this.d3})}),!!this.props.selectedProcess&&Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(q.Fragment,{}),children:Object(q.jsx)(bt,{d3:this.d3})}),Object(q.jsx)("defs",{children:Object(q.jsxs)("filter",{id:"glow",children:[Object(q.jsx)("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),Object(q.jsxs)("feMerge",{children:[Object(q.jsx)("feMergeNode",{in:"coloredBlur"}),Object(q.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),!!this.state.resolution&&!!this.mapImage&&Object(q.jsxs)(q.Fragment,{children:[this.props.settings.mapApps.heatmap&&Object(q.jsx)(ct,{map_id:null===(t=this.state.currentMap)||void 0===t?void 0:t._id,d3Scale:this.d3.scale}),this.props.settings.mapApps.ratsnest&&Object(q.jsx)(lt,{map_id:null===(e=this.state.currentMap)||void 0===e?void 0:e._id,d3Scale:this.d3.scale}),Object(q.jsx)(q.Fragment,{children:Object.values(i).map((function(t,e){return Object(q.jsx)(tt,{station:r&&t._id===r._id?r:t,isSelected:!!r&&t._id===r._id,rd3tClassName:"".concat(n.rd3tStationClassName,"_").concat(e),d3:n.d3,handleEnableDrag:n.onEnableDrag,handleDisableDrag:n.onDisableDrag,mouseDown:n.mouseDown},"loc-".concat(e))}))}),Object(q.jsx)(q.Fragment,{children:Object.values(s).filter((function(t){var e;return t.map_id===(null===(e=n.state.currentMap)||void 0===e?void 0:e._id)})).map((function(t,e){return Object(q.jsx)(ot,{position:c&&t._id===c._id?c:a&&t._id in a?a[t._id]:t,rd3tClassName:"".concat(n.rd3tPosClassName,"_").concat(e),d3:n.d3,handleEnableDrag:n.onEnableDrag,handleDisableDrag:n.onDisableDrag,mouseDown:n.mouseDown},"pos-".concat(e))}))})]})]}),null!==this.props.hoveringInfo&&!this.mobileMode&&Object(q.jsx)(v.Suspense,{fallback:Object(q.jsx)(q.Fragment,{}),children:Object(q.jsx)(ht,{})})]})})}}]),n}(v.Component);Ot.defaultProps={scaleExtent:{min:0,max:6},zoomable:!0,zoom:1,translate:{x:0,y:0}};e.default=Object(w.h)(Object(y.b)((function(t){return{maps:t.mapReducer.maps,localSettings:t.localReducer.localSettings,deviceEnabled:!1,settings:t.settingsReducer.settings,positions:t.positionsReducer.positions,stations:t.stationsReducer.stations,tasks:t.tasksReducer.tasks,showRouteConfirmation:t.tasksReducer.showRouteConfirmation,selectedStation:t.stationsReducer.selectedStation,selectedStationChildrenCopy:t.positionsReducer.selectedStationChildrenCopy,selectedPosition:t.positionsReducer.selectedPosition,editingStation:t.stationsReducer.editingStation,editingPosition:t.positionsReducer.editingPosition,selectedTask:t.tasksReducer.selectedTask,selectedHoveringTask:t.tasksReducer.selectedHoveringTask,editingTask:t.tasksReducer.editingTask,selectedProcess:t.processesReducer.selectedProcess,fixingProcess:t.processesReducer.fixingProcess,hoveringInfo:t.widgetReducer.hoverStationInfo,widgetLoaded:t.widgetReducer.widgetLoaded}}),(function(t){return{dispatchGetMaps:function(){return t(Object(D.b)())},dispatchGetMap:function(e){return t(Object(D.a)(e))},dispatchSetCurrentMap:function(e){return t(Object(D.c)(e))},dispatchPostSettings:function(e){return t(Object(L.c)(e))},dispatchPostLocalSettings:function(e){return t(Object(dt.c)(e))},dispatchGetStations:function(){return t(Object(N.c)())},dispatchUpdateStations:function(e,n,o){return t(Object(N.l)(e,n,o))},dispatchUpdatePositions:function(e,n,o,i){return t(Object(I.j)(e,n,o,i))},dispatchPostPosition:function(e){return t(Object(I.c)(e))},dispatchSetStationAttributes:function(e,n){return t(Object(N.j)(e,n))},dispatchSetPositionAttributes:function(e,n){return t(Object(I.g)(e,n))},dispatchSetSelectedStation:function(e){return t(Object(N.i)(e))},dispatchSetSelectedPosition:function(e){return t(Object(I.h)(e))},dispatchHoverStationInfo:function(e){return t(Object(z.a)(e))},dispatchWidgetLoaded:function(e){return t(Object(z.b)(e))}}}))(Ot))},401:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},403:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"a",(function(){return i}))},406:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(516);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(o.a)(t,e)}},407:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(450),i=n(579),s=n(111),r=n(436);function c(t,e){return!e||"object"!==Object(s.a)(e)&&"function"!==typeof e?Object(r.a)(t):e}function a(t){var e=Object(i.a)();return function(){var n,i=Object(o.a)(t);if(e){var s=Object(o.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return c(this,n)}}},417:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return l}));var o=n(77),i=function(t){return{type:o.d,payload:{mode:t}}},s=function(t){return{type:o.f,payload:t}},r=function(t){return{type:o.e,payload:t}},c=function(t){return{type:o.a,payload:t}},a=function(t,e){return{type:o.c,payload:{show:t,callback:e}}},l=function(t){return{type:o.g,payload:t}}},436:function(t,e,n){"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return o}))},438:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));n(2);var o=n(67),i=n.n(o),s=n(4),r="#2adba6",c={shelf_position:{svgPath:Object(s.jsxs)("svg",{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsxs)("g",{y:"65",transform:"scale(0.87) translate(35, 100)",children:[Object(s.jsx)("path",{d:"M263.53,56.31l33,47a10,10,0,0,1-8.18,15.74h-66a10,10,0,0,1-8.19-15.74l33-47A10,10,0,0,1,263.53,56.31Z"}),Object(s.jsx)("path",{d:"M142.71,56.31l33,47a10,10,0,0,1-8.19,15.74h-66a10,10,0,0,1-8.18-15.74l33-47A10,10,0,0,1,142.71,56.31Z"}),Object(s.jsx)("circle",{cx:"255.44",cy:"146.56",r:"12.5"}),Object(s.jsx)("circle",{cx:"255.44",cy:"181.56",r:"7.5"}),Object(s.jsx)("circle",{cx:"134.44",cy:"146.56",r:"12.5"}),Object(s.jsx)("circle",{cx:"134.44",cy:"181.56",r:"7.5"})]})]}),attributes:{schema:"position",type:"shelf_position",parent:null,new:!0},color:r},charger_position:{svgPath:Object(s.jsxs)("svg",{children:[Object(s.jsx)("path",{d:"M344.75,131.18l-47,33A10,10,0,0,1,282,156V90a10,10,0,0,1,15.75-8.18l47,33A10,10,0,0,1,344.75,131.18Z"}),Object(s.jsx)("rect",{fill:"none",strokeMiterlimit:"10",strokeWidth:"20px",x:"5",y:"5",width:"378",height:"236",rx:"30"}),Object(s.jsx)("path",{d:"M251,171.13c-2.45,3.47-4.09,3.9-8.1,2.12l-73.27-32.63c-.72-.32-1.45-.61-2.47-1v3.15q0,12.9,0,25.81c0,4.89-3,6.91-7.46,5L31.14,118.34c-2.83-1.22-4.08-3.12-3.65-5.47s2.19-3.61,5.09-3.91q29.51-3,59-6c9-.91,17.93-1.86,26.91-2.63,1.81-.15,2.1-.82,2.06-2.38-.09-3.65,0-7.29,0-10.94,0-4.26,1.43-5.77,5.64-6.1q32.61-2.53,65.23-5.1c17.69-1.36,35.38-2.65,53.06-4.08,2.93-.23,5.1.52,6.54,3.12Z"}),Object(s.jsx)("rect",{fill:"transparent",strokeMiterlimit:"10",strokeWidth:"20px",x:"10",y:"10",width:"378",height:"236",rx:"30"})]}),color:"#fbd34e"},cart_position:{svgPath:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsx)("path",{d:"M315.5,200.87l-64,36.95A1,1,0,0,1,250,237v-73.9a1,1,0,0,1,1.5-.87l64,36.95A1,1,0,0,1,315.5,200.87Z",strokeMiterlimit:"10",strokeWidth:"10"}),Object(s.jsx)("circle",{cx:"200",cy:"200",r:"15"}),Object(s.jsx)("circle",{cx:"150",cy:"200",r:"10"}),Object(s.jsx)("circle",{cx:"102.5",cy:"200",r:"7.5"})]}),attributes:{schema:"position",type:"cart_position",parent:null,new:!0},color:r},temporary_cart_position:{svgPath:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsx)("path",{d:"M315.5,200.87l-64,36.95A1,1,0,0,1,250,237v-73.9a1,1,0,0,1,1.5-.87l64,36.95A1,1,0,0,1,315.5,200.87Z",strokeMiterlimit:"10",strokeWidth:"10"}),Object(s.jsx)("circle",{cx:"200",cy:"200",r:"15"}),Object(s.jsx)("circle",{cx:"150",cy:"200",r:"10"}),Object(s.jsx)("circle",{cx:"102.5",cy:"200",r:"7.5"})]}),attributes:{schema:"temporary_position",type:"cart_position",parent:null,new:!0},color:"#6283f0"}},a=function(t,e,n,o){return{name:t,schema:"position",type:e,temp:!0,new:!0,pos_x:0,pos_y:0,rotation:0,x:0,y:0,parent:n,_id:i.a.v4(),map_id:o}}},450:function(t,e,n){"use strict";function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return o}))},451:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));n(2);var o=n(187),i=n(4),s=o.a.main.schema.locations.solid,r={warehouse:{svgPath:Object(i.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 400",children:[Object(i.jsx)("path",{style:{fill:"transparent",strokeWidth:15,strokeMiterlimit:10},d:"M334.6,357.6h-260c-16.5,0-30-13.5-30-30v-260c0-16.5,13.5-30,30-30h260c16.5,0,30,13.5,30,30v260 C364.6,344.1,351.1,357.6,334.6,357.6z"}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M224,127c5.1-2.2,9.2-3.9,9.2-3.9s4.1,1.8,9.1,4.1l24.9,11.1c5,2.2,13.3,2.5,18.5,0.6l24.6-9.2 c5.1-1.9,5.2-5.1,0-7l-96.5-36.2c-5.1-1.9-13.6-1.9-18.7,0l-96.5,36.2c-5.1,1.9-5.1,5.1,0,7l96.5,36.2c5.1,1.9,13.6,1.9,18.7,0 l24.4-9.2c5.1-1.9,5.2-5.2,0.1-7.3l-24.6-10.2c-5.1-2.1-9.2-3.8-9.2-3.8c0,0,4.1-1.8,9.2-3.9L224,127z"})}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M98.5,144c-5.1-1.9-9.4,1-9.4,6.5v109.7c0,5.5,4.2,11.6,9.4,13.5l89.3,33.5c5.1,1.9,9.4-1,9.4-6.5V191 c0-5.5-4.2-11.6-9.4-13.5L98.5,144z M146.8,263c0,4.2-4.2,6.1-9.4,4.2l-10.1-3.8c-5.1-1.9-9.4-7-9.4-11.2s4.2-6.1,9.4-4.2 l10.1,3.8C142.5,253.7,146.8,258.7,146.8,263z"})}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M285.8,153.2c-5.1,1.9-9.4,8-9.4,13.5v16.1c0,5.5-4.2,11.6-9.4,13.5l-10.1,3.8c-5.1,1.9-9.4-1-9.4-6.5 v-16.1c0-5.5-4.2-8.4-9.4-6.5l-17.3,6.5c-5.1,1.9-9.4,8-9.4,13.5v109.7c0,5.5,4.2,8.4,9.4,6.5l89.3-33.5c5.1-1.9,9.4-8,9.4-13.5 V150.5c0-5.5-4.2-8.4-9.4-6.5L285.8,153.2z"})})]}),attributes:{schema:"station",type:"warehouse",children:[],dashboards:[],new:!0},color:s},human:{svgPath:Object(i.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 400",children:[Object(i.jsx)("path",{style:{fill:"transparent",strokeWidth:15,strokeMiterlimit:10},d:"M334.6,357.6h-260c-16.5,0-30-13.5-30-30v-260c0-16.5,13.5-30,30-30h260c16.5,0,30,13.5,30,30v260 C364.6,344.1,351.1,357.6,334.6,357.6z"}),Object(i.jsx)("path",{d:"M205.9,200.2c32.7,0,59.3-26.3,59.3-58.7s-26.5-58.7-59.3-58.7s-59.3,26.3-59.3,58.7S173.1,200.2,205.9,200.2z M247.4,214.9h-7.7c-10.3,4.7-21.7,7.3-33.8,7.3c-12,0-23.4-2.7-33.8-7.3h-7.7c-34.4,0-62.3,27.6-62.3,61.7v19.1 c0,12.2,10,22,22.2,22h163c12.3,0,22.2-9.9,22.2-22v-19.1C309.6,242.5,281.7,214.9,247.4,214.9z"})]}),attributes:{schema:"station",type:"human",children:[],dashboards:[],new:!0},color:s}}},516:function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return o}))},571:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));var o=n(113),i=function(t){return{type:o.c,payload:t}},s=function(t){return{type:o.b,payload:t}},r=function(t){return{type:o.a,payload:{info:t}}}},579:function(t,e,n){"use strict";function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return o}))}}]);
//# sourceMappingURL=23.7a4106c1.chunk.js.map