{"version":3,"sources":["methods/utils/stations_utils.js","hooks/useScrollInfo.js","components/basic/scroll_container/scroll_container.style.js","components/basic/scroll_container/scroll_container.js","components/hil_modals/hil_modals.style.js","components/basic/flexible_container/flexible_container.style.js","components/basic/flexible_container/flexible_container.js","components/hil_modals/hil_modals.js","components/hil_modals/hil_button/hil_button.style.js","components/hil_modals/hil_button/hil_button.js","components/basic/scale_wrapper/scale_wrapper.style.js","components/basic/scale_wrapper/scale_wrapper.js","components/hil_modals/hil_modals_content/hil_success.style.js","components/hil_modals/hil_modals_content/hil_success.js","containers/hil_modal/hil_modal.js","components/basic/form/error_tooltip/error_tooltip.style.js","components/basic/form/error_tooltip/error_tooltip.js","common_css/common_css.js","methods/utils/form_utils.js","components/basic/drop_down_search_v2/components/ClickOutside.js","components/basic/drop_down_search_v2/components/Label.js","components/basic/drop_down_search_v2/util.js","components/basic/drop_down_search_v2/constants.js","components/basic/drop_down_search_v2/components/Option.js","components/basic/drop_down_search_v2/components/Input.js","components/basic/drop_down_search_v2/components/Content.js","components/basic/drop_down_search_v2/components/NoData.js","components/basic/drop_down_search_v2/components/Item.js","components/basic/drop_down_search_v2/components/Dropdown.js","components/basic/drop_down_search_v2/components/Loading.js","components/basic/drop_down_search_v2/components/Clear.js","components/basic/drop_down_search_v2/components/Separator.js","components/basic/drop_down_search_v2/components/DropdownHandle.js","components/basic/drop_down_search_v2/drop_down_search.js","global_style.js","methods/utils/form_schemas.js","common_css/layout.js","components/basic/form/drop_down_search_field/drop_down_search_field.style.js","components/basic/form/drop_down_search_field/drop_down_search_field.js","higher_order_components/portal.js","../node_modules/@babel/runtime/helpers/interopRequireDefault/index.js","components/basic/number_input/number_input.style.js","components/basic/number_input/number_input.js","hooks/useLongPress.js","components/basic/form/number_field/number_field.style.js","components/basic/form/number_field/number_field.js","components/side_bar/content/cards/lot/lot_container.js","components/side_bar/content/cards/card_editor/lot_editor.style.js","components/side_bar/content/cards/lot/lot.js","components/side_bar/content/cards/lot/lot.style.js","components/side_bar/content/cards/lot/lot_date_range_row/lot_date_range_row.style.js","components/side_bar/content/cards/lot/lot_date_range_row/lot_date_range_row.js","components/side_bar/content/cards/lot/lot_simple_row/lot_simple_row.style.js","components/side_bar/content/cards/lot/lot_simple_row/lot_simple_row.js","components/side_bar/content/cards/lot/lot_date_row/lot_date_row.style.js","components/side_bar/content/cards/lot/lot_date_row/lot_date_row.js","components/side_bar/content/cards/lot/lot_flags/lot_flags.style.js","components/side_bar/content/cards/lot/lot_flags/lot_flags.js"],"names":["getStationName","stationId","BIN_IDS","QUEUE","FINISH","store","getState","stationsReducer","stations","name","getStationProcesses","stationID","storeState","processes","processesReducer","routes","tasksReducer","tasks","stationProcesses","Object","values","forEach","currProcess","Array","isArray","i","length","routeID","route","unloadStationId","getUnloadStationId","loadStationId","getLoadStationId","includes","push","_id","isEdge","navigator","test","window","userAgent","useScrollInfo","useState","x","y","scroll","setScroll","ref","useRef","previousScroll","update","element","current","maxY","scrollHeight","clientHeight","maxX","scrollWidth","clientWidth","scrollTop","percentageY","percentageX","scrollLeft","classNameY","classNameX","previous","scrollInfo","percentage","value","total","className","direction","Math","sign","callback","useEffect","ResizeObserver","resizeObserver","entries","contentRect","observe","disconnect","useResizeObserver","throttledUpdate","func","wait","context","args","result","timeout","later","apply","now","Date","remaining","this","arguments","clearTimeout","setTimeout","throttle","useCallback","node","addEventListener","removeEventListener","Container","styled","div","ScrollContainer","ContentContainer","Divider","props","visible","children","setRef","showDivider","setShowDivider","defaultProps","containerCss","isMobile","ModalContainer","Modal","HilButtonContainer","theme","widthBreakpoint","tablet","Body","bg","secondary","LotInfoContainer","InnerContentContainer","primary","SubtitleContainer","HilMessage","h3","font","fontSize","sz1","fractionButtonCss","css","unloadButtonCss","HilSubtitleMessage","h4","emphasisCss","InfoText","span","sz3","textColor","emphasize","HilTimer","p","sz2","fg","ColumnContainer","Header","cardShadow","HilIcon","color","FlexibleContainer","QUANTITY_MODES","QUANTITY","FRACTION","CONTENT","QUANTITY_SELECTOR","FRACTION_SELECTOR","REVIEW","LOT_SELECTOR","UNLOAD","fractionOptions","fractionDecimals","HILModals","hilMessage","taskQueueID","item","dashboardId","dashboard","lotId","lot_id","taskId","task_id","params","useParams","history","useHistory","dashboardID","subPage","lotID","warehouse","dispatch","useDispatch","dispatchTaskQueueItemClicked","id","type","payload","disptachHILResponse","response","disptachPutTaskQueue","a","putTaskQueue","dispatchSetActiveHilDashboards","active","dispatchSetShowModalId","setShowModalId","dispatchGetTaskQueue","getTaskQueue","dispatchGetStations","getStations","hilTimers","useSelector","state","taskQueueReducer","cards","cardsReducer","activeHilDashboards","dashboards","dashboardsReducer","size","useWindowSize","phoneView","width","task","setTask","hilType","load","unload","station","trackQuantity","setTrackQuantity","selectedDashboard","setSelectedDashboard","hilLoadUnload","setHilLoadUnload","dataLoaded","setDataLoaded","content","setContent","lot","setLot","modalClosed","setModalClosed","getBinQuantity","getPreviousWarehouseStation","process_id","maxQuantity","setMaxQuantity","loadStationName","setLoadStationName","unloadStationName","setUnloadStationName","formRef","formikProps","setFieldValue","track_quantity","currentTask","activeHilCopy","deepCopy","hil_station_id","onHilSuccess","fraction","quantity","rest","newItem","hil_response","onHilFailure","putTaskQueueItem","newMax","parseInt","renderUnloadContent","unloadQuantity","ceil","style","alignSelf","display","flexDirection","minHeight","alignItems","renderFractionOptions","overflow","map","ind","decimal","label","filter","cbrt","eval","onClick","renderQuantitySelector","minValue","maxValue","marginBottom","processId","validationSchema","hilModalSchema","innerRef","initialValues","validateOnChange","validateOnBlur","isOpen","overlay","zIndex","backgroundColor","backdropFilter","transition","paddingTop","justifyContent","flex","scaleFactor","showCustomFields","binId","containerStyle","margin","padding","iconName","iconColor","HilButtonCss","HilButtonText","button","disabled","HilButton","iconCss","textCss","unselectable","onselectstart","onmousedown","height","ScaleContainer","ScaleWrapper","offsetWidth","undefined","offsetHeight","offsetLeft","offsetTop","setSize","sizeRef","refOffsetHeight","refOffsetWidth","round","HILSuccess","HILModal","onSetHilTimers","timers","onSetActiveHilDashboards","onSetShowModalId","taskQueue","statusReducer","status","taskQueueItemClicked","hilResponse","devices","devicesReducer","localHumanTask","selectedTask","showModalId","showModalID","statusTimerIntervals","setStatusTimerIntervals","deviceDashboard","handleHilsInTaskQueue","useMemo","device_type","hil_message","instructions","keys","renderHIL","taskQuantity","handleHILTimers","startTime","hil_start_time","biasedTimer","hil_timeout","setInterval","toFixed","clearInterval","timerInterval","dash","WarningIcon","StyledInput","input","IconContainer","ErrorTooltip","ContainerComponent","text","tooltip","inputRef","autoFocus","setAutoFocus","uuidv4","timer1","delayShow","event","eventOff","effect","readOnly","data-tip","data-for","main","error","React","memo","overflowTextCss","glow","errorGlow","bad","newGlow","warn","rowContainer","good","columnContainer","commonIcon","iconButtonCss","commonClickableIcon","trapezoidCss","getMessageFromError","err","getSubmitDisabled","errors","touched","errorCount","isSubmitting","submitCount","ClickOutside","container","createRef","handleClick","target","onClickOutside","contains","document","capture","passive","ClickOutsideComponent","Component","DefaultClickOutsideComponent","Label","LabelComponent","DefaultLabelComponent","LightenDarkenColor","quinary","sz5","valueExistInSelected","find","val","getByPath","debounce","fn","timerId","delay","isEqual","b","JSON","stringify","object","path","split","reduce","acc","getProp","defaultValue","normalizedPath","shift","LIB_NAME","Option","methods","OptionComponent","DefaultOptionComponent","optionRenderer","role","labelField","removeItem","closeOnSelect","handlePlaceHolder","addPlaceholder","searchable","placeholder","noValues","hasValues","Input","onBlur","stopPropagation","dropdown","focus","blur","handleKeyPress","create","key","search","cursor","createNew","prevProps","InputComponent","inputRenderer","tabIndex","onFocus","getInputSize","dropDown","onKeyPress","onChange","setSearch","filled","DefaultInputComponent","senary","Content","ContentComponent","multi","contentRenderer","OptionsContainer","showSelectedBox","valueField","Value","valueCss","DefaultContentComponent","NoData","NoDataComponent","noDataRenderer","noDataLabel","DefaultNoDataComponent","Item","itemIndex","scrollIntoView","behavior","block","inline","ItemComponent","ButtonComponent","TextComponent","onMouseEnter","onMouseLeave","itemRenderer","keepSelectedInList","isSelected","aria-selected","aria-disabled","aria-label","addItem","schema","disabledLabel","showButton","onDetailsClick","e","cancelBubble","DefaultItemComponent","hexToRGBA","solid","red","DefaultContentContainer","DefaultButtonComponent","DefaultTextComponent","dropdownPosition","DropdownBoundingClientRect","getSelectRef","getBoundingClientRect","dropdownHeight","bottom","dropdownGap","innerHeight","top","Dropdown","dropdownRef","DropDownComponent","dropdownCss","maxWidth","maxDropdownWidth","aria-expanded","selectBounds","portal","dropdownRenderer","Fragment","AddNew","createNewLabel","replace","searchResults","DefaultDropDownComponent","left","hex","alpha","RR","slice","GG","BB","LoadingComponent","Loading","loadingRenderer","ClearComponent","Clear","clearRenderer","clearAll","SeparatorComponent","Separator","separatorRenderer","DropdownHandleComponent","dropdownOpen","DropdownHandle","dropdownHandleRenderer","onKeyDown","fill","viewBox","d","DropDownSearch","onDropdownClose","setState","onScroll","closeOnScroll","updateSelectBounds","select","getSelectBounds","action","srcElement","offsetParent","classList","keepOpen","clearOnBlur","clearOnSelect","close","preventDefault","newValues","onRemoveItem","toggleSelectAll","selectAll","onClearAll","valuesList","onSelectAll","options","option","areAllSelected","safeString","string","sortBy","sort","searchFn","regexp","RegExp","searchBy","activeCursorItem","handleKeyDown","bind","handleKeyDownFn","escape","enter","arrowUp","arrowDown","tab","shiftKey","shiftTab","currentItem","prevState","renderDropdown","ReactDOM","createPortal","dropdownRoot","newValue","onCreateNew","dropdownSize","createElement","appendChild","onDropdownOpen","fillable","fixedHeight","removeChild","debounceDelay","ReactDropdownSelect","paddingBottom","reactDropdownSelectCss","additionalProps","required","opacity","position","pattern","toString","loading","clearable","separator","dropdownHandle","DefaultReactDropdownSelect","octonary","DefaultContainer","globStyle","lrgFontSize","medFontSize","smlFontSize","lightBG","darkBG","white","black","grey1","grey2","grey3","grey4","grey5","green","require","lazy","mapValues","number","Yup","startPath","endPath","message","startDate","createError","convertCardDate","endDate","scheduleSchema","shape","min","max","of","matches","notTaskDeletedRegex","notBrokenRegex","days_on","start_time","time_interval","stop_time","reportEventSchema","description","instruction","sound","nullable","location","hil","buttons","fieldPath","pathToArr","mapper","get","compareItem","arr","parent","reg2","index","match","megaIndex","last","pop","currItem","parsedIndex","isUnique","currIndex","flat","isString","isEqualCI","trim","dataType","FIELD_DATA_TYPES","DATE_RANGE","DATE","INTEGER","STRING","list","set","totalList","currList","currListIndex","concat","Set","idx","rowIdx","sublist","pathToOthers","others","arrPath","parentValues","currParentValue","propertyName","currentIndex","indexOf","some","signUpSchema","email","accessCode","password","confirmPassword","oneOf","signInSchema","emailSchema","passwordResetSchema","verification","checkPassword","quantityOneSchema","binsSchema","obj","count","CARD_SCHEMA_MODES","EDIT_LOT","MOVE_LOT","uniqueNameSchema","uniqueByPath","editLotSchema","fields","lotFieldRequired","bins","LotFormSchema","fieldName","notIn","LOT_TEMPLATES_RESERVED_FIELD_NAMES","dopeUnique","templateMapperSchema","selectedFieldNames","getCardSchema","items","mode","availableBinItems","maxCount","moveCount","moveLocation","routeSchema","positionSchema","stationSchema","isObject","part","getProcessSchema","loadStations","unloadStations","numTerminalStations","unloadStationA","loadStation","unloadStationB","startNodes","findProcessStartNodes","startNode","DFSContainsCycle","stack","outgoingRoutes","getNodeOutgoing","nextNode","nextStack","locationSchema","selectedLocation","stationNames","locationName","notOneOf","input2Path","input1","input2","beg1","end1","beg2","end2","throughputSchema","expectedOutput","switch1","startOfShift","endOfShift","lessThan","startOfBreak1","when","is","then","greaterThan","endOfBreak1","startOfBreak2","endOfBreak2","startOfBreak3","endOfBreak3","schedules","time","charge_level","chargeEnabled","lessThanInt","containerLayout","columnRowLayout","bodyStyle","headerStyle","footerStyle","textSpanStyle","TitleContainer","h1","septenary","DefaultFieldContentContainer","DefaultFieldDropdownContainer","IconContainerComponent","DropDownSearchField","fieldLabel","ErrorComponent","FieldContentContainer","FieldDropdownContainer","containerSyle","mapInput","mapOutput","useFormikContext","setFieldTouched","useField","field","meta","hasError","setTouched","updatingValue","setUpdatingValue","ReactDropdownSelectStyle","borderColor","boxShadow","errorMessage","Portal","mountElement","mount","getElementById","el","module","exports","__esModule","inputCss","tertiary","buttonCss","usableCss","notUsableCss","Button","disabledCss","usable","NUMBER_INPUT_BUTTON_TYPES","PLUS","MINUS","NumberInput","onMinusClick","onPlusClick","minusDisabled","onInputChange","inputDisabled","plusDisabled","longPlusPressEvent","longMinusPressEvent","inputChildren","inputStyle","buttonStyle","themeContext","useContext","ThemeContext","onWheel","isTouchEvent","touches","useLongPress","onLongPress","onLongPressEnd","shouldPreventDefault","minRate","longPressTriggered","setLongPressTriggered","start","clear","shouldTriggerClick","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","errorCss","longPressOptions","NumberField","validateField","validateForm","fieldValue","timeoutRef","longPressing","setLongPressing","valueState","setValueState","previousValue","setPreviousValue","focused","setFocused","createLongPressHandler","buttonType","setAcceleratingInterval","Number","isInteger","enteredValue","enteredValueInt","isNaN","LotContainer","enableFlagSelector","isPartial","onDeleteDisabledLot","onRightClickDeleteLot","isDashboard","pathname","lotNumber","lotTemplateId","totalQuantity","flags","process","processName","stationName","templateValues","getCustomFields","partials","lotDisabled","selectable","borderRadius","routeId","rowCss","CloseIcon","quaternary","NameContainer","Title","fontWeight","bold","FieldTitle","highlight","SectionContainer","TheBody","ProcessFieldContainer","mainCss","containsSelected","normal","StyledForm","Form","FieldContainer","BodyContainer","ObjectInfoContainer","lots","ObjectLabel","Footer","iconContainerCss","ButtonContainer","ContentHeader","FieldsHeader","ContentTitle","ContentValue","FieldLabel","fieldValueCss","sz4","LotNumber","TemplateButton","PasteIcon","rowCss2","RowContainer","SubHeader","IconRow","FadeLoaderCSS","textCommon","historyContainerCommon","buttonViewCss","isLast","buttonViewSelectedCss","buttonGroupContainerCss","TemplateNameContainer","TemplateLabel","SyncProblem","SyncProblemIcon","Sync","SyncIcon","sync","Lot","isFocused","leadTime","dragging","dispatchPutCardAttributes","card","ID","putCardAttributes","cardPageReducer","draggingLotId","formatLotNumber","setFormattedLotNumber","popupOpen","showRightClickMenu","setShowRightClickMenu","cardHover","setCardHover","handleLotRightClick","renderFlags","marginLeft","contentStyle","background","arrowStyle","transform","trigger","open","closeOnDocumentClick","FLAG_OPTIONS","currOption","currColor","currColorId","selectedIndex","selected","immutableDelete","hasLeadTime","EMAIL","date","dateRange","URL","notSelectedCss","glowCss","focusedCss","selectedCss","LotFamilyContainer","commonCss","PartsRow","PartContainer","CardName","FooterContainer","FlagButton","FlagsContainer","HeaderBar","NameNumberContainer","lastItemCss","Row","DatesContainer","DateItem","DateText","DateArrow","LotDateRangeRow","defaultStartText","defaultEndText","labelStyle","dateStyle","startDateText","setStartDateText","endDateText","setEndDateText","dateRangeToStrings","tempStartDateText","tempEndDateText","capitalizeFirstLetter","Count","LotSimpleRow","countStyle","LotDateRow","defaultDateText","dateText","setDateText","jsDateToString","LotFlags","flexWrap","currFlagId"],"mappings":"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","file":"static/js/25.585ac4ac.chunk.js","sourcesContent":["import store from '../../redux/store/index'\nimport { BIN_IDS } from \"../../constants/lot_contants\";\nimport { isNonEmptyArray } from \"./array_utils\";\nimport { callOnStations } from \"./processes_utils\";\nimport { getLoadStationId, getUnloadStationId } from './route_utils'\n\nexport const getChildPositions = (stationID) => {\n    const positionsState = store.getState().positionsReducer\n    const positions = positionsState.positions_actions\n\n    let childrenArray = []\n\n    positions.forEach(position => {\n        !!position.parent && position.parent === stationID && childrenArray.push(position._id)\n    })\n\n}\n\nexport const getStationName = (stationId) => {\n\n    if (stationId === BIN_IDS.QUEUE) {\n        return \"Queue\"\n    }\n    else if (stationId === BIN_IDS.FINISH) {\n        return \"Finish\"\n    }\n\n    const stations = store.getState().stationsReducer.stations || {}\n    const station = stations[stationId] || {}\n    const {\n        name = \"\"\n    } = station\n\n    return name\n}\n\nexport const getPositionAttributes = (positionId, attributes) => {\n    const storeState = store.getState()\n    const positions = storeState.positionsReducer.positions || {}\n\n    let positionAttributes = {}\n\n    const isAttributesNotEmpty = isNonEmptyArray(attributes)\n\n    const position = positions[positionId] || {}\n\n    if (isAttributesNotEmpty) {\n        attributes.forEach((currAttribute) => {\n            positionAttributes[currAttribute] = position[currAttribute]\n        })\n    }\n    else {\n        positionAttributes = { ...position }\n    }\n\n    return positionAttributes\n}\n\n// Returns a list of processes this station belongs to\nexport const getStationProcesses = (stationID) => {\n\n    const storeState = store.getState()\n    const processes = storeState.processesReducer.processes\n    const routes = storeState.tasksReducer.tasks\n    const stationProcesses = []\n    Object.values(processes).forEach((currProcess) => {\n        if (currProcess && currProcess.routes && Array.isArray(currProcess.routes)) {\n            for (let i = 0; i < currProcess.routes.length; i++) {\n                const routeID = currProcess.routes[i]\n                const route = routes[routeID]\n                const unloadStationId = getUnloadStationId(route)\n                const loadStationId = getLoadStationId(route)\n\n                if (unloadStationId === stationID && !stationProcesses.includes(stationID)) {\n                    stationProcesses.push(currProcess._id)\n                    break\n                }\n                else if (loadStationId === stationID && !stationProcesses.includes(stationID)) {\n                    stationProcesses.push(currProcess._id)\n                    break\n                }\n            }\n        }\n    }\n    )\n    return stationProcesses\n}","import { useEffect, useRef, useState, useCallback } from 'react';\n\n\n// Edge has a bug where scrollHeight is 1px bigger than clientHeight when there's no scroll.\nconst isEdge = typeof navigator !== 'undefined' && /Edge\\/\\d./i.test(window.navigator.userAgent);\n\n\n// Small hook to use ResizeOberver if available. This fixes some issues when the component is resized.\n// This needs a polyfill to work on all browsers. The polyfill is not included in order to keep the package light.\nfunction useResizeObserver(ref, callback) {\n\tuseEffect(() => {\n\t\tif (typeof window !== 'undefined' && window.ResizeObserver) {\n\t\t\tconst resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tcallback(entries[0].contentRect);\n\t\t\t});\n\n\t\t\tif(ref.current) {\n\t\t\t\tresizeObserver.observe(ref.current);\n\t\t\t}\n\n\n\t\t\treturn () => {\n\t\t\t\tresizeObserver.disconnect();\n\t\t\t};\n\t\t}\n\t}, [ref]);\n};\n\n\nfunction throttle(func, wait) {\n\tlet context, args, result;\n\tlet timeout = null;\n\tlet previous = 0;\n\tconst later = function () {\n\t\ttimeout = null;\n\t\tresult = func.apply(context, args);\n\t\tif (!timeout) {\n\t\t\tcontext = args = null;\n\t\t}\n\t};\n\treturn function () {\n\t\tconst now = Date.now();\n\t\tconst remaining = wait - (now - previous);\n\t\tcontext = this;\n\t\targs = arguments;\n\t\tif (remaining <= 0 || remaining > wait) {\n\t\t\tif (timeout) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = null;\n\t\t\t}\n\t\t\tprevious = now;\n\t\t\tresult = func.apply(context, args);\n\t\t\tif (!timeout) {\n\t\t\t\tcontext = args = null;\n\t\t\t}\n\t\t} else if (!timeout) {\n\t\t\ttimeout = setTimeout(later, remaining);\n\t\t}\n\t\treturn result;\n\t};\n}\n\nfunction useScrollInfo() {\n\tconst [scroll, setScroll] = useState({ x: {}, y: {} });\n\tconst ref = useRef(null);\n\tconst previousScroll = useRef(null);\n\n\tuseResizeObserver(ref, () => {\n\t\tupdate();\n\t});\n\n\tconst throttleTime = 50;\n\n\tfunction update() {\n\t\tconst element = ref.current;\n\t\tlet maxY = element.scrollHeight - element.clientHeight;\n\t\tconst maxX = element.scrollWidth - element.clientWidth;\n\n\t\t// Edge has a bug where scrollHeight is 1px bigger than clientHeight when there's no scroll.\n\t\tif (isEdge && maxY === 1 && element.scrollTop === 0) {\n\t\t\tmaxY = 0;\n\t\t}\n\n\t\tconst percentageY = maxY !== 0 ? element.scrollTop / maxY : null;\n\t\tconst percentageX = maxX !== 0 ? element.scrollLeft / maxX : null;\n\n\t\tlet classNameY = 'no-scroll-y';\n\t\tif (percentageY === 0) {\n\t\t\tclassNameY = 'scroll-top';\n\t\t} else if (percentageY === 1) {\n\t\t\tclassNameY = 'scroll-bottom';\n\t\t} else if (percentageY) {\n\t\t\tclassNameY = 'scroll-middle-y';\n\t\t}\n\n\t\tlet classNameX = 'no-scroll-x';\n\t\tif (percentageX === 0) {\n\t\t\tclassNameX = 'scroll-left';\n\t\t} else if (percentageX === 1) {\n\t\t\tclassNameX = 'scroll-right';\n\t\t} else if (percentageX) {\n\t\t\tclassNameX = 'scroll-middle-x';\n\t\t}\n\n\t\tconst previous = previousScroll.current;\n\n\t\tconst scrollInfo = {\n\t\t\tx: {\n\t\t\t\tpercentage: percentageX,\n\t\t\t\tvalue: element.scrollLeft,\n\t\t\t\ttotal: maxX,\n\t\t\t\tclassName: classNameX,\n\t\t\t\tdirection: previous ? Math.sign(element.scrollLeft - previous.x.value) : 0,\n\t\t\t},\n\t\t\ty: {\n\t\t\t\tpercentage: percentageY,\n\t\t\t\tvalue: element.scrollTop,\n\t\t\t\ttotal: maxY,\n\t\t\t\tclassName: classNameY,\n\t\t\t\tdirection: previous ? Math.sign(element.scrollTop - previous.y.value) : 0,\n\t\t\t}\n\t\t};\n\t\tpreviousScroll.current = scrollInfo;\n\t\tsetScroll(scrollInfo);\n\t}\n\n\tconst throttledUpdate = throttle(update, throttleTime);\n\n\tconst setRef = useCallback(node => {\n\t\tif (node) {\n\t\t\t// When the ref is first set (after mounting)\n\t\t\tnode.addEventListener('scroll', throttledUpdate);\n\t\t\tif (!window.ResizeObserver) {\n\t\t\t\twindow.addEventListener('resize', throttledUpdate);  // Fallback if ResizeObserver is not available\n\t\t\t}\n\t\t\tref.current = node;\n\t\t\tthrottledUpdate();  // initialization\n\t\t} else if (ref.current) {\n\t\t\t// When unmounting\n\t\t\tref.current.removeEventListener('scroll', throttledUpdate);\n\t\t\tif (!window.ResizeObserver) {\n\t\t\t\twindow.removeEventListener('resize', throttledUpdate);\n\t\t\t}\n\t\t}\n\t}, []);\n\n\n\treturn [scroll, setRef, ref];\n}\n\n\nexport default useScrollInfo;","import styled, { css } from 'styled-components'\n\nexport const Container = styled.div`\n  position: relative;\n  overflow: hidden;\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n`\n\nexport const ScrollContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow-y: auto;\n  overflow-x: hidden;\n  align-self: stretch;\n  align-items: center;\n  flex: 1;\n`\n\nexport const ContentContainer = styled.div`\n\theight: fit-content;\n\tmin-height: fit-content;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem;\n\t//max-height: fit-content;\n  //background: pink;\n  align-items: center;\n  \n  \n  align-self: stretch;\n`\n\nexport const Divider = styled.div`\n    border: 0;\n    position: absolute;\n  height: 1px;\n    top: 0;\n  left: 0;\n    background: transparent;\n    box-shadow: inset 0 12px 12px -12px rgba(0, 0, 0, 0.75);\n    width: 100%;\n    padding-bottom: 12px;\n    z-index: 10000;\n  \n  opacity: ${props => props.visible ? 1 : 0};\n  //transition: opacity .5s ease-out;\n`\n\n","import React, {useEffect, useRef, useState} from 'react'\n\n// functions extenral\nimport PropTypes from 'prop-types'\n\n// hooks\nimport useScrollInfo from \"../../../hooks/useScrollInfo\"\n\n// styles\nimport * as styled from \"./scroll_container.style\"\n\n\nconst ScrollContainer = (props) => {\n\n\tconst {\n\t\tchildren\n\t} = props\n\n\tconst [scrollInfo, setRef] = useScrollInfo()\n\n\tconst [showDivider, setShowDivider] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetShowDivider(scrollInfo?.y?.value > 1)\n\n\n\t\treturn () => {\n\n\t\t}\n\t}, [scrollInfo])\n\n\treturn (\n\t\t<styled.Container>\n\t\t\t<styled.Divider visible={showDivider}/>\n\n\t\t\t<styled.ScrollContainer\n\t\t\t\tref={setRef}\n\t\t\t>\n\t\t\t\t<styled.ContentContainer>\n\t\t\t\t\t{children}\n\t\t\t\t</styled.ContentContainer>\n\t\t\t</styled.ScrollContainer>\n\t\t</styled.Container>\n\t)\n}\n\nScrollContainer.propTypes = {\n\tchildren: PropTypes.any\n}\n\nScrollContainer.defaultProps = {\n\n}\n\nexport default ScrollContainer\n","import styled, { css } from 'styled-components'\nimport * as commonCss from \"../../common_css/common_css\";\nimport {iconButtonCss} from \"../../common_css/common_css\";\nimport Modal from 'react-modal';\nimport { isMobile } from \"react-device-detect\"\n\n// Modal.setAppElement('document');\n\nexport const containerCss = `\n  position: absolute;\n    transition: backdrop-filter 3s ease;\n    //width: 98%;\n  \twidth: ${isMobile ? '98%' : 'auto'};\n    height: ${isMobile ? '98%' : 'auto'};\n    max-height: 98%;\n    max-width: 98%;\n    //min-height: 50rem;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n  outline: none !important;\n\n    z-index: 5000;\n    border-radius: 1rem;\n    box-shadow: 0 0.2rem 0.4rem 0rem #303030;\n    display: flex;\n    /* flex-flow: row; */\n    flex-direction: column;\n    //background-color: white;\n\n    //overflow-y: scroll;\n     overflow: hidden;\n\n    ::-webkit-scrollbar {\n        display: none;  /* Safari and Chrome */\n    }\n`\nexport const ModalContainer = styled(Modal)`\n    ${containerCss};\n`\n\n\n\n\nexport const HilButtonContainer = styled.div`\n    \n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    justify-content: center;\n    align-items: center;\n    padding: 1rem 2rem;\n  \n    div:not(:first-child) {\n        margin: 0 0rem 0 2rem;\n    }\n  \n    @media (max-width: ${props => props.theme.widthBreakpoint.tablet}){\n        flex-direction: column;\n        div:not(:first-child) {\n          margin-top: .5rem;\n          margin: .5rem 0rem 0 0rem;\n        }\n    }\n`\n\nexport const InnerHeader = styled.div`\n    align-self: stretch;\n    display: flex;\n    justify-content: flex-end;\n    margin: .5rem 0;\n    padding: 0 1rem;\n`\n\n\nexport const Body = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1;\n\n    width: 100%;\n\n    overflow: hidden;\n    \n    background: ${props => props.theme.bg.secondary};\n    \n    \n`\n\nexport const LotInfoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-self: stretch;\n  margin: 0 2rem 1rem 2rem;\n  \n`\n\nexport const InnerContentContainer = styled.div`\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    align-self: stretch;\n    flex: 1;\n    overflow: hidden;\n    align-items: center;\n    margin: 0 1rem 0rem 1rem;\n    border: 1px solid #cacaca;\n    justify-content: space-between;\n    border-radius: 2rem;\n    background: ${props => props.theme.bg.primary};\n  //padding-top: 1rem;\n`\n\n\n\nexport const SubtitleContainer = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: center;\n  \tmargin-bottom: 1rem;\n    //padding-bottom: 1rem;\n    \n`\n\nexport const HilMessage = styled.h3`\n    display: flex;\n    font-family: ${props => props.theme.font.primary};\n    justify-content: center;\n    align-self: center;\n\n    //padding-top: 1rem;\n    //margin-top: 3rem;\n    padding: 0;\n    margin: 0;\n    font-size: ${props => props.theme.fontSize.sz1};\n    text-align: center;\n    // white-space: nowrap;\n    // width: 80rem;\n`\n\nexport const fractionButtonCss = css`\n    margin: 1rem 0;\n    height: 5rem;\n    max-width: 50rem;\n`\n\nexport const unloadButtonCss = css`\n\theight: 5rem;\n\tmax-width: 25rem;\n  align-self: center;\n\twidth: 25rem;\n  //align-self: stretch;\n  //flex: 1;\n\tjustify-content: center;\n`\n\nexport const HilSubtitleMessage = styled.h4`\n    display: flex;\n    font-family: ${props => props.theme.font.primary};\n    justify-content: center;\n    margin-bottom: 1.5rem;\n    //margin-top: 3rem;\n    padding: 0;\n    margin: 0;\n    font-size: 1.6rem;\n    text-align: center;\n`\n\nconst emphasisCss = css`\n\tfont-weight: bold;\n  font-style: oblique;\n  \n`\n\nexport const InfoText = styled.span`\n  white-space: pre-wrap;\n    display: flex;\n    font-family: ${props => props.theme.font.primary};\n    justify-content: center;\n    font-size: ${props => props.theme.fontSize.sz3};\n    color: ${props => props.theme.textColor};\n    text-align: center;\n  \n  ${props => props.emphasize && emphasisCss};\n  \n  \n  \t//max-width: 80%;\n  //margin-top: 1rem;\n`\n\nexport const HilTimer = styled.p`\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    font-family: ${props => props.theme.font.primary};\n    font-weight: bold;\n    font-size: ${props => props.theme.fontSize.sz2};\n    color: ${props => props.theme.fg.primary};\n  opacity: ${props => props.visible ? 1 : 0};\n`\n\n\nexport const ColumnContainer = styled.div`\n  display: flex;\n    flex-direction: column;\n`\n\nexport const Header = styled.div`\n    display:flex;\n    flex-direction: row;\n    width: 100%;\n    background: ${props => props.theme.bg.secondary};\n    //box-shadow: ${props => props.theme.cardShadow};\n    align-items: center;\n    justify-content: space-around;\n    align-items: center;\n    padding: .5rem 1rem;\n`\n\n\nexport const HilIcon = styled.i`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //margin: auto auto;\n    color:  ${props => props.color};\n    fill: green;\n    font-size: 2.5rem;\n    margin-right: 1rem;\n    &:hover {\n        cursor: pointer;\n    }\n\n    &:active{\n        filter: brightness(85%)\n    }\n`\n\n","import styled from 'styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\talign-self: stretch;\n\tjustify-content: center;\n\t\n\tbutton {\n\t\tflex: 1;\n\t}\n`","import React from 'react'\n\n// functions external\nimport PropTypes from 'prop-types'\n\n// style\nimport * as styled from './flexible_container.style'\n\nconst FlexibleContainer = props => {\n\n\tconst {\n\t\tchildren\n\t} = props\n\n\treturn (\n\t\t<styled.Container>\n\t\t\t{children}\n\t\t</styled.Container>\n\t)\n}\n\nFlexibleContainer.propTypes = {\n\tchildren: PropTypes.any\n}\n\nexport default FlexibleContainer\n","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\n\n// actions\nimport { putTaskQueue, getTaskQueue } from '../../redux/actions/task_queue_actions'\nimport { setShowModalId } from '../../redux/actions/task_queue_actions'\nimport { getStations } from \"../../redux/actions/stations_actions\";\n\n// api\nimport { putTaskQueueItem } from '../../api/task_queue_api'\n\n// components internal\nimport LotContainer from \"../side_bar/content/cards/lot/lot_container\";\nimport HilButton from \"./hil_button/hil_button\";\nimport NumberField from \"../basic/form/number_field/number_field\";\nimport ScrollContainer from \"../basic/scroll_container/scroll_container\";\n\n// functions external\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { Formik } from \"formik\"\nimport { isMobile } from \"react-device-detect\"\n\n// styles\nimport * as styled from './hil_modals.style';\nimport useWindowSize from '../../hooks/useWindowSize'\n\n// utils\nimport { deepCopy } from '../../methods/utils/utils'\nimport { getBinQuantity } from \"../../methods/utils/lot_utils\";\nimport FlexibleContainer from \"../basic/flexible_container/flexible_container\";\nimport ScaleWrapper from \"../basic/scale_wrapper/scale_wrapper\";\nimport { getPreviousWarehouseStation } from '../../methods/utils/processes_utils'\nimport { getStationName } from \"../../methods/utils/stations_utils\";\nimport { hilModalSchema } from \"../../methods/utils/form_schemas\";\n\n\nexport const QUANTITY_MODES = {\n    QUANTITY: \"QUANTITY\",\n    FRACTION: \"FRACTION\"\n}\n\nconst CONTENT = {\n    QUANTITY_SELECTOR: \"QUANTITY_SELECTOR\",\n    FRACTION_SELECTOR: \"FRACTION_SELECTOR\",\n    REVIEW: \"REVIEW\",\n    LOT_SELECTOR: \"LOT_SELECTOR\",\n    UNLOAD: \"UNLOAD\",\n}\n\nconst fractionOptions = ['1', '3/4', '1/2', '1/4']\nconst fractionDecimals = [1, 0.75, 0.5, 0.25]\n\nconst HILModals = (props) => {\n    const {\n        hilMessage,\n        taskQueueID,\n        item\n    } = props\n\n    const {\n        dashboard: dashboardId,\n        lot_id: lotId,\n        task_id: taskId\n    } = item || {}\n\n    const params = useParams()\n    const history = useHistory()\n\n    const {\n        stationID,\n        dashboardID,\n        subPage,\n        lotID,\n        warehouse,\n    } = params || {}\n\n    const dispatch = useDispatch()\n    const dispatchTaskQueueItemClicked = (id) => dispatch({ type: 'TASK_QUEUE_ITEM_CLICKED', payload: id })\n    const disptachHILResponse = (response) => dispatch({ type: 'HIL_RESPONSE', payload: response })\n    const disptachPutTaskQueue = async (item, id) => await dispatch(putTaskQueue(item, id))\n    const dispatchSetActiveHilDashboards = (active) => dispatch({ type: 'ACTIVE_HIL_DASHBOARDS', payload: active })\n    const dispatchSetShowModalId = (id) => dispatch(setShowModalId(id))\n    const dispatchGetTaskQueue = () => dispatch(getTaskQueue())\n    const dispatchGetStations = async () => await dispatch(getStations())\n\n    const hilTimers = useSelector(state => { return state.taskQueueReducer.hilTimers })\n    const cards = useSelector(state => { return state.cardsReducer.cards })\n    const tasks = useSelector(state => { return state.tasksReducer.tasks })\n    const activeHilDashboards = useSelector(state => state.taskQueueReducer.activeHilDashboards)\n    const dashboards = useSelector(state => state.dashboardsReducer.dashboards) || {}\n    const stations = useSelector(state => state.stationsReducer.stations) || {}\n\n    const size = useWindowSize()\n    const phoneView = size.width < 500\n\n    const [task, setTask] = useState(null)\n    const {\n        type: hilType,\n        load,\n        unload\n    } = task || {}\n    const {\n        station: unloadStationId\n    } = unload || {}\n    const {\n        station: loadStationId\n    } = load || {}\n\n    const [trackQuantity, setTrackQuantity] = useState(null)\n    const [selectedDashboard, setSelectedDashboard] = useState(null)\n    const {\n        station: stationId\n    } = selectedDashboard || {}\n\n    const [hilLoadUnload, setHilLoadUnload] = useState('')\n    const [dataLoaded, setDataLoaded] = useState(false)\n    const [content, setContent] = useState(CONTENT.QUANTITY_SELECTOR)\n    const [lot, setLot] = useState({})\n    const [modalClosed, setModalClosed] = useState(false)\n    const [maxQuantity, setMaxQuantity] = useState(!!lotId ? !!warehouse ? getBinQuantity(lot, getPreviousWarehouseStation(lot.process_id, stationID)._id) : getBinQuantity(cards[lotId], stationId || loadStationId) : null)\n    const [loadStationName, setLoadStationName] = useState(\"\")\n    const [unloadStationName, setUnloadStationName] = useState(\"\")\n\n    const formRef = useRef(null)\n    const {\n        current: formikProps\n    } = formRef || {}\n    const {\n        values = {},\n        setFieldValue = () => { }\n    } = formikProps || {}\n\n    useEffect(() => {\n        setLot(cards[lotId] || {})\n        return () => {\n\n        };\n    }, [lotId, cards])\n\n    /* default quantity to max when max changes */\n    useEffect(() => {\n        setFieldValue('quantity', maxQuantity)\n        // return () => {};\n    }, [maxQuantity]);\n\n\n    useEffect(() => {\n        const {\n            track_quantity\n        } = task || {}\n\n        if (hilLoadUnload === 'load') {\n            if (track_quantity && content !== CONTENT.QUANTITY_SELECTOR) {\n                setContent(CONTENT.QUANTITY_SELECTOR)\n            }\n            else if (!track_quantity && content !== CONTENT.FRACTION_SELECTOR) {\n                setContent(CONTENT.FRACTION_SELECTOR)\n            }\n        }\n        else {\n            setContent(CONTENT.UNLOAD)\n        }\n\n\n        return () => {\n\n        };\n    }, [task, hilLoadUnload]);\n\n\n\n    // load lot data on load for selecting lot\n    useEffect(() => {\n        // get dashboard info from item\n        const dashboard = dashboards[dashboardId]\n        setSelectedDashboard(dashboard)\n    }, [dashboards])\n\n    // Use Effect for when page loads, handles wether the HIL is a load or unload\n    useEffect(() => {\n        dispatchGetStations()\n\n        const currentTask = tasks[item.task_id]\n        setTask(currentTask)\n\n        // If the task's load location of the task q item matches the item's location then its a load hil, else its unload\n\n\n\n        setDataLoaded(true)\n        // On unmount, set the task q item to none\n        return () => {\n            dispatchTaskQueueItemClicked('')\n\n            // Deletes the dashboard id from active list for the hil that has been responded too\n            const activeHilCopy = deepCopy(activeHilDashboards)\n            delete activeHilCopy[dashboardID]\n            dispatchSetActiveHilDashboards(activeHilCopy)\n        }\n\n    }, [])\n\n    useEffect(() => {\n        if (task?.load?.station === item.hil_station_id || !!item.dashboard) {\n            // load\n            setHilLoadUnload('load')\n        } else {\n            // unload\n            setHilLoadUnload('unload')\n        }\n\n        return () => { };\n    }, [item, task]);\n\n\n    // Posts HIL Success to API\n    const onHilSuccess = async (fraction) => {\n\n        const {\n            quantity,\n        } = values || {}\n\n        dispatchTaskQueueItemClicked('')\n\n        const { _id, dashboard, ...rest } = item || {}\n\n        let newItem = {\n            ...rest,\n            hil_response: true,\n        }\n\n        // If its a load, then add a quantity to the response\n        if (hilLoadUnload === 'load') {\n            // If track quantity then add quantity, or if noLotSelected then use quantity\n            if (!!task.track_quantity || trackQuantity) {\n                newItem.quantity = quantity\n            }\n\n            // Else it's a fraction so tell the fraction amount\n            else {\n                newItem.fraction = fraction\n            }\n        }\n\n        // Deletes the dashboard id from active list for the hil that has been responded too\n        const activeHilCopy = deepCopy(activeHilDashboards)\n        delete activeHilCopy[dashboardID]\n        dispatchSetActiveHilDashboards(activeHilCopy)\n\n        // This is used to make the tap of the HIL button respond quickly\n        disptachHILResponse(hilLoadUnload === 'load' ? 'load' : 'unload')\n        setTimeout(() => disptachHILResponse(''), 2000)\n        // If its a warehouse then go back\n        if (!!warehouse) {\n            history.push(`/locations/${stationID}/dashboards/${dashboardID}`)\n        }\n        await disptachPutTaskQueue(newItem, taskQueueID)\n        await dispatchSetShowModalId(null)\n\n    }\n\n    // Posts HIL Failure to API\n    const onHilFailure = async () => {\n        let newItem = {\n            ...item,\n            hil_response: false\n        }\n        delete newItem._id\n\n        dispatchGetTaskQueue()\n        await putTaskQueueItem(newItem, taskQueueID)\n        dispatchTaskQueueItemClicked('')\n    }\n\n    // updates max quantity\n    useEffect(() => {\n        let newMax\n\n        // If its a warehouse, use the prev station\n        if (!!warehouse) {\n            newMax = getBinQuantity(lot, getPreviousWarehouseStation(lot.process_id, stationID)._id)\n        }\n        else {\n            newMax = getBinQuantity(lot, stationId || loadStationId)\n        }\n\n        if (parseInt(maxQuantity) !== parseInt(newMax)) setMaxQuantity(newMax)\n    }, [lot, stationId, loadStationId, maxQuantity]);\n\n    useEffect(() => {\n        setUnloadStationName(getStationName(unloadStationId))\n    }, [unloadStationId, stations])\n\n    useEffect(() => {\n        setLoadStationName(getStationName(loadStationId))\n    }, [loadStationId, stations])\n\n\n    const renderUnloadContent = useCallback(() => {\n        const {\n            quantity,\n            fraction\n        } = item || {}\n\n        const {\n            track_quantity: trackQuantity\n        } = task || {}\n\n        const unloadQuantity = trackQuantity ? quantity : Math.ceil(maxQuantity * fraction)\n\n        return (\n            <div style={{ alignSelf: \"center\", display: \"flex\", flexDirection: \"row\", minHeight: \"15rem\", alignItems: \"center\" }}>\n                <styled.InfoText>{`Unload `}</styled.InfoText>\n                <styled.InfoText emphasize={true}>{` ${unloadQuantity} `}</styled.InfoText>\n                <styled.InfoText>{` item${unloadQuantity > 1 ? 's' : ''} from `}</styled.InfoText>\n                <styled.InfoText emphasize={true}>{` ${loadStationName} `}</styled.InfoText>\n                <styled.InfoText>{` to `}</styled.InfoText>\n                <styled.InfoText emphasize={true}>{` ${unloadStationName}`}</styled.InfoText>\n            </div>\n        )\n    }, [item, loadStationName, unloadStationName, task])\n\n    const renderFractionOptions = useCallback(() => {\n        return (\n            <div style={{ alignSelf: \"stretch\", display: \"flex\", flexDirection: \"column\", overflow: \"hidden\", minHeight: \"15rem\" }}>\n                <styled.SubtitleContainer>\n                    <styled.HilSubtitleMessage>Select Fraction</styled.HilSubtitleMessage>\n                </styled.SubtitleContainer>\n\n                <ScrollContainer>\n                    {fractionOptions.map((value, ind) => {\n                        const decimal = fractionDecimals[ind]\n                        return (\n                            <HilButton\n                                containerCss={styled.fractionButtonCss}\n                                key={value}\n                                color={'#90eaa8'}\n                                label={`${value} (Quantity ${Math.ceil(maxQuantity * decimal)})`}\n                                filter={Math.cbrt(eval(value))}\n                                onClick={() => {\n                                    onHilSuccess(decimal)\n                                }}\n                            />\n                        )\n                    })}\n                </ScrollContainer>\n            </div>\n        )\n    }, [maxQuantity]);\n\n    const renderQuantitySelector = useCallback(() => {\n\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                }}\n            >\n                <styled.SubtitleContainer>\n                    <styled.HilSubtitleMessage>Enter Quantity</styled.HilSubtitleMessage>\n                </styled.SubtitleContainer>\n\n                <NumberField\n                    minValue={1}\n                    maxValue={maxQuantity}\n                    name={`quantity`}\n                />\n\n                {!!lotId &&\n                    <FlexibleContainer>\n                        <styled.InfoText style={{ marginBottom: \"1rem\" }}>{`There are ${maxQuantity} items available in the current lot.`}</styled.InfoText>\n                    </FlexibleContainer>\n                }\n            </div>\n        )\n    }, [maxQuantity])\n\n    if (dataLoaded && modalClosed !== true) {\n        const {\n            _id: lotId,\n            process_id: processId\n        } = lot || {}\n\n        const {\n            quantity,\n            fraction\n        } = item || {}\n\n        const {\n            track_quantity: trackQuantity\n        } = task || {}\n\n        const unloadQuantity = trackQuantity ? quantity : Math.ceil(maxQuantity * fraction)\n\n        return (\n            <Formik\n                validationSchema={hilModalSchema}\n                innerRef={formRef}\n                initialValues={{\n                    quantity: !!maxQuantity ? maxQuantity : 0,\n                    fraction: null\n                }}\n                validateOnChange={true}\n                validateOnBlur={true}\n            >\n                <styled.ModalContainer\n                    isOpen={true}\n                    style={{\n                        overlay: {\n                            zIndex: 5000,\n                            backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                            backdropFilter: 'blur(5px)',\n                            transition: 'backdrop-filter 3s ease',\n                        },\n                        content: {\n                            zIndex: 5000,\n                        },\n                    }}\n                >\n\n                    <styled.Header>\n                        <styled.ColumnContainer>\n                            <styled.HilMessage>{hilMessage}</styled.HilMessage>\n                            <styled.HilTimer\n                                visible={!!hilTimers[item._id] && hilLoadUnload === 'load'}\n                            >{!!hilTimers[item._id] && hilLoadUnload === 'load' ? hilTimers[item._id] : \"\"}</styled.HilTimer>\n                        </styled.ColumnContainer>\n                    </styled.Header>\n\n\n                    <styled.Body>\n                        <styled.InnerContentContainer>\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    alignSelf: \"stretch\",\n                                    overflow: \"auto\",\n                                    paddingTop: \"1rem\",\n                                    justifyContent: \"space-between\",\n                                    flex: 1,\n                                }}\n                            >\n                                {!!lotId &&\n                                    // Only render this info if there is a lot\n                                    <styled.LotInfoContainer>\n                                        <styled.SubtitleContainer>\n                                            <styled.HilSubtitleMessage>Current Lot</styled.HilSubtitleMessage>\n                                        </styled.SubtitleContainer>\n\n                                        {!phoneView ?\n                                          <ScaleWrapper\n                                              scaleFactor={isMobile ? 0.75 : 1}\n                                          >\n                                              <LotContainer\n                                                  showCustomFields={false}\n                                                  lotId={lotId}\n                                                  quantity={hilLoadUnload === 'unload' ? unloadQuantity : null}\n                                                  binId={\n                                                      // If its a warehouse, the bin is going to be the previous station\n                                                      !!warehouse ?\n                                                          getPreviousWarehouseStation(processId, stationID)._id\n                                                          :\n                                                          hilLoadUnload === 'load' ?\n                                                              stationId || loadStationId\n                                                              :\n                                                              unloadStationId\n\n                                                  }\n                                                  processId={processId}\n                                                  containerStyle={{ margin: 0, padding: 0, width: '100%' }}\n                                              />\n                                          </ScaleWrapper>\n                                          :\n                                          <styled.InfoText>{lot.name}</styled.InfoText>\n                                        }\n\n                                    </styled.LotInfoContainer>\n                                }\n\n                                {\n                                    {\n                                        [CONTENT.QUANTITY_SELECTOR]: renderQuantitySelector(),\n                                        [CONTENT.FRACTION_SELECTOR]: renderFractionOptions(),\n                                        [CONTENT.UNLOAD]: renderUnloadContent(),\n                                    }[content] ||\n                                    null\n                                }\n                            </div>\n                        </styled.InnerContentContainer>\n\n                        <styled.HilButtonContainer>\n                            {\n                                {\n                                    [CONTENT.QUANTITY_SELECTOR]:\n                                        <>\n                                            <HilButton\n                                                label={\"Continue\"}\n                                                color={'#90eaa8'}\n                                                iconName={'fas fa-check'}\n                                                iconColor={'#1c933c'}\n                                                textColor={'#1c933c'}\n                                                onClick={() => {\n                                                    onHilSuccess()\n                                                }}\n                                            />\n                                            <HilButton\n                                                label={\"Cancel\"}\n                                                onClick={() => {\n                                                    onHilFailure()\n                                                    dispatchSetShowModalId(null)\n                                                    setModalClosed(true)\n                                                }}\n                                                iconName={'fas fa-times'}\n                                                color={'#ff9898'}\n                                                textColor={'#1c933c'}\n                                            />\n                                        </>,\n                                    [CONTENT.FRACTION_SELECTOR]:\n                                        <>\n                                            <HilButton\n                                                label={\"Cancel\"}\n                                                onClick={() => {\n                                                    onHilFailure()\n                                                    dispatchSetShowModalId(null)\n                                                    setModalClosed(true)\n                                                }}\n                                                iconName={'fas fa-times'}\n                                                color={'#ff9898'}\n                                                textColor={'#1c933c'}\n                                            />\n                                        </>,\n                                    [CONTENT.UNLOAD]:\n                                        <>\n                                            <FlexibleContainer>\n                                                <HilButton\n                                                    containerCss={styled.unloadButtonCss}\n                                                    iconName='fas fa-check'\n                                                    color={'#90eaa8'}\n                                                    onClick={() => {\n                                                        onHilSuccess()\n                                                        dispatchSetShowModalId(null)\n                                                    }}\n                                                />\n                                            </FlexibleContainer>\n                                        </>,\n                                }[content] ||\n                                null\n                            }\n                        </styled.HilButtonContainer>\n                    </styled.Body>\n                </styled.ModalContainer>\n            </Formik >\n        )\n    }\n    else {\n        return null\n    }\n}\n\nHILModals.propTypes = {\n\n};\n\nHILModals.defaultProps = {\n\n};\n\nexport default HILModals\n","import styled, {css} from \"styled-components\";\n\nconst HilButtonCss = css`\n  border: none;\n\n    border-radius: 1rem;\n    box-shadow: 0 0.1rem 0.2rem 0rem #303030;\n    height: 100%;\n    min-height: 4rem;\n    max-height: 7rem;\n    //width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    transition: background-color 0.25s ease, filter 0.1s ease;\n    background-color: ${props => props.color};\n    \n    filter: brightness(${props => props.filter});\n\n    &:focus{\n        outline: 0 !important\n    }\n\n    &:active{\n        box-shadow: none;\n        filter: brightness(85%);\n    }\n`\n\nexport const HilButtonText = styled.p`\n    color:  ${props => props.color};\n    font-size: 2rem;\n    margin: 0;\n    padding: 0;\n    filter: brightness(50%);\n    \n    -moz-user-select: none;\n    -webkit-user-select: none; \n    -ms-user-select:none; \n    user-select:none;\n    -o-user-select:none;\n    \n    ${props => props.css && props.css};\n`\n\n\nexport const Container = styled.button`\n    ${HilButtonCss};\n    align-items: center;\n    justify-content: flex-start;\n    //align-self: stretch;\n\n    display: flex;\n    flex-direction: row;\n    padding: 0rem 3rem;\n    align-items: center;\n    ${props => props.disabled && \"filter: grayscale(80%)\"};\n    \n    ${props => props.css && props.css};\n`\n\nexport const HilIcon = styled.i`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    //margin: auto auto;\n    color:  ${props => props.color};\n    fill: green;\n    font-size: 2.5rem;\n    filter: brightness(50%);\n    margin-right: 2rem;\n    width: 2rem;\n    \n    ${props => props.css && props.css};\n`","import React from 'react';\nimport PropTypes from 'prop-types';\n\n\nimport * as styled from \"./hil_button.style\";\nimport FlexibleContainer from \"../../basic/flexible_container/flexible_container\";\n\nconst HilButton = (props) => {\n\n\tconst {\n\t\tlabel,\n\t\tonClick,\n\t\tcolor,\n\t\ticonColor,\n\t\ticonName,\n\t\ttextColor,\n\t\tcontainerCss,\n\t\ticonCss,\n\t\ttextCss\n\t} = props\n\n\treturn (\n\t\t<FlexibleContainer>\n\t\t<styled.Container\n\t\t\tcolor={color}\n\t\t\tonClick={onClick}\n\t\t\tcss={containerCss}\n\t\t>\n\t\t\t{iconName &&\n\t\t\t<styled.HilIcon\n\t\t\t\tclassName={iconName}\n\t\t\t\tcolor={color}\n\t\t\t\tcss={iconCss}\n\n\t\t\t/>\n\t\t\t}\n\t\t\t<styled.HilButtonText\n\t\t\t\t// style=\"-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none;\"\n\t\t\t\tunselectable=\"on\"\n\t\t\t\tonselectstart=\"return false;\"\n\t\t\t\tonmousedown=\"return false;\"\n\t\t\t\tcolor={color}\n\t\t\t\tcss={textCss}\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</styled.HilButtonText>\n\t\t</styled.Container>\n\t\t</FlexibleContainer>\n\t);\n};\n\nHilButton.propTypes = {\n\tlabel: PropTypes.string,\n\tonClick: PropTypes.string\n};\n\nHilButton.defaultProps = {\n\tlabel: \"\",\n\tonClick: () => {},\n};\n\nexport default HilButton;\n","import styled, {css} from \"styled-components\";\n\nexport const Container = styled.div`\n  //   max-width: ${props => props.width};\n  //   min-width: ${props => props.width};\n  //   width: ${props => props.width};\n  //\n  //   max-height: ${props => props.height};\n  //   min-height: ${props => props.height};\n  //   height: ${props => props.height};\n  // //width: auto;\n  //   background: red;\n\t// position: relative;\n`\n\nexport const ScaleContainer = styled.div`\n\t//transform: scale(${props => props.scaleFactor}) translate(${props => `-12.3%`}, ${props => `-12.3%`});\n\t//position: absolute;\n  //left: 0;\n  zoom: ${props => props.scaleFactor};\n`","import React, {useEffect, useRef, useState} from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as styled from \"./scale_wrapper.style\"\n\nconst ScaleWrapper = (props) => {\n\n    const {\n        children,\n        scaleFactor\n    } = props\n\n    const [size, setSize] = useState({\n        offsetWidth: undefined,\n        offsetHeight: undefined,\n        offsetLeft: undefined,\n        offsetTop: undefined,\n    })\n    const {\n        offsetHeight,\n        offsetWidth,\n        offsetTop,\n        offsetLeft\n    } = size || {}\n\n    const sizeRef = useRef(null)\n    const {\n        offsetHeight: refOffsetHeight,\n        offsetWidth: refOffsetWidth,\n        offsetTop: refOffsetTop,\n        offsetLeft: refOffsetLeft\n    } = sizeRef.current || {}\n\n    useEffect(() => {\n\n        // if sizeRef is assigned\n        if (sizeRef.current) {\n\n            const {\n                offsetHeight,\n                offsetWidth,\n                offsetTop,\n                offsetLeft\n            } = sizeRef.current || {}\n\n            // set zoneSize\n            setSize({\n                offsetHeight,\n                offsetWidth,\n                offsetTop,\n                offsetLeft\n            });\n        }\n\n    }, [sizeRef, refOffsetWidth, refOffsetHeight])\n\n    return (\n        <styled.Container\n            width={`${Math.round(offsetWidth * scaleFactor)}px`}\n            height={`${Math.round(offsetHeight * scaleFactor)}px`}\n        >\n            <styled.ScaleContainer\n                ref={sizeRef}\n                scaleFactor={scaleFactor}\n            >\n                {children}\n\n            </styled.ScaleContainer>\n\n        </styled.Container>\n    );\n};\n\nScaleWrapper.propTypes = {\n    scaleFactor: PropTypes.number,\n};\n\nScaleWrapper.defaultProps = {\n    scaleFactor: 0.5,\n};\n\nexport default ScaleWrapper;\n","import styled, { css } from 'styled-components'\nimport {containerCss} from \"../hil_modals.style\";\nimport Modal from 'react-modal';\n\n\nexport const Container = styled(Modal)`\n    ${containerCss};\n    background: ${ props => props.theme.bg.secondary};\n    padding: 2rem;\n    justify-content: center;\n`","import React, { useState, useMemo, useEffect } from 'react';\n\n// Import Styles\nimport * as hilStyles from '../hil_modals.style'\nimport * as styled from './hil_success.style'\n\nconst HILSuccess = (props) => {\n\n    return(\n        <styled.Container\n            isOpen={true}\n            style={{\n                overlay: {\n                    zIndex: 5000,\n                    backgroundColor: 'rgba(0, 0, 0, 0.25)',\n                    backdropFilter: 'blur(5px)',\n                    transition: 'backdrop-filter 3s ease',\n                },\n                content: {\n                    zIndex: 5000,\n                },\n            }}\n        >\n            <hilStyles.HilIcon color='green' style={{fontSize:'6rem'}} className='fas fa-check'/>\n            <hilStyles.HilMessage>Task has been added to the Queue</hilStyles.HilMessage>\n        </styled.Container>\n    )\n}\n\nexport default HILSuccess","import React, { useState, useMemo, useRef, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\n// Import Components\nimport HILModals from '../../components/hil_modals/hil_modals'\nimport HILSuccess from '../../components/hil_modals/hil_modals_content/hil_success'\nimport { deepCopy } from '../../methods/utils/utils';\nimport { setShowModalId } from '../../redux/actions/task_queue_actions'\n\nconst HILModal = () => {\n\n    const params = useParams()\n    const dispatch = useDispatch()\n\n    // Adds HIL timer to taskQueueReducer so it can be used in other areas such as status_header\n    const onSetHilTimers = (timers) => dispatch({ type: 'HIL_TIMERS', payload: timers })\n    const onSetActiveHilDashboards = (active) => dispatch({ type: 'ACTIVE_HIL_DASHBOARDS', payload: active })\n    const onSetShowModalId = (id) => dispatch(setShowModalId(id))\n\n    let status = useSelector(state => { return state.statusReducer.status })\n    const dashboards = useSelector(state => { return state.dashboardsReducer.dashboards })\n    const taskQueue = useSelector(state => state.taskQueueReducer.taskQueue)\n    const taskQueueItemClicked = useSelector(state => state.taskQueueReducer.taskQueueItemClicked)\n    const stations = useSelector(state => state.stationsReducer.stations)\n    const hilTimers = useSelector(state => state.taskQueueReducer.hilTimers)\n    const tasks = useSelector(state => state.tasksReducer.tasks)\n    const hilResponse = useSelector(state => state.taskQueueReducer.hilResponse)\n    const activeHilDashboards = useSelector(state => state.taskQueueReducer.activeHilDashboards)\n    const devices = useSelector(state => state.devicesReducer.devices)\n    let selectedTask = useSelector(state => state.tasksReducer.selectedTask)\n    const localHumanTask = useSelector(state => state.taskQueueReducer.localHumanTask)\n    const showModalId = useSelector(state => state.taskQueueReducer.showModalID)\n    const [statusTimerIntervals, setStatusTimerIntervals] = useState({})\n    const dashboardID = params.dashboardID\n    const stationID = params.stationID\n    const deviceDashboard = !!devices ? !!devices[stationID] : false\n\n    /**\n     * Handles any task that should be displaying a HIL\n     * useMemo for performance reasons, should only rerender if taskQueue changes and dashbaordID params\n     */\n    const handleHilsInTaskQueue = useMemo(() => {\n        // Handles if a task queue item was clicked and displays that item\n        if (!!taskQueueItemClicked && !!taskQueue[taskQueueItemClicked]) {\n\n            const item = taskQueue[taskQueueItemClicked]\n            const type = item.device_type\n            const hilType = tasks[item.task_id].type\n\n            // Sets the HIL Message, the reason why it would undefined is that its a human load task\n            // Since a human load task needs to immediatly show, its immediatly put into the task Q vs telling the backend to put it into the task Q\n            // since it doesnt come from the backend, there's no hil message in the task Q Item\n            let hilMessage = item.hil_message\n            if (!hilMessage) {\n                hilMessage = tasks[item.task_id].load.instructions\n            }\n\n            if (type === 'human') {\n                onSetShowModalId(item._id)\n            }\n\n            else if (!!taskQueue[taskQueueItemClicked].hil_station_id) {\n                onSetShowModalId(item._id)\n            }\n\n            //else {return null}\n        }\n\n        // Used to hide the HIL if success was clicked. (See HIL_Modals)\n        if (hilResponse === 'load') {\n            return <HILSuccess />\n        }\n        if (hilResponse === 'unload') return\n\n        return Object.values(taskQueue).forEach((item) => {\n            const id = item._id\n\n            // If the task queue item has a HIL and it's corresponding dashboard id is not in the activeHILDasbaords list then display HIL.\n            // Dashboards can only have 1 HIL at a time, if the task queue has 2 HILS for the same dashboards, then only read the\n            // most recent in the list\n            //\n            // Do not display HIL if the tasks device type is human, if it's a human, and unload button will appear on the dashboard\n            if (!!item.hil_station_id && !!tasks[item.task_id] && item.device_type !== 'human') {\n\n                // Loops through all ascociated dashboards at that location\n                stations[item.hil_station_id].dashboards.forEach((dashboard) => {\n\n                    // if the list of active hil dashboards does not include the dashboard then add\n                    if (!Object.keys(activeHilDashboards).includes(dashboard)) {\n                        // activeHilDashboards.push(dashboard)\n                        onSetActiveHilDashboards({\n                            ...activeHilDashboards,\n                            [dashboard]: id,\n                        })\n                    }\n                })\n\n                // If active hils matches the dashboard selected (found in params) then display hil\n                // if (dashboardID === item.hil_station_id && !dashboards[dashboardID].unsubcribedHILS.includes(item.hil.taskID)) {\n                if (Object.keys(activeHilDashboards).includes(dashboardID) && !showModalId) {\n                    onSetShowModalId(item._id)\n                }\n\n                // If a device dashboard, then show all associated HILs\n                else if (deviceDashboard) {\n                    onSetShowModalId(item._id)\n                }\n                else {\n                    //return null\n                }\n            }\n\n            // Else if the task q item has a dashboardID and the dashboardID matches current dashboard, then show that dashboard\n            // The reason this happens is that it's a human task and the person hit a dashboard button (see dashboard_screen).\n            // The HIL modal needs to immediatly show because the backend will be too slow to respond to show that dashboard after button click\n            else if (!!item.dashboard && item.dashboard === dashboardID && localHumanTask === item._id) {\n\n                let hilMessage = item.hil_message\n                if (!hilMessage) {\n                    hilMessage = tasks[item.task_id].load.instructions\n                }\n                if (item.hil_response !== false) {\n                    onSetShowModalId(item._id)\n                }\n\n            }\n\n            // If there is a modal ID, but the corresponding Task Q item either doesnt have a station id (the task q item is in between load and unload) or the task q item doesnt exits anymore\n            // Then remove the modal id and close the hil\n            // Keep in mind that there is a useEffect in hil_modals that has a return statement that deletes the active hil dashboard from the activeHilDashboarsd object\n            // Thats why Its not done here\n            else if (!!showModalId && (!taskQueue[showModalId] || taskQueue[showModalId].hil_station_id === null)) {\n                onSetShowModalId(null)\n            }\n\n        })\n\n    }, [taskQueue, dashboardID, taskQueueItemClicked, hilResponse, localHumanTask])\n\n\n    const renderHIL = useMemo(() => {\n        if (showModalId !== null && !!taskQueue && Object.values(taskQueue).length > 0 && taskQueue[showModalId] !== undefined) {\n            const item = taskQueue[showModalId]\n            let hilMessage = item.hil_message\n\n            const task = tasks[item.task_id]\n            const hilType = task.type\n            if (item.device_type === 'human') {\n                const loadStation = stations[task.load.station]\n                // If its the load station includes the task q item dashboard, then its a load hil, show load isntructions\n                if (loadStation.dashboards.includes(item.dashboard)) {\n                    hilMessage = task.load.instructions\n                }\n                // Else unload messsage\n                else {\n                    hilMessage = task.unload.instructions\n\n                }\n            }\n            return <HILModals hilMessage={hilMessage} hilType={hilType} taskQuantity={item.quantity} taskQueueID={item._id} item={item} />\n        }\n        else {\n            return null\n        }\n\n    },[taskQueue, showModalId, tasks])\n\n    /**\n     * Handles HIL timers and adds them to Redux\n     *\n     * Logic in this function is a little confusing at first.\n     *\n     * What this does is map through each item in the task Q and give that Item an interval based on the times sent from the back end\n     * But, if this item already has an interval, don't add a new one to it.\n     * If the interval is running, but the Task Q item does not have a station ID, then a HIL should not be displaying so remove the current interval\n     *\n     * After the first maping loop there's an if statement to make sure that the interval's task Q item is still in the task Q, if it's not, then remove the interval\n     */\n    const handleHILTimers = useMemo(() => {\n\n        Object.keys(taskQueue).forEach((id, ind) => {\n\n            const item = taskQueue[id]\n\n            // If the item in task queue has an ascociated station_id, a hil must be displaying\n            if (!!item.hil_station_id) {\n\n                // If the state of timers running includes the task queue id, that means the timer is still running\n                if (!!statusTimerIntervals[id]) {\n                }\n\n                // If the state doesnt include the task queue id, then the timer hasn't started yet on the front end\n                else if (!statusTimerIntervals[id]) {\n\n                    // Add the timer to the state, so multiple timers are not started\n                    setStatusTimerIntervals({\n                        ...statusTimerIntervals,\n                        [id]: true,\n                    })\n\n                    let startTime = item.hil_start_time\n                    let timer = item.hil_timeout\n\n                    //Get the time since Epoch\n                    const frontEndTime = Date.now() / 1000\n\n                    //Find the difference between the time of the front end vs the backend and set timer\n                    const biasedTime = frontEndTime - startTime\n                    let biasedTimer = timer - biasedTime\n\n                    //Timer interval in seconds\n                    const timerInterval = 1\n\n                    //Set the timer in state\n                    setStatusTimerIntervals({\n                        ...statusTimerIntervals,\n                        [id]: setInterval(() => {\n\n                            // Can change the timer interval\n                            biasedTimer = biasedTimer - timerInterval\n\n                            // Add the timer to r{edux\n                            onSetHilTimers({\n                                ...hilTimers,\n                                [item._id]: biasedTimer.toFixed(0),\n                            })\n                            //If the timer goes to Zero then stop the timer\n                            if (biasedTimer <= 0) {\n                                onSetHilTimers({\n                                    ...hilTimers,\n                                    [item._id]: 0,\n                                })\n\n                                // Update redux\n                                delete hilTimers[item._id]\n                                onSetHilTimers({\n                                    ...hilTimers,\n                                })\n\n                                //  Delete the timer in the state\n                                if (!!statusTimerIntervals[id]) {\n                                    clearInterval(statusTimerIntervals[id])\n                                    delete statusTimerIntervals[id]\n                                    setStatusTimerIntervals({\n                                        ...statusTimerIntervals,\n                                    })\n                                }\n\n                            }\n\n                        }, timerInterval * 1000)\n                    })\n                }\n\n            }\n\n            // If the task queue item does not have a station id but has a timer running, that means the timer should stop\n            else if (!item.hil_station_id && !!statusTimerIntervals[id]) {\n\n                const activeHilCopy = deepCopy(activeHilDashboards)\n\n                Object.keys(activeHilDashboards).forEach((dash) => {\n                    if (activeHilDashboards[dash] === id) {\n                        delete (activeHilCopy[dash])\n                    }\n                })\n\n                // Deletes the dashboard id from active list for the hil that has been responded too\n                onSetActiveHilDashboards(activeHilCopy)\n\n                // Clear the interval which is stored in state and delete that ID from state\n                clearInterval(statusTimerIntervals[id])\n                delete statusTimerIntervals[id]\n                setStatusTimerIntervals({\n                    ...statusTimerIntervals,\n                })\n\n                // Update redux\n                delete hilTimers[item._id]\n                onSetHilTimers({\n                    ...hilTimers,\n                })\n            }\n        })\n\n        // If the length of intervals is greater then 0 check to make sure the ascoiated task q item is still in task q\n        if (Object.keys(statusTimerIntervals).length > 0) {\n\n            Object.keys(statusTimerIntervals).forEach((id, ind) => {\n\n                // If Item is not in task q, end the interval\n                if (!taskQueue[id]) {\n                    clearInterval(statusTimerIntervals[id])\n                    delete statusTimerIntervals[id]\n                    setStatusTimerIntervals({\n                        ...statusTimerIntervals,\n                    })\n                }\n            })\n        }\n\n    }, [taskQueue, hilTimers])\n\n    const handleActiveHilDashboardRemoved = () => {\n\n        let hilRemoved = true\n\n        Object.keys(taskQueue).forEach((id, ind) => {\n            const item = taskQueue[id]\n\n        })\n\n    }\n\n    return (\n\n        <>\n            {handleHilsInTaskQueue}\n            {handleHILTimers}\n            {renderHIL}\n        </>\n    )\n}\n\nexport default HILModal\n","import styled from \"styled-components\";\n\nexport const WarningIcon = styled.i`\n    color: ${props => props.color};\n    z-index: 10;\n    pointer-events:all;\n\n    // position: absolute;\n    // top: 50%;\n    // right: 1rem;\n    // transform: translateY(-50%);\n    // margin-left: 1rem;\n    opacity: ${props => props.visible ? 1 : 0};\n\n    position: relative;\n\n    z-index: 2;\n`;\n\nexport const StyledInput = styled.input`\n    width: 0;\n    height: 0;\n    position: absolute;\n    z-index: 0;\n    opacity:0;\n    cursor: default;\n\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n`;\n\nexport const IconContainer = styled.div`\n    //position: absolute;\n    width: auto;\n    height: auto;\n\n    position: absolute;\n    margin-bottom:1rem;\n    top: 50%;\n    right: 1rem;\n    transform: translateY(-50%);\n    margin-left: 1rem;\n`;\n","// import external dependencies\nimport React, { useState, useEffect, useRef } from 'react';\nimport ReactTooltip from \"react-tooltip\";\n\nimport Portal from \"../../../../higher_order_components/portal\";\n\nimport { uuidv4 } from '../../../../methods/utils/utils'\n\n// import styles\nimport * as styled from './error_tooltip.style';\nimport DropDownSearchField from \"../drop_down_search_field/drop_down_search_field\";\nimport theme from '../../../../theme'\n\nconst ErrorTooltip = (props) => {\n\n    const {\n        ContainerComponent,\n        text,\n        visible,\n        onClick,\n        className,\n        color,\n        containerStyle,\n        tooltip,\n        type\n    } = props\n\n    // target input for initial display of tooltip\n    const inputRef = useRef(null);\n\n    // required for initial display of tooltip\n    const [autoFocus, setAutoFocus] = useState(false);\n\n    // unique id for tooltip\n    const [id, setId] = useState(uuidv4());\n\n    // input is initially focused to show tooltip, then blurred after timeout to hide it\n    useEffect(\n        () => {\n            if (autoFocus) {\n                let timer1 = setTimeout(() => setAutoFocus(false), 3000)\n\n                // this will clear Timeout when component unmount like in willComponentUnmount\n                return () => {\n                    clearTimeout(timer1)\n                }\n            }\n\n        },\n        [] //useEffect will run only one time\n        //if you pass a value to array, like this [data] than clearTimeout will run every time this value changes (useEffect re-run)\n    )\n\n    // useEffect(() => {console.log('rebuild'); ReactTooltip.rebuild()}, [tooltip])\n\n\n    // useEffect(() => {\n    //     if (autoFocus) {\n    //         inputRef.current.focus();\n    //     } else {\n    //         inputRef.current.blur();\n    //     }\n    // }, [autoFocus]);\n\n    return (\n\n        <ContainerComponent\n            style={containerStyle}\n        >\n            {/*initial display on load*/}\n            {autoFocus && visible &&\n                //wrap in portal to avoid clipping issues\n                <Portal>\n                    <ReactTooltip style={{ zIndex: 20 }} delayShow={250} event={'focus'} eventOff={'blur'} id={id} effect='solid' type={type}>\n                        <span>{text}</span>\n                    </ReactTooltip>\n                </Portal>\n\n            }\n\n            {/* only show on hover after initial display */}\n            {!autoFocus && visible && tooltip &&\n                // NOTE: portal does not allow dynamic content\n                <div>\n                    <ReactTooltip eventOff={'mouseout'} id={id} effect='solid' type={type}>\n                        {text &&\n                            <span>{text}</span>\n                        }\n                        {tooltip && tooltip}\n                    </ReactTooltip>\n                </div>\n            }\n\n            {!autoFocus && visible && !tooltip &&\n                //wrap in portal to avoid clipping issues\n                <Portal>\n                    <ReactTooltip eventOff={'mouseout'} id={id} effect='solid' type={type}>\n                        {text &&\n                            <span>{text}</span>\n                        }\n                    </ReactTooltip>\n                </Portal> \n            }\n\n            {autoFocus &&\n                <styled.StyledInput\n                    visible={visible}\n                    ref={inputRef}\n                    readOnly={true}\n                    // hidden={true}\n                    // autoFocus={autoFocus}\n                    event={'focus'}\n                    data-tip\n                    data-for={id}\n                />\n            }\n\n            <styled.WarningIcon\n                visible={visible}\n                color={color}\n                className={className}\n                data-tip\n                data-for={id}\n                onClick={onClick}\n            />\n        </ContainerComponent>\n\n    );\n\n}\n\n// Specifies the default values for props:\nErrorTooltip.defaultProps = {\n    ContainerComponent: styled.IconContainer,\n    className: \"fas fa-exclamation-triangle\",\n    color: theme.main.error,\n    type: 'error'\n};\n\nexport default React.memo(ErrorTooltip);","import styled, { css } from 'styled-components'\n\n\nexport const overflowTextCss = css`\n  overflow: hidden;\n  //white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\n\nexport const glow = (color) => css`\n\tbox-shadow: 0px 0px 5px ${color} ;\n\tborder-color: ${color};\n`\n\nexport const glow2 = (color) => css`\n\tbox-shadow: 0 0 5px ${color} ;\n\tborder-color: ${color};\n`\n\nexport const errorGlow = css`\n  ${props => glow(props.theme.bad)};\n`;\n\nexport const newGlow = css`\n  ${props => glow(props.theme.warn)};\n`;\n\nexport const goodGlow = css`\n  ${props => glow(props.theme.good)};\n`;\n\nexport const rowContainer = css`\n    display: flex;\n    flex-direction: row;\n`\n\nexport const columnContainer = css`\n    display: flex;\n    flex-direction: column;\n`\nexport const commonIcon = css`\n    //border: none;\n    //font-size: 2rem;\n    transition: all 0.25s ease;\n    color: ${props => props.color};\n\n\n    filter: brightness(${props => props.filter});\n\n    &: focus{\n        //outline: 0 !important\n    }\n    \n    &: hover {\n        cursor: pointer;\n        filter: brightness(110 %);\n    }\n\n    &: active{\n        //box-shadow: none;\n        filter: brightness(85 %);\n    }\n`\nexport const whiteGlow = css`\n  ${props => glow2(\"#00aaff\")};\n`;\n\nexport const iconButtonCss = `\n  border: none;\n  background: transparent;\n  padding: 0;\n  outline: none !important;\n`\n\nexport const disabledButtonCss = css`\n  cursor: not-allowed;\n  background: ${props => props.theme.disabled};\n  \n`\n\nexport const commonClickableIcon = css`\n  ${commonIcon};\n  \n  &:focus{\n    //outline: 0 !important\n  }\n  \n  &:hover {\n    cursor: pointer;\n    filter: brightness(110%);\n  }\n\n  &:active{\n    //box-shadow: none;\n    filter: brightness(85%);\n  }\n\n  \n\n`\n\nexport const trapezoidCss = `\n  \n  border-bottom: 50px solid #555;\n  border-left: 25px solid transparent;\n  border-right: 25px solid transparent;\n  height: 0;\n  width: 125px;\n  \n  \n  // width: 200px;\n  // height: 150px;\n  // background: red;\n  transform: perspective(10px) rotateX(1deg);\n  // margin: 50px;\n`","export const getMessageFromError = (err) => {\n    if(err) {\n\n        // err is array\n        if( Array.isArray(err) ) {\n            const firstErr = err[0] // get first item from arr and call recursively\n            return getMessageFromError(firstErr)\n\n        }\n\n        // err is object\n        if(typeof(err) === \"object\") {\n            const firstErr = Object.values(err) // convert to arr and call recursively\n            return getMessageFromError(firstErr)\n        }\n\n        // err is string - return\n        if(typeof(err) === \"string\") {\n            return err;\n        }\n    }\n\n    // default message\n    return null\n}\n\nexport const getSubmitDisabled = ({errors, touched, isSubmitting, submitCount}) => {\n    const errorCount = Object.keys(errors).length > 0 // get number of field errors\n    const touchedCount = Object.values(touched).length // number of touched fields\n    return ((errorCount > 0)  )\n}","import React from 'react';\nimport styled from '@emotion/styled';\nimport PropTypes from 'prop-types';\n\nclass ClickOutside extends React.Component {\n  container = React.createRef();\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleClick,{capture:true, passive:true});\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleClick, true);\n  }\n\n  handleClick = (event) => {\n    const container = this.container.current;\n    const { target } = event;\n    const { onClickOutside } = this.props;\n\n    if ((container && container === target) || (container && !container.contains(target))) {\n      onClickOutside(event);\n    }\n  };\n\n  render() {\n    const { className, children, ClickOutsideComponent } = this.props;\n\n    return (\n      <ClickOutsideComponent className={className} ref={this.container}>\n        {children}\n      </ClickOutsideComponent>\n    );\n  }\n}\n\nconst DefaultClickOutsideComponent = styled.div`\n\n`;\n\nClickOutside.propTypes = {\n  onClickOutside: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  className: PropTypes.string\n};\n\nClickOutside.defaultProps = {\n  ClickOutsideComponent: DefaultClickOutsideComponent\n};\n\n\nexport default ClickOutside;\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport styled from 'styled-components'\n\nimport { LightenDarkenColor } from '../../../../methods/utils/color_utils'\n\nfunction Label(props) {\n    return (\n        <props.LabelComponent>\n            {props.label}\n        </props.LabelComponent>\n    )\n}\n\nconst DefaultLabelComponent = styled.div`\n    width: 100%;\n    text-align: center;\n    font-weight: 200;\n\n    background: ${props => LightenDarkenColor(props.theme.bg.secondary, -10)};\n    color: ${props => props.theme.bg.quinary};\n    font-family: ${props => props.theme.font.primary};\n    font-size: ${props => props.theme.fontSize.sz5};\n`\n\nLabel.propTypes = {\n    LabelComponent: PropTypes.elementType,\n    label: PropTypes.string,\n}\n\nLabel.defaultProps = {\n    LabelComponent: DefaultLabelComponent,\n    label: '',\n}\n\nexport default Label\n\n","export const valueExistInSelected = (value, values, props) =>\n  !!values.find((val) => getByPath(val, props['valueField']) === value);\n\nexport const hexToRGBA = (hex, alpha) => {\n  const RR = parseInt(hex.slice(1, 3), 16);\n  const GG = parseInt(hex.slice(3, 5), 16);\n  const BB = parseInt(hex.slice(5, 7), 16);\n\n  return `rgba(${RR}, ${GG}, ${BB}${alpha && `, ${alpha}`})`;\n};\n\nexport const debounce = (fn, delay = 0) => {\n  let timerId;\n\n  return (...args) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    timerId = setTimeout(() => {\n      fn(...args);\n      timerId = null;\n    }, delay);\n  };\n};\n\nexport const isEqual = (a, b) => JSON.stringify(a) === JSON.stringify(b);\n\nexport const getByPath = (object, path) => {\n  // console.log('getByPath: {object, path}', {object, path})\n\n  let new_path = path.split('.')\n  // console.log('getByPath: new_path', {new_path})\n\n  if (!path) {\n    return;\n  }\n\n  return path.split('.').reduce((acc, value) => acc[value], object)\n};\n\nexport const getProp = (object, path, defaultValue) => {\n  if (!path) {\n    return object;\n  }\n\n  const normalizedPath = Array.isArray(path) ? path : path.split('.').filter((item) => item.length);\n\n  if (!normalizedPath.length) {\n    return object === undefined ? defaultValue : object;\n  }\n\n  return getProp(object[normalizedPath.shift()], normalizedPath, defaultValue);\n};\n","export const LIB_NAME = 'react-dropdown-select';\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport {getByPath} from '../util';\nimport { LIB_NAME } from '../constants';\n\nconst Option = ({ item, props, state, methods }) => {\n\n    const OptionComponent = props.OptionComponent ? props.OptionComponent : DefaultOptionComponent\n    return(\n        item && props.optionRenderer ? (\n          props.optionRenderer({ item, props, state, methods })\n        ) : (\n          <OptionComponent\n            role=\"listitem\"\n            disabled={props.disabled}\n            direction={props.direction}\n            className={`${LIB_NAME}-option`}\n            color={props.color}>\n            <span className={`${LIB_NAME}-option-label`}>{getByPath(item, props.labelField)}</span>\n            <span\n              className={`${LIB_NAME}-option-remove`}\n              onClick={(event) => methods.removeItem(event, item, props.closeOnSelect)}>\n              &times;\n            </span>\n          </OptionComponent>\n        )\n    );\n\n}\n\nexport const DefaultOptionComponent = styled.span`\n\n  padding: 0 5px;\n  border-radius: 2px;\n  line-height: 21px;\n  margin: 3px 0 3px 5px;\n  background: ${({ color }) => color};\n  color: #fff;\n  display: inline-flex;\n  flex-direction: ${({ direction }) => direction === 'rtl' ? 'row-reverse' : 'row'};\n  width: auto;\n  white-space: nowrap ;\n  \n  \n  .${LIB_NAME}-option-label {\n    width: auto;\n  }\n\n\n  .${LIB_NAME}-option-remove {\n    cursor: pointer;\n    width: 22px;\n    height: 22px;\n    display: inline-block;\n    text-align: center;\n    margin: 0 -5px 0 0px;\n    border-radius: 0 3px 3px 0;\n\n    :hover {\n      color: tomato;\n    }\n  }\n\n  :hover,\n  :hover > span {\n    opacity: 0.9;\n  }\n\n`;\n\n\n// Specifies the default values for props:\nOption.defaultProps = {\n    OptionComponent: DefaultOptionComponent,\n};\n\nexport default Option;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { valueExistInSelected } from '../util';\nimport * as PropTypes from 'prop-types';\nimport { LIB_NAME } from '../constants';\n\nconst handlePlaceHolder = (props, state) => {\n  const { addPlaceholder, searchable, placeholder } = props;\n  const noValues = state.values && state.values.length === 0;\n  const hasValues = state.values && state.values.length > 0;\n\n  if (hasValues && addPlaceholder && searchable) {\n    return addPlaceholder;\n  }\n\n  if (noValues) {\n    return placeholder;\n  }\n\n  if (hasValues && !searchable) {\n    return '';\n  }\n\n  return '';\n};\n\nclass Input extends Component {\n  input = React.createRef();\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.state.dropdown || (prevProps.state.dropdown !== this.props.state.dropdown && this.props.state.dropdown) ||\n      this.props.props.autoFocus\n    ) {\n      this.input.current.focus();\n    }\n\n    if (prevProps.state.dropdown !== this.props.state.dropdown && !this.props.state.dropdown) {\n       this.input.current.blur();\n    }\n  }\n\n  onBlur = (event) => {\n    event.stopPropagation();\n    if (!this.props.state.dropdown) {\n      return this.input.current.blur();\n    }\n\n    return this.input.current.focus();\n  };\n\n  handleKeyPress = (event) => {\n    const { props, state, methods } = this.props;\n\n    return (\n      props.create &&\n      event.key === 'Enter' &&\n      !valueExistInSelected(state.search, state.values, this.props) &&\n      state.search &&\n      state.cursor === null &&\n      methods.createNew(state.search)\n    );\n  };\n\n  render() {\n    const { props, state, methods, InputComponent } = this.props;\n\n    if (props.inputRenderer) {\n      return props.inputRenderer({ props, state, methods, inputRef: this.input });\n    }\n\n    return (\n      <InputComponent\n        ref={this.input}\n        tabIndex=\"-1\"\n        onFocus={(event) => event.stopPropagation()}\n        className={`${LIB_NAME}-input`}\n        size={methods.getInputSize()}\n        value={state.search}\n        readOnly={!props.searchable}\n        onClick={() => methods.dropDown('open')}\n        onKeyPress={this.handleKeyPress}\n        onChange={methods.setSearch}\n        onBlur={this.onBlur}\n        placeholder={handlePlaceHolder(props, state)}\n        disabled={props.disabled}\n        filled={props.filled}\n      />\n    );\n  }\n}\n\nexport const DefaultInputComponent = styled.input`\n    cursor: pointer;\n    line-height: inherit;\n\n    // width: ${props => props.filled ? `calc(${props.size}ch + 5px)` : `100%`};\n    width: ${props => `calc(${props.size}ch + 5px)`};\n\n    border: none;\n    margin-left: 5px;\n    background: transparent;\n    font-size: smaller;\n    ${({ readOnly }) => readOnly && 'cursor: pointer;'}\n    :focus {\n      outline: none;\n    }\n\n    vertical-align: middle;\n    line-height: 2rem;\n    height: 2rem;\n    \n    &::placeholder {\n      color: ${props => props.theme.bg.senary};\n    }\n    `;\n\nInput.propTypes = {\n    props: PropTypes.object,\n    state: PropTypes.object,\n    methods: PropTypes.object\n};\n\nInput.defaultProps = {\n    InputComponent: DefaultInputComponent\n};\n\nexport default Input;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Option from './Option';\nimport Input from './Input';\nimport { LIB_NAME } from '../constants';\nimport { getByPath } from '../util';\n\nconst Content = ({ props, state, methods, ContentComponent, InputComponent }) => {\n  return (\n    <ContentComponent\n      className={`${LIB_NAME}-content ${\n        props.multi ? `${LIB_NAME}-type-multi` : `${LIB_NAME}-type-single`\n      }`}\n      onClick={(event) => {\n        event.stopPropagation();\n        methods.dropDown('open');\n      }}>\n      {props.contentRenderer ? (\n        props.contentRenderer({ props, state, methods })\n      ) : (\n        \n        <OptionsContainer multi={props.multi}>\n          {(props.multi || props.showSelectedBox)\n            ? state.values &&\n              state.values.map((item) => (\n                <Option\n                  key={`${getByPath(item, props.valueField)}${getByPath(item, props.labelField)}`}\n                  item={item}\n                  state={state}\n                  props={props}\n                  methods={methods}\n                />\n              ))\n            : state.values &&\n              state.values.length > 0 && <Value valueCss={props.valueCss}>{getByPath(state.values[0], props.labelField)}</Value>\n            }\n          <Input  InputComponent={InputComponent} props={{...props, filled:state.values.length}} methods={methods} state={state} />\n        </OptionsContainer>\n      )}\n    </ContentComponent>\n  );\n    return (\n        <ContentComponent\n            className={`${LIB_NAME}-content ${props.multi ? `${LIB_NAME}-type-multi` : `${LIB_NAME}-type-single`\n                }`}\n            onClick={(event) => {\n                event.stopPropagation();\n                methods.dropDown('open');\n            }}>\n            {props.contentRenderer ? (\n                props.contentRenderer({ props, state, methods })\n            ) : (\n\n                    <React.Fragment>\n                        {(props.multi || props.showSelectedBox)\n                            ? state.values &&\n                            state.values.map((item, ind) => (\n                                <Option\n                                    // Fix for keys that have the same name\n                                    // key={`${getByPath(item, props.valueField)}${getByPath(item, props.labelField)}`}\n                                    key={ind}\n                                    item={item}\n                                    state={state}\n                                    props={props}\n                                    methods={methods}\n                                />\n                            ))\n                            : state.values &&\n                            state.values.length > 0 && <Value>{getByPath(state.values[0], props.labelField)}</Value>\n                        }\n                        <Input InputComponent={InputComponent} props={{ ...props, filled: state.values.length }} methods={methods} state={state} />\n                    </React.Fragment>\n                )}\n        </ContentComponent>\n    );\n};\n\nexport const Value = styled.div`\n  margin-left: 0.3rem;\n  margin-right: 0.2rem;\n  line-height: 1.8rem;\n  font-size: ${props => props.theme.fontSize.sz3};\n  width: 100%;\n    \n${props => props.valueCss && props.valueCss};\n`\n\nexport const OptionsContainer = styled.div`\n    width: auto;\n    height: 100%;\n    margin-right: 1rem;\n    display: inline-flex;\n    align-items: center;\n    overflow-y: hidden;\n    overflow-x: ${props => props.multi ? \"auto\" : \"hidden\"};\n    \n    word-break: ${props => !props.multi && \"break-all\"};\n    white-space: ${props => !props.multi && \"nowrap\"};\n    text-overflow: ${props => !props.multi && \"ellipsis\"};\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n    \n`\n\nexport const DefaultContentComponent = styled.div`\n  position: relative;\n  \n  display: flex;\n  flex-grow: 1;\n  // flex-wrap: nowrap;\n\n  overflow: hidden;\n  \n  .${LIB_NAME}-type-multi {\n    overflow-x: auto;\n  }\n  \n  word-break: break-all;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\n// Specifies the default values for props:\nContent.defaultProps = {\n    ContentComponent: DefaultContentComponent,\n};\n\nexport default Content;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { LIB_NAME } from '../constants';\n\nimport {globStyle} from '../../../../global_style'\n\nconst NoData = ({ props, state, methods, NoDataComponent }) =>\n  props.noDataRenderer ? (\n    props.noDataRenderer({ props, state, methods })\n  ) : (\n    <NoDataComponent id={'bob5'} className={`${LIB_NAME}-no-data`} color={props.color}>\n      {props.noDataLabel}\n    </NoDataComponent>\n  );\n\nconst DefaultNoDataComponent = styled.div`\n  padding: 10px;\n  text-align: center;\n  font-size: 1rem;\n  color: #FF4B4B;\n  background-color: #f5f5fa;\n\n`;\n\nNoData.defaultProps = {\n  NoDataComponent: DefaultNoDataComponent\n};\n\nexport default NoData;\n","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { getByPath } from '../util';\nimport * as PropTypes from 'prop-types';\nimport { LIB_NAME } from '../constants';\n\nimport { LightenDarkenColor, hexToRGBA } from '../../../../methods/utils/color_utils'\n\nclass Item extends Component {\n  item = React.createRef();\n\n  componentDidUpdate() {\n    if (this.props.state.cursor === this.props.itemIndex) {\n      this.item.current &&\n        this.item.current.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n    }\n  }\n\n  render() {\n    // console.log('Item render this.props',this.props)\n    const { props, state, methods, item, itemIndex, ItemComponent, ContentContainer, ButtonComponent, TextComponent, onMouseEnter, onMouseLeave } = this.props;\n\n    if (props.itemRenderer) {\n      return props.itemRenderer({ item, itemIndex, props, state, methods });\n    }\n\n    if (!props.keepSelectedInList && methods.isSelected(item)) {\n      return null;\n    }\n\n    // console.log('item ItemComponent', ItemComponent)\n    //const { ItemComponent } = this.props;\n\n    return (\n      <ItemComponent\n        role=\"option\"\n        ref={this.item}\n        aria-selected={methods.isSelected(item)}\n        aria-disabled={item.disabled}\n        disabled={item.disabled}\n        aria-label={getByPath(item, props.labelField)}\n        key={`${getByPath(item, props.valueField)}${getByPath(item, props.labelField)}`}\n        tabIndex=\"-1\"\n        className={`${LIB_NAME}-item ${\n          methods.isSelected(item) ? `${LIB_NAME}-item-selected` : ''\n        } ${state.cursor === itemIndex ? `${LIB_NAME}-item-active` : ''} ${\n          item.disabled ? `${LIB_NAME}-item-disabled` : ''\n        }`}\n        onKeyPress={item.disabled ? undefined : () => methods.addItem(item)}\n        onClick={item.disabled ? undefined : () => methods.addItem(item)}\n        color={props.color}\n        schema={props.schema}\n        onMouseEnter = {() => {\n          if(!!props.onMouseEnter){\n          props.onMouseEnter(item)\n        }\n        }}\n        onMouseLeave = {() => {\n          if(!!props.onMouseLeave){\n          props.onMouseLeave(item)\n        }\n        }}        >\n\n            <TextComponent\n            >\n              {getByPath(item, props.labelField)} {item.disabled && <ins>{props.disabledLabel}</ins>}\n            </TextComponent>\n\n            {props.showButton && !!props.onDetailsClick &&\n              <ButtonComponent className='fas fa-ellipsis-h'\n                  onClick={(e) => {\n                    if (!e) var e = window.event;\n                    e.cancelBubble = true;\n                    if (e.stopPropagation) e.stopPropagation();\n                    props.onDetailsClick(item.id);\n                  }}>\n              </ButtonComponent>\n            }\n\n      </ItemComponent>\n    );\n  }\n}\n\nItem.propTypes = {\n  props: PropTypes.any,\n  state: PropTypes.any,\n  methods: PropTypes.any,\n  item: PropTypes.any,\n  itemIndex: PropTypes.any,\n  showButton: PropTypes.bool,\n};\n\nexport const DefaultItemComponent = styled.span`\n\n  padding: .5rem 1rem .5rem calc(1rem - 5px);\n  cursor: pointer;\n  white-space: nowrap;\n  display: flex;\n  justify-content: space-between;\n  font-family: ${props => props.theme.font.primary};\n  font-size: ${props => props.theme.fontSize.sz3};\n\n  border-left: 5px solid transparent;\n\n  // &.${LIB_NAME}-item-active {\n  //   ${({ disabled, color }) => !disabled && color && `background: green;`}\n  // }\n\n  :hover,\n  :focus {\n    background: ${props => !!props.schema ? hexToRGBA(props.theme.schema[props.schema].solid, 0.1) : hexToRGBA(props.theme.fg.red, 0.1)};\n    outline: none;\n  }\n\n\n  &.${LIB_NAME}-item-selected {\n    ${props => props.disabled ? `\n      background: ${!!props.schema ? hexToRGBA(props.theme.schema[props.schema].solid, 0.2) : hexToRGBA(props.theme.fg.red, 0.2)};\n    `\n    : `\n      background: ${!!props.schema ? hexToRGBA(props.theme.schema[props.schema].solid, 0.2) : hexToRGBA(props.theme.fg.red, 0.2)};\n      border-color: ${!!props.schema ? props.theme.schema[props.schema].solid : props.theme.fg.red};\n    `}\n  }\n\n  ${({ disabled }) =>\n    disabled\n      ? `\n    background: ${props => props.theme.bg.quinary};\n    color: ${props => props.theme.bg.primary};\n\n    ins {\n      text-decoration: none;\n      border:1px solid #ccc;\n      border-radius: 2px;\n      padding: 0px 3px;\n      font-size: x-small;\n      text-transform: uppercase;\n    }\n    `\n      : ''}\n\n`;\n\nconst DefaultContentContainer = styled.div`\n  display: flex;\n  flex: 1;\n  justify-content: space-between;\n  padding: 0;\n  overflow: hidden;\n  white-space: nowrap;\n`;\n\nconst DefaultButtonComponent = styled.i`\n    display: flex;\n    color: grey;\n    font-size: 1rem;\n    &:hover {\n        cursor: pointer;\n    }\n    line-height: 2rem;\n    text-align: center;\n`\n\nconst DefaultTextComponent = styled.span`\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\n// Specifies the default values for props:\nItem.defaultProps = {\n    ItemComponent: DefaultItemComponent,\n    ContentContainer: DefaultContentContainer,\n    ButtonComponent: DefaultButtonComponent,\n    TextComponent: DefaultTextComponent,\n    onMouseEnter: () => {},\n    onMouseLeave: () => {}\n};\n\nexport default Item;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { LIB_NAME } from '../constants';\nimport NoData from '../components/NoData';\nimport Item from '../components/Item';\nimport Label from '../components/Label';\n\nimport { valueExistInSelected, hexToRGBA } from '../util';\n\nconst dropdownPosition = (props, methods) => {\n    const DropdownBoundingClientRect = methods.getSelectRef().getBoundingClientRect();\n    const dropdownHeight =\n        DropdownBoundingClientRect.bottom + parseInt(props.dropdownHeight, 10) + parseInt(props.dropdownGap, 10);\n\n    if (props.dropdownPosition !== 'auto') {\n        return props.dropdownPosition;\n    }\n\n    if (dropdownHeight > window.innerHeight && dropdownHeight > DropdownBoundingClientRect.top) {\n        return 'top';\n    }\n\n    return 'bottom';\n};\n\nconst Dropdown = ({ ItemComponent, props, dropdownRef, DropDownComponent, state, methods, onMouseEnter, onMouseLeave, onClick, TextComponent }) => {\n    // console.log('Dropdown props', props)\n    // console.log('Dropdown ItemComponent', ItemComponent)\n    return (\n        <DropDownComponent\n            css={props.dropdownCss}\n            ref={dropdownRef}\n            maxWidth={props.maxDropdownWidth}\n            tabIndex=\"-1\"\n            aria-expanded=\"true\"\n            role=\"list\"\n            dropdownPosition={dropdownPosition(props, methods)}\n            selectBounds={state.selectBounds}\n            portal={props.portal}\n            dropdownGap={props.dropdownGap}\n            dropdownHeight={props.dropdownHeight}\n            className={`${LIB_NAME}-dropdown ${LIB_NAME}-dropdown-position-${dropdownPosition(\n                props,\n                methods\n            )}`}>\n            {props.dropdownRenderer ? (\n                props.dropdownRenderer({ props, state, methods })\n            ) : (\n                    <React.Fragment>\n                        {props.create && state.search && !valueExistInSelected(state.search, state.values, props) && (\n                            <AddNew\n                                className={`${LIB_NAME}-dropdown-add-new`}\n                                color={props.color}\n                                onClick={() => methods.createNew(state.search)}\n                                >\n                                {props.createNewLabel.replace('{search}', `\"${state.search}\"`)}\n                            </AddNew>\n                        )}\n                        <Label LabelComponent={props.LabelComponent} label={props.label}></Label>\n                        {methods.searchResults().length === 0 ? (\n                            <NoData\n                                className={`${LIB_NAME}-no-data`}\n                                state={state}\n                                props={props}\n                                methods={methods}\n                                NoDataComponent={props.NoDataComponent}\n                            />\n                        ) : (\n                                methods\n                                    .searchResults()\n                                    .map((item, itemIndex) => (\n                                        <Item\n                                            ItemComponent={ItemComponent}\n                                            TextComponent={TextComponent}\n                                            //   Fix for dropdown search error for elements with matching keys\n                                            //   key={item[props.valueField]}\n                                            key={itemIndex}\n                                            item={item}\n                                            itemIndex={itemIndex}\n                                            state={state}\n                                            props={props}\n                                            methods={methods}\n                                            onMouseEnter = {(item) => onMouseEnter(item)}\n                                            onMouseLeave = {(item) => onMouseLeave(item)}\n                                        />\n                                    ))\n                            )}\n                    </React.Fragment>\n                )}\n        </DropDownComponent>\n    );\n}\n\nexport const DefaultDropDownComponent = styled.div`\n  position: absolute;\n  ${({ selectBounds, dropdownGap, dropdownPosition }) =>\n        dropdownPosition === 'top'\n            ? `bottom: ${selectBounds.height + 2 + dropdownGap}px`\n            : `top: ${selectBounds.height + 2 + dropdownGap}px`};\n\n  ${({ selectBounds, dropdownGap, portal }) =>\n        portal\n            ? `\n      position: fixed;\n      top: ${selectBounds.bottom + dropdownGap}px;\n      left: ${selectBounds.left - 1}px;`\n            : 'left: -1px;'};\n  width: 100%;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  background: ${props => props.theme.bg.secondary};\n  border-radius: 2px;\n  box-shadow: 0px 0px 10px 3px rgba(0,0,0,0.1);\n  max-height: ${({ dropdownHeight }) => dropdownHeight};\n  overflow: auto;\n  z-index: 100;\n\n    ${props => props.css && props.css};\n\n  border-radius: 0.2rem;\n\n  :focus {\n    outline: none;\n  }\n\n  /* Let's get this party started */\n  ::-webkit-scrollbar {\n      width: 6px;\n  }\n  /* Track */\n  ::-webkit-scrollbar-track {\n      -webkit-background: rgba(0,0,0,0.1);\n      -webkit-border-radius: 10px;\n      border-radius: 10px;\n  }\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n      -webkit-border-radius: 10px;\n      border-radius: 10px;\n      -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5);\n      background: rgba(255,255,255,0.4);\n  }\n  ::-webkit-scrollbar-thumb:window-inactive {\n    background: rgba(255,255,255,0.2);\n  }\n\n    max-width: ${props => props.maxWidth && props.maxWidth};\n\n}\n`;\n\nconst AddNew = styled.div`\n  color: ${({ color }) => color};\n  padding: 5px 10px;\n  background: white;\n  color: blue;\n\n  :hover {\n    background: ${({ color }) => color && hexToRGBA(color, 0.1)};\n    outline: none;\n    cursor: pointer;\n  }\n`;\n\nDropdown.defaultProps = {\n    DropDownComponent: DefaultDropDownComponent\n};\n\nexport default Dropdown;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { LIB_NAME } from '../constants';\n\nconst Loading = ({ props }) =>\n  props.loadingRenderer ? (\n    props.loadingRenderer({ props })\n  ) : (\n    <LoadingComponent className={`${LIB_NAME}-loading`} color={props.color} />\n  );\n\nconst LoadingComponent = styled.div`\n  @keyframes dual-ring-spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(180deg);\n    }\n  }\n\n  padding: 0 5px;\n  display: block;\n  width: auto;\n  height: auto;\n\n  :after {\n    content: ' ';\n    display: block;\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    border-width: 1px;\n    border-style: solid;\n    border-color: ${({ color }) => color} transparent;\n    animation: dual-ring-spin 0.7s ease-in-out infinite;\n    margin: 0 0 0 -10px;\n  }\n`;\n\nexport default Loading;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { LIB_NAME } from '../constants';\n\nconst Clear = ({ props, state, methods }) =>\n  props.clearRenderer ? (\n    props.clearRenderer({ props, state, methods })\n  ) : (\n    <ClearComponent\n      className={`${LIB_NAME}-clear`}\n      tabIndex=\"-1\"\n      onClick={() => methods.clearAll()}\n      onKeyPress={() => methods.clearAll()}>\n      &times;\n    </ClearComponent>\n  );\n\nconst ClearComponent = styled.div`\n  line-height: 25px;\n  margin: 0 10px;\n  cursor: pointer;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    color: tomato;\n  }\n`;\n\nexport default Clear;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { LIB_NAME } from '../constants';\n\nconst Separator = ({ props, state, methods }) =>\n  props.separatorRenderer ? (\n    props.separatorRenderer({ props, state, methods })\n  ) : (\n    <SeparatorComponent className={`${LIB_NAME}-separator`} />\n  );\n\nconst SeparatorComponent = styled.div`\n  border-left: 1px solid #ccc;\n  width: 1px;\n  height: 25px;\n  display: block;\n`;\n\nexport default Separator;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { LIB_NAME } from '../constants';\n\nconst DropdownHandle = ({ props, state, methods }) =>\n  props.dropdownHandleRenderer ? (\n    props.dropdownHandleRenderer({ props, state, methods })\n  ) : (\n    <DropdownHandleComponent\n      tabIndex=\"-1\"\n      onClick={(event) => methods.dropDown(state.dropdown ? 'close': 'open', event)}\n      dropdownOpen={state.dropdown}\n      onKeyPress={(event) => methods.dropDown('toggle', event)}\n      onKeyDown={(event) => methods.dropDown('toggle', event)}\n      className={`${LIB_NAME}-dropdown-handle`}\n      color={props.color}>\n      <svg fill=\"currentColor\" viewBox=\"0 0 40 40\"><path d=\"M31 26.4q0 .3-.2.5l-1.1 1.2q-.3.2-.6.2t-.5-.2l-8.7-8.8-8.8 8.8q-.2.2-.5.2t-.5-.2l-1.2-1.2q-.2-.2-.2-.5t.2-.5l10.4-10.4q.3-.2.6-.2t.5.2l10.4 10.4q.2.2.2.5z\"/></svg>\n    </DropdownHandleComponent>\n  );\n\nconst DropdownHandleComponent = styled.div`\n  text-align: center;\n\n  ${({ dropdownOpen }) =>\n    dropdownOpen\n      ? `\n      pointer-events: all;\n      transform: rotate(0deg);\n      margin: 0px 0 -3px 5px;\n      `\n      : `\n      pointer-events: none;\n      margin: 0 0 0 5px;\n      transform: rotate(180deg);\n      `};\n  cursor: pointer;\n\n  text-align: center;\n  vertical-align: middle;\n  line-height: 2rem;\n  height: 2rem;\n  position: absolute;\n  right: .25rem;\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n\n  :hover {\n    path {\n      stroke: ${({ color }) => color};\n    }\n  }\n\n  :focus {\n    outline: none;\n\n    path {\n      stroke: ${({ color }) => color};\n    }\n  }\n\n`;\n\nexport default DropdownHandle;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components'\nimport ClickOutside from './components/ClickOutside';\n\nimport { globStyle } from '../../../global_style'\nimport { LightenDarkenColor } from '../../../methods/utils/color_utils'\n\n\nimport Label from './components/Label';\nimport Content from './components/Content';\nimport Dropdown from './components/Dropdown';\nimport Loading from './components/Loading';\nimport Clear from './components/Clear';\nimport Separator from './components/Separator';\nimport DropdownHandle from './components/DropdownHandle';\n\nimport { debounce, hexToRGBA, isEqual, getByPath, getProp, valueExistInSelected } from './util';\nimport { LIB_NAME } from './constants';\n\nimport theme from '../../../theme.js'\n\nexport class DropDownSearch extends Component {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    onDropdownClose: PropTypes.func,\n    onDropdownOpen: PropTypes.func,\n    onClearAll: PropTypes.func,\n    onSelectAll: PropTypes.func,\n    values: PropTypes.array,\n    options: PropTypes.array.isRequired,\n    keepOpen: PropTypes.bool,\n    showSelectedBox: PropTypes.bool,\n    fixedHeight: PropTypes.bool,\n    dropdownGap: PropTypes.number,\n    multi: PropTypes.bool,\n    placeholder: PropTypes.string,\n    addPlaceholder: PropTypes.string,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n    loading: PropTypes.bool,\n    clearable: PropTypes.bool,\n    searchable: PropTypes.bool,\n    separator: PropTypes.bool,\n    dropdownHandle: PropTypes.bool,\n    searchBy: PropTypes.string,\n    sortBy: PropTypes.string,\n    closeOnScroll: PropTypes.bool,\n    openOnTop: PropTypes.bool,\n    style: PropTypes.object,\n    contentRenderer: PropTypes.func,\n    dropdownRenderer: PropTypes.func,\n    itemRenderer: PropTypes.func,\n    noDataRenderer: PropTypes.func,\n    optionRenderer: PropTypes.func,\n    inputRenderer: PropTypes.func,\n    loadingRenderer: PropTypes.func,\n    clearRenderer: PropTypes.func,\n    separatorRenderer: PropTypes.func,\n    dropdownHandleRenderer: PropTypes.func,\n    direction: PropTypes.string,\n    required: PropTypes.bool,\n    pattern: PropTypes.string,\n    // The pattern attribute specifies a regular expression that the <input> element's value is checked against on form submission\n    // set to null to bypass\n    name: PropTypes.string,\n    className: PropTypes.string,\n    schema: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dropdown: false,\n      values: props.values,\n      search: '',\n      selectBounds: {},\n      cursor: null,\n      dropdownSize: {\n        offsetWidth: 0,\n        offsetHeight: 0,\n        offsetLeft: 0,\n        offsetTop: 0,\n      }\n    };\n\n    this.methods = {\n      removeItem: this.removeItem,\n      dropDown: this.dropDown,\n      addItem: this.addItem,\n      setSearch: this.setSearch,\n      getInputSize: this.getInputSize,\n      toggleSelectAll: this.toggleSelectAll,\n      clearAll: this.clearAll,\n      selectAll: this.selectAll,\n      searchResults: this.searchResults,\n      getSelectRef: this.getSelectRef,\n      isSelected: this.isSelected,\n      getSelectBounds: this.getSelectBounds,\n      areAllSelected: this.areAllSelected,\n      handleKeyDown: this.handleKeyDown,\n      activeCursorItem: this.activeCursorItem,\n      createNew: this.createNew,\n      sortBy: this.sortBy,\n      safeString: this.safeString\n    };\n\n    this.select = React.createRef();\n    this.dropdownRef = React.createRef()\n    this.dropdownRoot = typeof document !== 'undefined' && document.createElement('div');\n  }\n\n  componentDidMount() {\n    this.props.portal && this.props.portal.appendChild(this.dropdownRoot);\n    window.addEventListener('resize', debounce(this.updateSelectBounds), {passive:true});\n    window.addEventListener('scroll', debounce(this.onScroll), {passive:true});\n\n    this.dropDown('close');\n\n    if (this.select) {\n      this.updateSelectBounds();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      !isEqual(prevProps.values, this.props.values) &&\n      isEqual(prevProps.values, prevState.values)\n    ) {\n      this.setState({ values: this.props.values }, () => {\n        this.props.onChange(this.props.values);\n      });\n    }\n\n    if (prevState.values !== this.state.values) {\n      if (this.state.values.length) { this.props.onChange(this.state.values) };\n      this.updateSelectBounds();\n    }\n\n    if (prevState.search !== this.state.search) {\n      this.updateSelectBounds();\n    }\n\n    if (prevState.values !== this.state.values && this.props.closeOnSelect) {\n      this.dropDown('close');\n    }\n\n    if (prevProps.multi !== this.props.multi) {\n      this.updateSelectBounds();\n    }\n\n    if (prevState.dropdown && prevState.dropdown !== this.state.dropdown) {\n      this.onDropdownClose();\n    }\n\n    if (!prevState.dropdown && prevState.dropdown !== this.state.dropdown) {\n      this.props.onDropdownOpen();\n    }\n\n    if (prevState.values !== this.state.values && !this.props.fillable && this.state.values.length) {\n      this.clearAll();\n    }\n\n    // if dropdown ref has current value\n    if(this.dropdownRef.current && !this.props.fixedHeight) {\n      // get height\n      let offsetHeight = this.dropdownRef.current.offsetHeight;\n\n      // check if state offsetHeight does not match current offsetHeight\n      if(offsetHeight !== this.state.dropdownSize.offsetHeight) {\n        let offsetWidth  = this.dropdownRef.current.offsetWidth;\n        let offsetTop  = this.dropdownRef.current.offsetTop;\n        let offsetLeft  = this.dropdownRef.current.offsetLeft;\n\n        // update state\n        this.setState({\n          dropdownSize: {\n            offsetWidth,\n            offsetHeight,\n            offsetLeft,\n            offsetTop,\n          },\n        });\n      }\n    }\n    // if dropdownRef doesn't have current value, and offsetHeight isn't already 0, set it to zero\n    else if(this.state.dropdownSize.offsetHeight !== 0 ) {\n      // update state\n      this.setState({\n        dropdownSize: {\n          offsetWidth: 0,\n          offsetHeight: 0,\n          offsetLeft: 0,\n          offsetTop: 0,\n        },\n      });\n    }\n  }\n\n\n\n  componentWillUnmount() {\n    this.props.portal && this.props.portal.removeChild(this.dropdownRoot);\n    window.removeEventListener(\n      'resize',\n      debounce(this.updateSelectBounds, this.props.debounceDelay), {passive:true}\n    );\n    window.removeEventListener('scroll', debounce(this.onScroll, this.props.debounceDelay), {passive:true});\n  }\n\n  onDropdownClose = () => {\n    this.setState({ cursor: null });\n    this.props.onDropdownClose();\n  };\n\n  onScroll = () => {\n    if (this.props.closeOnScroll) {\n      this.dropDown('close');\n    }\n\n    this.updateSelectBounds();\n  };\n\n  updateSelectBounds = () =>\n    this.select.current &&\n    this.setState({\n      selectBounds: this.select.current.getBoundingClientRect()\n    });\n\n  getSelectBounds = () => this.state.selectBounds;\n\n  dropDown = (action = 'toggle', event) => {\n    const target = (event && event.target) || (event && event.srcElement);\n\n    if (\n      this.props.portal &&\n      !this.props.closeOnScroll &&\n      !this.props.closeOnSelect &&\n      event &&\n      target &&\n      target.offsetParent &&\n      target.offsetParent.classList.contains('react-dropdown-select-dropdown')\n    ) {\n      return;\n    }\n\n    if (this.props.keepOpen) {\n      return this.setState({ dropdown: true });\n    }\n\n    if (action === 'close' && this.state.dropdown) {\n      this.select.current.blur();\n\n      return this.setState({\n        dropdown: false,\n        search: this.props.clearOnBlur ? '' : this.state.search\n      });\n    }\n\n    if (action === 'open' && !this.state.dropdown) {\n      return this.setState({ dropdown: true });\n    }\n\n    if (action === 'toggle') {\n      this.select.current.focus();\n      return this.setState({ dropdown: !this.state.dropdown });\n    }\n\n    return false;\n  };\n\n  getSelectRef = () => this.select.current;\n\n  addItem = (item) => {\n    if (this.props.multi) {\n      if (\n        valueExistInSelected(getByPath(item, this.props.valueField), this.state.values, this.props)\n      ) {\n        return this.removeItem(null, item, false);\n      }\n\n      this.setState({\n        values: [...this.state.values, item]\n      });\n    } else {\n      this.setState({\n        values: [item],\n        dropdown: false\n      });\n    }\n\n    this.props.clearOnSelect && this.setState({ search: '' });\n\n    return true;\n  };\n\n  removeItem = (event, item, close = false) => {\n    if (event && close) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.dropDown('close');\n    }\n\n    let newValues = this.state.values.filter(\n        (values) =>\n            getByPath(values, this.props.valueField) !== getByPath(item, this.props.valueField)\n    )\n\n    this.setState({\n      values: newValues\n    });\n\n    this.props.onRemoveItem && this.props.onRemoveItem(newValues)\n  };\n\n  setSearch = (event) => {\n    this.setState({\n      cursor: null\n    });\n\n    this.setState({\n      search: event.target.value\n    });\n  };\n\n  getInputSize = () => {\n    if (this.state.values && this.state.values.length) {\n      return 0;\n    } else {\n      return this.props.placeholder.length;\n    }\n  };\n\n  toggleSelectAll = () => {\n    return this.setState({\n      values: this.state.values.length === 0 ? this.selectAll() : this.clearAll()\n    });\n  };\n\n  clearAll = () => {\n    this.props.onClearAll();\n    this.setState({\n      values: []\n    });\n  };\n\n  selectAll = (valuesList = []) => {\n    this.props.onSelectAll();\n    const values = valuesList.length > 0\n      ? valuesList\n      : this.props.options.filter((option) => !option.disabled);\n\n    this.setState({ values });\n  };\n\n  isSelected = (option) =>\n    !!this.state.values.find(\n      (value) =>\n        getByPath(value, this.props.valueField) === getByPath(option, this.props.valueField)\n    );\n\n  areAllSelected = () =>\n    this.state.values.length === this.props.options.filter((option) => !option.disabled).length;\n\n  safeString = (string) => string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n  sortBy = () => {\n    const { sortBy, options } = this.props;\n\n    if (!sortBy) {\n      return options;\n    }\n\n    options.sort((a, b) => {\n      if (getProp(a, sortBy) < getProp(b, sortBy)) {\n        return -1;\n      } else if (getProp(a, sortBy) > getProp(b, sortBy)) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n\n    return options;\n  };\n\n  searchFn = ({ state, methods }) => {\n    const regexp = new RegExp(methods.safeString(state.search), 'i');\n\n    return methods\n      .sortBy()\n      .filter((item) =>\n        regexp.test(getByPath(item, this.props.searchBy) || getByPath(item, this.props.valueField))\n      );\n  };\n\n  searchResults = () => {\n    const args = { state: this.state, props: this.props, methods: this.methods };\n\n    return this.props.searchFn(args) || this.searchFn(args);\n  };\n\n  activeCursorItem = (activeCursorItem) =>\n    this.setState({\n      activeCursorItem\n    });\n\n  handleKeyDown = (event) => {\n    const args = {\n      event,\n      state: this.state,\n      props: this.props,\n      methods: this.methods,\n      setState: this.setState.bind(this)\n    };\n\n    return this.props.handleKeyDownFn(args) || this.handleKeyDownFn(args);\n  };\n\n  handleKeyDownFn = ({ event, state, props, methods, setState }) => {\n    const { cursor } = state;\n    const escape = event.key === 'Escape';\n    const enter = event.key === 'Enter';\n    const arrowUp = event.key === 'ArrowUp';\n    const arrowDown = event.key === 'ArrowDown';\n    const tab = event.key === 'Tab' && !event.shiftKey;\n    const shiftTab = event.shiftKey && event.key === 'Tab';\n\n    if ((arrowDown || tab) && cursor === null) {\n      return setState({\n        cursor: 0\n      });\n    }\n\n    if (arrowUp || arrowDown || shiftTab || tab) {\n      event.preventDefault();\n    }\n\n    if (escape) {\n      this.dropDown('close');\n    }\n\n    if (enter) {\n      const currentItem = methods.searchResults()[cursor];\n      if (currentItem && !currentItem.disabled) {\n        if (props.create && valueExistInSelected(state.search, state.values, props)) {\n          return null;\n        }\n\n        methods.addItem(currentItem);\n      }\n    }\n\n    if ((arrowDown || tab) && methods.searchResults().length === cursor) {\n      return setState({\n        cursor: 0\n      });\n    }\n\n    if (arrowDown || tab) {\n      setState((prevState) => ({\n        cursor: prevState.cursor + 1\n      }));\n    }\n\n    if ((arrowUp || shiftTab) && cursor > 0) {\n      setState((prevState) => ({\n        cursor: prevState.cursor - 1\n      }));\n    }\n\n    if ((arrowUp || shiftTab) && cursor === 0) {\n      setState({\n        cursor: methods.searchResults().length\n      });\n    }\n  };\n\n  renderDropdown = (ItemComponent) =>\n    this.props.portal ? (\n      ReactDOM.createPortal(\n        <Dropdown dropdownRef={this.dropdownRef} ItemComponent={ItemComponent} DropDownComponent={this.props.DropDownComponent}\n        props={this.props} state={this.state} methods={this.methods} onMouseEnter = {(item) => this.props.onMouseEnter(item)} onMouseLeave = {(item) => this.props.onMouseLeave(item)}\n         />,\n        this.dropdownRoot\n      )\n    ) : (\n        <Dropdown dropdownRef={this.dropdownRef} ItemComponent={ItemComponent} TextComponent={this.props.TextComponent} DropDownComponent={this.props.DropDownComponent}\n         props={this.props} state={this.state} methods={this.methods} onMouseEnter = {(item) => this.props.onMouseEnter}\n         onMouseLeave = {(item) => this.props.onMouseLeave} />\n      );\n\n  createNew = (item) => {\n    const newValue = {\n      [this.props.labelField]: item,\n      [this.props.valueField]: item\n    };\n\n    this.addItem(newValue);\n    this.props.onCreateNew(newValue);\n    this.setState({ search: '' });\n  };\n\n  render() {\n\n    const { ItemComponent, ReactDropdownSelect, Container } = this.props;\n\n    return (\n      <Container css={this.props.containerCss} className={this.props.className} style={!this.props.fixedHeight ? {...this.props.containerStyle, paddingBottom: this.state.dropdownSize.offsetHeight} : this.props.containerStyle}>\n        <ClickOutside ClickOutsideComponent={this.props.ClickOutsideComponent} onClickOutside={(event) => this.dropDown('close', event)}>\n          <ReactDropdownSelect\n            css={this.props.reactDropdownSelectCss}\n            onKeyDown={this.handleKeyDown}\n            onClick={(event) => this.dropDown('open', event)}\n            // onFocus={(event) => this.dropDown('open', event)}\n            tabIndex={this.props.disabled ? '-1' : '0'}\n            direction={this.props.direction}\n            style={this.props.style}\n            ref={this.select}\n            disabled={this.props.disabled}\n            className={`${LIB_NAME} ${this.props.className}`}\n            color={this.props.color}\n            {...this.props.additionalProps}\n            schema={this.props.schema}>\n\n            <Content InputComponent={this.props.InputComponent} ContentComponent={this.props.ContentComponent} props={this.props} state={this.state} methods={this.methods} />\n\n            {(this.props.name || this.props.required) && (\n              <input\n                tabIndex={-1}\n                onChange={this.methods.setSearch}\n                style={{ opacity: 0, width: 0, position: 'absolute' }}\n                name={this.props.name}\n                required={this.props.required}\n                pattern={this.props.pattern}\n                value={this.state.values.map(value => value[this.props.labelField]).toString() || []}\n                disabled={this.props.disabled}\n              />\n            )}\n\n            {this.props.loading && <Loading props={this.props} />}\n\n            {this.props.clearable && (\n              <Clear props={this.props} state={this.state} methods={this.methods} />\n            )}\n\n            {this.props.separator && (\n              <Separator props={this.props} state={this.state} methods={this.methods} />\n            )}\n\n            {this.props.dropdownHandle && (\n              <DropdownHandle\n                onClick={() => this.select.current.focus()}\n                props={this.props}\n                state={this.state}\n                methods={this.methods}\n              />\n            )}\n\n            {this.state.dropdown && !this.props.disabled && this.renderDropdown(ItemComponent)}\n          </ReactDropdownSelect>\n        </ClickOutside>\n      </Container>\n    );\n  }\n}\n\nexport const DefaultReactDropdownSelect = styled.div`\n\n    background-color: ${props => props.theme.bg.secondary};\n    box-shadow: 0 0.1rem 0.2rem 0rem rgba(0,0,0,0.1) !important;\n    color: ${props => props.theme.bg.octonary};\n\n    font-family: ${props => props.theme.font.primary};\n    font-size: ${props => props.theme.fontSize.sz3};\n\n    position: relative;\n    display: flex;\n\n    vertical-align: middle;\n    line-height: 1.6rem;\n    height: 1.6rem;\n    width: 100%;\n    padding: 2px 5px;\n    direction: ${({ direction }) => direction};\n    cursor: pointer;\n    min-height: 36px;\n    ${({ disabled }) =>\n    disabled ? 'cursor: not-allowed;pointer-events: none;opacity: 0.3;' : 'pointer-events: all;'}\n\n    border-bottom: 2px solid transparent;\n    border-radius: 0.2rem;\n\n    :focus, :focus-within {\n        color: ${props => props.theme.bg.octonary};\n        background-color: ${props => props.theme.bg.secondary};\n        box-shadow: none;\n        border-bottom: 2px solid ${props => !!props.schema ? props.theme.schema[props.schema].solid : props.theme.bg.octonary};\n    }\n\n  ${props => props.css && props.css};\n\n\n`;\n\nconst DefaultContainer = styled.div`\n  ${props => props.css && props.css};\n`;\n\nDropDownSearch.defaultProps = {\n  addPlaceholder: '',\n  placeholder: 'Select...',\n  values: [],\n  options: [],\n  multi: false,\n  showSelectedBox: false,\n  disabled: false,\n  searchBy: 'label',\n  sortBy: null,\n  clearable: false,\n  searchable: true,\n  fixedHeight: true,\n  dropdownHandle: true,\n  separator: false,\n  keepOpen: undefined,\n  noDataLabel: 'No data',\n  createNewLabel: 'add {search}',\n  disabledLabel: 'disabled',\n  dropdownGap: 2,\n  closeOnScroll: false,\n  debounceDelay: 0,\n  labelField: 'label',\n  valueField: 'value',\n  color: '#0074D9',\n  keepSelectedInList: true,\n  closeOnSelect: false,\n  clearOnBlur: true,\n  clearOnSelect: true,\n  dropdownPosition: 'bottom',\n  dropdownHeight: '300px',\n  autoFocus: false,\n  portal: null,\n  create: false,\n  direction: 'ltr',\n  name: null,\n  required: false,\n  pattern: '',\n  onChange: () => undefined,\n  onDropdownOpen: () => undefined,\n  onDropdownClose: () => undefined,\n  onClearAll: () => undefined,\n  onSelectAll: () => undefined,\n  onCreateNew: () => undefined,\n  searchFn: () => undefined,\n  handleKeyDownFn: () => undefined,\n  additionalProps: null,\n  showButton: true,\n  ReactDropdownSelect: DefaultReactDropdownSelect,\n  Container: DefaultContainer,\n  fillable: true,\n  schema: null,\n  onMouseEnter: () => {},\n  onMouseLeave: () => {},\n};\n\n\n\nexport default DropDownSearch;\n","export var globStyle = {\n\n    lrgFontSize : '1.5rem',\n    medFontSize : '1.2rem',\n    smlFontSize : '1rem',\n\n    font : 'Montserrat',\n\n    lightBG : '#FFFFFF',\n    darkBG : '#3D3D3D',\n\n    white : '#FFFFFF',\n    black : '#000000',\n\n    grey1 : '#202020',\n    grey2 : '#3D3D3D',\n    grey3 : '#5D5D5D',\n    grey4 : '#BCBCBC',\n    grey5 : '#E9E9E9',\n\n    red : '#FF4B4B',\n    green : '#52B853'\n\n}\n","import * as Yup from 'yup';\n\nimport { notBrokenRegex, notTaskDeletedRegex } from \"./regex_utils\";\nimport { isObject } from \"./object_utils\";\nimport { get } from \"lodash\"\nimport { isArray } from \"./array_utils\";\nimport { LOT_TEMPLATES_RESERVED_FIELD_NAMES } from \"../../constants/form_constants\";\nimport { convertCardDate } from \"./card_utils\";\nimport { isEqualCI, isString } from \"./string_utils\";\nimport { FIELD_DATA_TYPES } from \"../../constants/lot_contants\";\n\nimport { findProcessStartNodes, getNodeOutgoing } from './processes_utils';\nimport { deepCopy } from './utils'\n\nconst { object, lazy, string, number } = require('yup')\nconst mapValues = require('lodash/mapValues')\n\nYup.addMethod(Yup.object, 'startEndDate', function (startPath, endPath, message) {\n    return this.test('startEndDate', message, function (value) {\n\n        if (!value) return true\n\n        const {\n            path,\n            createError\n        } = this\n\n        const startDate = convertCardDate(value[startPath])\n        const endDate = convertCardDate(value[endPath])\n\n        if (startDate && endDate) {\n            if (endDate < startDate) {\n                return this.createError({\n                    path: `${path}`,\n                    message,\n                });\n            }\n        }\n        return true;\n    });\n});\n\nexport const scheduleSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a name.'),\n    task: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                // .min(1, '1 character minimum')\n                // .max(2, '50 character maximum')\n                .matches(notTaskDeletedRegex, \"Task is deleted.\")\n                .required('Please select a task.'),\n            status: Yup.string().matches(notBrokenRegex, \"Task is broken.\"),\n        })\n    ).required('Required'),\n    days_on: Yup.array()\n        .min(1, 'Please select at least one day.')\n        .required('Required'),\n    start_time: Yup.string()\n        .required('Required'),\n    time_interval: Yup.string(), // not required\n    stop_time: Yup.string() // not required\n});\n\nexport const reportEventSchema = Yup.object().shape({\n    label: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a label.'),\n    description: Yup.string()\n});\n\nexport const objectSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a name.'),\n    description: Yup.string()\n        .max(1000, '1000 character maximum.'),\n    // width: Yup.number()\n    //     .positive(\"Please enter a positive number.\")\n    //     .moreThan(0, \"Must be greater than 0.\")\n    //     .required(\"Please enter the object's width.\"),\n    // height: Yup.number()\n    //     .positive(\"Please enter a positive number.\")\n    //     .moreThan(0, \"Must be greater than 0.\")\n    //     .required(\"Please enter the object's height.\"),\n    // length: Yup.number()\n    //     .positive(\"Please enter a positive number.\")\n    //     .moreThan(0, \"Must be greater than 0.\")\n    //     .required(\"Please enter the object's length.\"),\n    // modelName: Yup.string()\n    //     .required(\"Please select a model.\"),\n});\n\n// Yup.addMethod(Yup.array, 'startEndDate', function (startPath, endPath, message) {\n//     return this.test('startEndDate', message, function (value) {\n//\n//         if(!value) return true\n//\n//         const {\n//             path,\n//             createError\n//         } = this\n//\n//         const startDate = convertCardDate(value[startPath])\n//         const endDate = convertCardDate(value[endPath])\n//\n//         if(startDate && endDate) {\n//             if(endDate < startDate) {\n//                 return this.createError({\n//                     path: `${path}`,\n//                     message,\n//                 });\n//             }\n//         }\n//         return true;\n//     });\n// });\n\n\nexport const hilSchema = Yup.object().shape({\n    instruction: Yup.string()\n        .max(20, '20 character maximum.')\n        .required('Please enter instructions.'),\n    position: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Position is missing name.'),\n        })\n    )\n        .required('Please select a position.'),\n    dashboard: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Dashboard is missing name.'),\n        })\n    )\n        .required('Please select a dashboard.'),\n    sound: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Sound is missing name.'),\n        })\n    )\n        .required('Please select a sound.'),\n    timeout: Yup.string()\n        .nullable()\n        .required('Please select timeout.'),\n});\n\nexport const moveSchema = Yup.object().shape({\n    location: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Location is missing name.'),\n            _id: Yup.string()\n                .required('Location is missing ID.'),\n        })\n    ).required('Please select a location.'),\n});\n\n\n\nexport const nameSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a name.'),\n});\n\nexport const hilGoalSchema = Yup.object().shape({\n    hil: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('HIL is missing name.'),\n        })\n    ).required('Please select a HIL.')\n});\n\nexport const objectAtLocationGoalSchema = Yup.object().shape({\n    quantity: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Quantity is missing name.'),\n        })\n    ).required('Please select a quantity.'),\n    object: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Object is missing name.'),\n        })\n    ).min(1, \"Please select an object.\").nullable(),\n    position: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Position is missing name.'),\n        })\n    ).required('Please select a position.'),\n});\n\nexport const dashboardSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.'),\n    buttons: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string(),\n            // task: Yup.array().of(\n            //     Yup.object().shape({\n            //         Description: Yup.string()\n            //             .matches(notBrokenRegex, \"Task is broken.\")\n            //             .required('Task is missing description.'),\n            //         task_id: Yup.string()\n            //             .required('Task is missing ID.'),\n            //     })\n            // ).required('Please select a task.'),\n            // banana: Yup.string()\n            //     .required('Please enter a name.'),\n            color: Yup.string()\n                .required('Please select a color.'),\n\n        })\n    ),\n\n});\n\n// returns error if any item in nested array is duplicate\nYup.addMethod(Yup.object, \"dopeUnique\", function (message, fieldPath, pathToArr) {\n    let mapper\n    if (fieldPath) mapper = x => get(x, fieldPath)\n\n    return this.test(\"dopeUnique\", message, function (item) {\n        const { path, createError, parent, options } = this\n        const {\n            context\n        } = options || {}\n        const {\n            [pathToArr]: arr\n        } = context || {}\n\n        let rx = /\\[(-?\\d+)\\]/g\n        const reg2 = /[\\[\\]']+/g\n\n        var index = path.match(rx);\n        let megaIndex = 0\n        const last = index.pop()\n\n        index.forEach((currItem) => {\n            const parsedIndex = parseInt(currItem.replace(reg2, ''))\n            for (let i = 0; i < parsedIndex; i++) {\n                megaIndex = megaIndex + arr[i].length\n            }\n        })\n        megaIndex = megaIndex + parseInt(last.replace(reg2, ''))\n\n        let compareItem\n        if (mapper) compareItem = mapper(item)\n\n\n        let isUnique = true\n\n        let currIndex = 0\n\n        for (const currItem of arr.flat()) {\n            if (parseInt(currIndex) !== parseInt(megaIndex)) {\n                if (mapper) {\n                    if (isString(compareItem) && isString(mapper(currItem)) && isEqualCI(compareItem.trim(), mapper(currItem).trim())) {\n                        isUnique = false\n                        return createError({ path: `${path}.${fieldPath}`, message })\n                    }\n                }\n                else {\n                    if (isString(item) && isString(currItem) && isEqualCI(item.trim(), currItem.trim())) {\n                        isUnique = false\n                        return createError({ path: `${path}.${fieldPath}`, message })\n                    }\n                }\n            }\n            currIndex = currIndex + 1\n        }\n\n        if (isUnique) {\n            return true;\n        }\n    });\n});\n\n// returns error if any item in nested array is duplicate\nYup.addMethod(Yup.object, \"lotFieldRequired\", function (message) {\n    return this.test(\"lotFieldRequired\", message, function (item) {\n        const { path, createError, parent, options } = this\n\n        const {\n            required,\n            value,\n            dataType\n        } = item || {}\n\n        if (required) {\n            switch (dataType) {\n                case FIELD_DATA_TYPES.DATE_RANGE: {\n                    if (!value || !isArray(value) || !(value[0] instanceof Date) || !(value[1] instanceof Date)) {\n                        return createError({ path: `${path}.value`, message })\n                    }\n                    break\n                }\n                case FIELD_DATA_TYPES.DATE: {\n                    if (!(value instanceof Date)) return createError({ path: `${path}.value`, message })\n                    break\n                }\n                case FIELD_DATA_TYPES.INTEGER: {\n                    if (!value) return createError({ path: `${path}.value`, message })\n                    break\n                }\n                case FIELD_DATA_TYPES.STRING: {\n                    if (!value) return createError({ path: `${path}.value`, message })\n                    break\n                }\n                default: {\n                    if (!value) return createError({ path: `${path}.value`, message })\n                    break\n                }\n            }\n        }\n\n        return true\n    });\n});\n\n// returns error if any item in nested array is duplicate\nYup.addMethod(Yup.array, \"nestedUnique\", function (message, path) {\n    const mapper = x => get(x, path);\n    return this.test(\"nestedUnique\", message, function (list) {\n        let set\n        let totalList = []\n        list.forEach((currList, currListIndex) => {\n            totalList = totalList.concat(currList)\n        })\n\n        set = [...new Set(totalList.map(mapper))];\n        const isUnique = totalList.length === set.length;\n        if (isUnique) {\n            return true;\n        }\n\n        let idx = 0\n        let rowIdx = 0\n        let i = 0\n        let err\n\n        for (const sublist of list) {\n            idx = 0\n\n            for (const item of sublist) {\n                if (!err && isEqualCI(mapper(item).trim(), set[i].trim())) {\n                    err = this.createError({ path: `fields[${rowIdx}][${idx}].${path}`, message })\n                }\n\n                idx = idx + 1\n                i = i + 1\n            }\n            rowIdx = rowIdx + 1\n        }\n\n        return err\n    });\n});\n\n// returns error if value is in arr\nYup.addMethod(Yup.string, \"notIn\", function (message, arr, pathToOthers) {\n    return this.test(\"notIn\", message, function (value) {\n        const { path, createError, parent, options } = this\n        const {\n            context\n        } = options || {}\n        const {\n            [pathToOthers]: others = []\n        } = context || {}\n\n        for (const item of arr.concat(Object.values(others))) {\n            if (isString(value) && isString(item) && isEqualCI(item.trim(), value.trim())) return createError({ path, message })\n        }\n        return true\n    });\n});\n\n// returns error if value is in arr\nYup.addMethod(Yup.string, \"uniqueByPath\", function (message, arrPath) {\n    return this.test(\"uniqueByPath\", message, function (value) {\n        const { path, createError, parent } = this;\n\n        if (value) {\n            const parentValues = parent[arrPath]\n\n            if (isArray(parentValues)) {\n                for (const currParentValue of parentValues) {\n\n                    const {\n                        name,\n                        id\n                    } = currParentValue\n\n                    if (name === value && parent._id !== id) return createError({ path, message })\n                }\n            }\n        }\n\n        return true\n    });\n});\n\n// Checks for unique values of an array of objects\nYup.addMethod(Yup.object, 'uniqueProperty', function (propertyName, message) {\n    return this.test('unique', message, function (value) {\n      if (!value || !value[propertyName]) {\n        return true;\n      }\n  \n      const { path } = this;\n      const options = [...this.parent];\n      const currentIndex = options.indexOf(value);\n  \n      const subOptions = options.slice(0, currentIndex);\n  \n      if (subOptions.some((option) => option[propertyName] === value[propertyName])) {\n        throw this.createError({\n          path: `${path}.${propertyName}`,\n          message,\n        });\n      }\n  \n      return true;\n    });\n  });\n\nexport const signUpSchema = Yup.object().shape({\n    email: Yup.string()\n        .email()\n        .required('Please enter an email'),\n\n    accessCode: Yup.string()\n        .required('Please enter a access code')\n        .matches(/\\b(c20513dd-a031-495e-bd38-a342128b24b9|690f5884-aef6-4f65-b098-9c9304baac48)\\b/, 'Must be a valid access code'),\n\n    password: Yup.string()\n        .required('Please enter a password')\n        .matches(\n            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$\\-!%*#?&]{8,}$/,\n            \"Must Contain at least 8 characters, one uppercase, one lowercase, and one number\"\n        ),\n\n    confirmPassword: Yup.string()\n        .oneOf([Yup.ref('password'), null], 'Passwords must match')\n        .required('Confirm password field cannot be left empty')\n})\n\nexport const signInSchema = Yup.object().shape({\n    email: Yup.string()\n        .email()\n        .required('Please enter an email'),\n    password: Yup.string()\n        .required('Please enter a password'),\n\n})\n\nexport const emailSchema = Yup.object().shape({\n    email: Yup.string()\n        .email()\n        .required('Please enter an email')\n})\n\nexport const passwordResetSchema = Yup.object().shape({\n    email: Yup.string()\n        .email()\n        .required('Please enter an email'),\n    verification: Yup.string()\n        .required('Please enter you verification code'),\n    password: Yup.string()\n        .required('Please enter a password')\n        .matches(\n            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d@$\\-!%*#?&]{8,}$/,\n            \"Must Contain 8 characters, one uppercase, one lowercase, one number and one special character\"\n        ),\n    checkPassword: Yup.string()\n        .oneOf([Yup.ref('password'), null], 'Passwords must match')\n        .required('Password confirm is required')\n})\n\nexport const quantityOneSchema = Yup.object().shape({\n    quantity: Yup.number()\n        .min(1, \"Must be at least 1.\")\n        .required('This field is required.'),\n})\n\n\nconst binsSchema = lazy(obj => object(\n    mapValues(obj, (value, key) => {\n        return Yup.object().shape({\n            count: Yup.number()\n                .min(1, \"Must be at least 1.\")\n                .required('This field is required.'),\n        })\n    })\n));\n\nexport const CARD_SCHEMA_MODES = {\n    EDIT_LOT: \"EDIT_LOT\",\n    MOVE_LOT: \"MOVE_LOT\"\n}\n\nexport const uniqueNameSchema = Yup.object().shape({\n    name: Yup.string()\n        .uniqueByPath(\"A lot with this name already exists.\", \"cardNames\"),\n})\n\nexport const editLotSchema = Yup.object().shape({\n    name: Yup.string()\n        // .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.'),\n    fields: Yup.array().of(\n        Yup.array().of(\n            Yup.object().shape({\n                // value: Yup.\n            }).lotFieldRequired(\"This field is required.\")\n        )\n    ),\n    description: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(250, '250 character maximum.'),\n    bins: binsSchema,\n    processId: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(100, '50 character maximum.')\n        .required('Please select a process.')\n        .nullable(),\n    // dates: Yup.object().nullable().startEndDate(\"start\", \"end\", \"End date must be after start date.\")\n})\n\nexport const getMoveLotSchema = (maxCount) => Yup.object().shape({\n    moveCount: Yup.number()\n        .min(1, 'Must be positive value.')\n        .max(maxCount, `Only ${maxCount} items are available.`)\n        .required('Please enter a quantity.'),\n    moveLocation: Yup.array().of(\n        Yup.object().shape({\n            name: Yup.string()\n                .required('Please select a destination.'),\n        })\n    )\n        .min(1, 'Please select a destination.')\n        .required('Please select a destination.')\n        .nullable(),\n})\n\nexport const LotFormSchema = Yup.object().shape({\n    fields: Yup.array().of(\n        Yup.array().of(\n            Yup.object().shape({\n                _id: Yup.string()\n                    .required('Field missing ID.'),\n                fieldName: Yup.string()\n                    .min(1, '1 character minimum.')\n                    .max(50, '50 character maximum.')\n                    .notIn(\"This field name is already being used.\", [], \"displayNames\")\n                    .notIn(\"This field name is reserved.\", Object.values(LOT_TEMPLATES_RESERVED_FIELD_NAMES))\n                    .required('Please enter a name for this field.'),\n                style: Yup.object()\n            }).dopeUnique(\"Field names must be unique\", \"fieldName\", \"fields\")\n        )\n    ),\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a name.'),\n})\n\nexport const templateMapperSchema = Yup.object().shape({\n    selectedFieldNames: Yup.array().of(\n        Yup.object().shape({\n            fieldName: Yup.string()\n                .min(1, '1 character minimum.')\n                .max(255, '50 character maximum.')\n                .required('Please enter field name.'),\n        }).dopeUnique(\"Field names must be unique\", \"fieldName\", \"selectedFieldNames\")\n    )\n})\n\nexport const selectLotQuantitySchema = Yup.object().shape({\n    items: Yup.array().of(\n        Yup.object().shape({\n            quantity: Yup.number()\n                .min(1, 'Must be at least 1.')\n                .required('Required.')\n        })\n    )\n})\n\n\nexport const getCardSchema = (mode, availableBinItems) => {\n    switch (mode) {\n        case CARD_SCHEMA_MODES.EDIT_LOT:\n            return editLotSchema\n        case CARD_SCHEMA_MODES.MOVE_LOT:\n            return getMoveLotSchema(availableBinItems)\n        default:\n            return editLotSchema\n\n    }\n\n}\n\nconst routeStationSchema = lazy(obj => {\n\n    let positionSchema\n    let stationSchema\n    if (isObject(obj)) {\n        if (!obj.position && !obj.station) {\n            positionSchema = Yup.string().nullable()\n            stationSchema = Yup.string().nullable().required('Please select a location.')\n        }\n        else if (obj.station && !obj.position) {\n            positionSchema = Yup.string().nullable()\n            stationSchema = Yup.string().nullable().required('Please select a location.')\n        }\n        else if (obj.position && !obj.station) {\n            positionSchema = Yup.string().nullable().required('Please select a location.')\n            stationSchema = Yup.string().nullable()\n        }\n        else {\n            positionSchema = Yup.string().nullable().required('Please select a location.')\n            stationSchema = Yup.string().nullable().required('Please select a location.')\n        }\n    } else {\n        positionSchema = Yup.string().nullable().required('Please select a location.')\n        stationSchema = Yup.string().nullable().required('Please select a location.')\n    }\n\n\n\n    return Yup.object().shape({\n        instructions: Yup.string().nullable(),\n        position: positionSchema,\n        station: stationSchema,\n        timeout: Yup.string().nullable(),\n    })\n});\n\nexport const routeSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(75, '75 character maximum.')\n        .required('Please enter a name.'),\n    part: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a part name.'),\n    load: Yup.string().required('Select a load location'),\n    unload: Yup.string().required('Select an unload location')\n})//.uniqueProperty('part', 'Route part names must be unique')\n\n\nexport const hilModalSchema = Yup.object().shape({\n    quantity: Yup.number()\n        .min(1, 'Minimum value of 1 required.')\n})\n\nexport const routesSchema = Yup.array().of(\n    routeSchema\n)\n\n// export const processSchema = Yup.object().shape({\n//     name: Yup.string()\n//         .min(1, '1 character minimum.')\n//         .max(50, '50 character maximum.')\n//         .required('Please enter a name.'),\n//     routes: routesSchema,\n\n// })\n\n// const DFSIsCyclic = (routes, node, visited) => {\n//     const outgoingRoutes = getNodeOutgoing(node, routes);\n\n//     for (var outgoingRoute of outgoingRoutes){\n//         const nextNode = outgoingRoute.unload;\n//         if (visited[nextNode] === 'EXPLORING') {\n//             return true\n//         } else if (visited[nextNode] === false) {\n//             visited[nextNode] = 'EXPLORING'\n//             let isCyclic = DFSIsCyclic(routes, nextNode, deepCopy(visited));\n//             if (isCyclic) return true\n//         }\n//     }\n\n//     visited[node] = true;\n//     return false;\n\n// }\n\nexport const getProcessSchema = (stations) => Yup.object().shape({\n    name: Yup.string()\n        .min(1, '1 character minimum.')\n        .max(50, '50 character maximum.')\n        .required('Please enter a name.'),\n    routes: Yup.array().of(\n        routeSchema.test(\n            'doesConnectWarehouses',\n            'Routes cannot go between two warehouses',\n            (route) => !(stations[route.load]?.type === 'warehouse' && stations[route.unload]?.type === 'warehouse')\n        )\n    ).test(\n        'doRoutesConverge',\n        'All routes of the process must converge at a single station',\n        (routes) => {\n            let loadStations = routes.map(route => route.load);\n            let unloadStations = routes.map(route => route.unload);\n    \n            let numTerminalStations = 0;\n            for (var i=0; i<unloadStations.length; i++) {\n                const unloadStationA = unloadStations[i];\n    \n                if (loadStations.find(loadStation => loadStation === unloadStationA) === undefined) {\n                    if (unloadStations.slice(0, i).find(unloadStationB => unloadStationB === unloadStationA) === undefined) {\n                        numTerminalStations += 1;\n                    }\n                }\n            }\n    \n            return numTerminalStations === 1;\n        }\n    ).test(\n        'isProcessCyclic',\n        'Processes cannot contain loops. As a general rule, if your process contains a loops create a new \"virtual\" station to loop back to instead.',\n        (routes) => {\n            const startNodes = findProcessStartNodes(routes);\n\n            for (var startNode of startNodes) {\n                let stack = [startNode];\n                let isCyclic = DFSContainsCycle(routes, stack)\n                if (isCyclic) return false;\n            }\n\n            return true\n        }\n    )\n\n})\n\nconst DFSContainsCycle = (routes, stack) => {\n\n    let node = stack[stack.length-1];\n    let outgoingRoutes = getNodeOutgoing(node, routes);\n    for (var outgoingRoute of outgoingRoutes) {\n        let nextNode = outgoingRoute.unload;\n        if (stack.includes(nextNode)) return true;\n        let nextStack = deepCopy(stack);\n        nextStack.push(nextNode);\n        let isCyclic = DFSContainsCycle(routes, nextStack)\n        if (isCyclic) return true;\n    }\n\n    return false;\n\n}\n\nexport const locationSchema = (stations, selectedLocation) => {\n\n    let stationNames = []\n    Object.values(stations).forEach(station => {\n        if (!!selectedLocation && station._id === selectedLocation._id) {\n\n        }\n        else {\n            stationNames.push(station.name)\n        }\n    })\n\n    return (\n        Yup.object().shape({\n            locationName: Yup.string()\n                .required('Please enter a name')\n                .notOneOf(stationNames, 'Name already in use')\n        })\n    )\n}\n\n\n// Sees if input1 is greater than input2. If so then through error\nYup.addMethod(Yup.string, 'greaterThan', function (input2Path, message) {\n    return this.test('greaterThan', message, function (input1) {\n        const { parent, path, createError } = this\n\n        const input2 = parent[input2Path]\n\n        // Take the Hour and minute\n        const [beg1, end1] = input1.split(':')\n        const [beg2, end2] = input2.split(':')\n\n        const input1Int = parseInt(`${beg1}${end1}`)\n        const input2Int = parseInt(`${beg2}${end2}`)\n\n        if (input1Int < input2Int) return true\n        else {\n            return this.createError({\n                path: this.path,\n                message: message,\n            })\n        }\n\n    })\n})\n\n// Sees if input1 is less than input2. If so then through error\nYup.addMethod(Yup.string, 'lessThan', function (input2Path, message) {\n    return this.test('lessThan', message, function (input1) {\n        const { parent, path, createError } = this\n        const input2 = parent[input2Path]\n\n        // Take the Hour and minute\n        const [beg1, end1] = input1.split(':')\n        const [beg2, end2] = input2.split(':')\n\n        const input1Int = parseInt(`${beg1}${end1}`)\n        const input2Int = parseInt(`${beg2}${end2}`)\n\n        if (input1Int > input2Int) return true\n        else {\n            return this.createError({\n                path: this.path,\n                message: message,\n            })\n        }\n\n    })\n})\n\n// Sees if input1 is less than input2. If so then through error\nYup.addMethod(Yup.number, 'lessThanInt', function (input2Path, message) {\n    return this.test('lessThanInt', message, function (input1) {\n        const { parent, path, createError } = this\n        const input2 = parent[input2Path]\n\n        if (!input2 || !input1) return true\n        if (input1 < input2) return true\n        else {\n            return this.createError({\n                path: this.path,\n                message: message,\n            })\n        }\n\n    })\n})\n\nexport const throughputSchema = Yup.object().shape({\n    expectedOutput: Yup.number()\n        .nullable(),\n    switch1: Yup.bool(),\n    startOfShift: Yup.string()\n        .required('Required'),\n    endOfShift: Yup.string()\n        .required('Required')\n        .lessThan(\"startOfShift\", 'The end of the shift cannot be before the start of the shift'),\n    startOfBreak1: Yup.string()\n        // Only validate when true\n        .when('switch1', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                // Make sure it starts before the end of the break\n                .greaterThan(\"endOfBreak1\", 'The start of the break must be before the end of the break'),\n        }),\n\n    endOfBreak1: Yup.string()\n        // Only validate when true\n        .when('switch1', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                .lessThan(\"startOfBreak1\", 'The end of break cannot be before the start of the break')\n                .when('switch2', {\n                    is: true,\n                    then: Yup.string()\n                        .greaterThan(\"startOfBreak2\", 'The end of the break must be before the start of the next break break'),\n                })\n        }),\n\n\n    startOfBreak2: Yup.string()\n        // Only validate when true\n        .when('switch2', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                .greaterThan(\"endOfBreak2\", 'The start of the break must be before the end of the break')\n                .when('switch1', {\n                    is: true,\n                    then: Yup.string()\n                        .lessThan(\"endOfBreak1\", 'The start of break cannot be before the end of the previous break'),\n                }),\n        }),\n\n    endOfBreak2: Yup.string()\n        // Only validate when true\n        .when('switch2', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                .lessThan(\"startOfBreak2\", 'The end of break cannot be before the start of the break')\n\n                .when('switch3', {\n                    is: true,\n                    then: Yup.string()\n                        .greaterThan(\"startOfBreak3\", 'The end of the break must be before the start of the next break break'),\n                }),\n        }),\n\n    startOfBreak3: Yup.string()\n        // Only validate when true\n        .when('switch3', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                .greaterThan(\"endOfBreak3\", 'The start of the break must be before the end of the break')\n                .when('switch2', {\n                    is: true,\n                    then: Yup.string()\n                        .lessThan(\"endOfBreak2\", 'The start of break cannot be before the end of the previous break'),\n                }),\n        }),\n\n    endOfBreak3: Yup.string()\n        // Only validate when true\n        .when('switch3', {\n            is: true,\n            then: Yup.string()\n                .required('Required')\n                // Make sure it starts after the start of shift and before the end of the shift\n                .lessThan(\"startOfShift\", 'The first break cannot be before the start of the shift')\n                .greaterThan(\"endOfShift\", 'The end of the last break must be before the end of the shift')\n                .lessThan(\"startOfBreak3\", 'The end of break cannot be before the start of the break')\n        }),\n\n})\n\n\nexport const deviceSchema = Yup.object().shape({\n\n    schedules: Yup.array()\n        .of(\n            Yup.object().shape({\n                name: Yup.string().required('Required').nullable(),\n                position: Yup.string().required('Required').nullable(),\n                time: Yup.string().required('Required').nullable()\n            })\n        ),\n\n    charge_level: Yup.object().shape({\n        chargeEnabled: Yup.bool(),\n        min: Yup.number()\n            .lessThanInt(\"max\", 'Min Percent must be less then Max percent')\n            // Only validate when true\n            .when('chargeEnabled', {\n                is: true,\n                then: Yup.number()\n                    .required('Required')\n                    .nullable(),\n            }),\n        max: Yup.number()\n            // Only validate when true\n            .when('chargeEnabled', {\n                is: true,\n                then: Yup.number()\n                    .required('Required')\n                    .nullable(),\n            }),\n\n    }),\n})\n","import styled, {css} from 'styled-components'\n\nexport const containerLayout = css`\n\tdisplay: flex;\n  \tflex-direction: column;\n  \tflex: 1;\n  \talign-self: stretch;\n`\n\nexport const columnRowLayout = css`\n\talign-self: stretch;\n`\n\nexport const bodyStyle = css`\n  background: ${props => props.theme.bg.primary};\n`\n\nexport const headerStyle = css`\n  z-index: 10;\n  background: ${props => props.theme.bg.secondary};\n  box-shadow: 0px 0px 6px 1px rgba(0,0,0,0.2);\n`\n\nexport const footerStyle = css`\n  background: ${props => props.theme.bg.secondary};\n`\n\nexport const textSpanStyle = css`\n  margin: 0;\n  padding: 0;\n  text-align: center;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  \n`","import styled from 'styled-components'\n\nexport const TitleContainer = styled.h1`\n    font-size: ${props => props.theme.fontSize.sz2};\n    font-family: ${props => props.theme.font.primary};\n    color: ${props => props.theme.bg.septenary};\n    margin-top: .6rem;\n`;\n\nexport const DefaultContainer = styled.div`\n`;\n\nexport const DefaultFieldContentContainer = styled.div`\n    width: 100%;\n    height: auto;\n    position: relative;\n    // background: blue;\n`;\n\nexport const DefaultFieldDropdownContainer = styled.div`\n    flex: 1;\n`;\n\nexport const IconContainerComponent = styled.div`\n    width: auto;\n    height: auto;\n    position: absolute;\n    top: 50%;\n    right: 2rem;\n    transform: translateY(-50%);\n    margin: 0;\n    padding: 0;\n    background; cyan;\n`;\n","import React, { Component, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useField, useFormikContext } from \"formik\";\nimport DropDownSearch from '../../drop_down_search_v2/drop_down_search';\n// import {globStyle} from '../../../../global_style'\nimport { getMessageFromError } from \"../../../../methods/utils/form_utils\";\n\n// import styles\nimport * as styled from './drop_down_search_field.style'\nimport ErrorTooltip from \"../error_tooltip/error_tooltip\";\nimport { isEmpty } from \"ramda\";\n\n\nconst DropDownSearchField = ({\n    fieldLabel,\n    LabelComponent,\n    ItemComponent,\n    ContentComponent,\n    ErrorComponent,\n    onDropdownClose,\n    onChange,\n    FieldContentContainer,\n    FieldDropdownContainer,\n    Container,\n    style,\n    containerSyle,\n    mapInput,\n    mapOutput,\n    ...props\n}) => {\n\n    const { setFieldValue, setFieldTouched } = useFormikContext();\n    const [field, meta] = useField(props);\n    const hasError = meta.touched && meta.error;\n\n    const [value, setValue] = useState(field.value)\n    const [touched, setTouched] = useState(field.touched)\n    const [updatingValue, setUpdatingValue] = useState(false)\n\n    /*\n    * This is kindy funky\n    * The first time you select a value, both onChange and onDropdownClose get called since the dropdown closes when you select a value\n    * onChange is called first, and updates the values and performs validation\n    * THEN onDropdownClose is called, updates field.touched and performs validation\n    * however, onDropdownClose gets called AFTER onChange but still has the old values\n    * This means a second validation would be performed with the old values, which can result in a validation error for the old values, even if the new values don't have an error\n    * by managing it in a hook this way, validation for field.touched can be controlled directly\n    *\n    * */\n    useEffect(() => {\n\n        if (touched) {\n            // update touched\n            // only perform validation if value is not being updated, otherwise validate will be called twice unnecessarily\n            setFieldTouched(field.name, touched, !updatingValue)\n        }\n        // set\n        if (updatingValue) setUpdatingValue(false)\n\n        return () => {\n            setTouched(false)\n        }\n\n    }, [touched])\n\n    let ReactDropdownSelectStyle = {\n        borderColor: hasError && 'red',\n        boxShadow: hasError && `0 0 5px red`,\n    }\n\n    const errorMessage = getMessageFromError(meta.error);\n\n    return (\n        <Container\n            style={containerSyle}\n        >\n            {fieldLabel &&\n                <LabelComponent>{fieldLabel}</LabelComponent>\n            }\n\n            <styled.DefaultFieldContentContainer>\n                {/*<style.DefaultFieldDropdownContainer>*/}\n                <DropDownSearch\n                    onBlur={() => { }}\n                    style={{ ReactDropdownSelectStyle, ...style }}\n                    theme={props.theme}\n                    ItemComponent={ItemComponent}\n                    ContentComponent={ContentComponent}\n                    onDropdownClose={() => {\n                        // set this field to touched if not already\n                        const isTouched = meta.touched;\n                        if (!isTouched) {\n                            setTouched(true)\n                        }\n                        // call any additional function that was passed as prop\n                        onDropdownClose && onDropdownClose();\n                    }}\n                    values={field.value ? mapInput(field.value) : []}\n                    {...field}\n                    {...props}\n                    onChange={values => {\n                        // update field value and set updating to true for use in the hook\n                        setFieldValue(field.name, mapOutput(values));\n                        setUpdatingValue(true)\n                        onChange && onChange(values)\n                    }}\n                    onRemoveItem={\n                        () => {\n                            // set this field to touched if not already\n                            const isTouched = meta.touched;\n                            if (!isTouched) {\n                                setTouched(true)\n                            }\n                            setFieldValue(field.name, \"\");\n\n                        }\n                    }\n\n                    onClearAll={() => setFieldValue(field.name, \"\")}\n                />\n                {/*</style.DefaultFieldDropdownContainer>*/}\n\n                <ErrorTooltip\n                    visible={hasError}\n                    text={errorMessage}\n                    ContainerComponent={styled.IconContainerComponent}\n                />\n            </styled.DefaultFieldContentContainer>\n            {/*\n\t\t\t{meta.touched && meta.error ? (\n\t\t\t\t<ErrorComponent className=\"error\">{Object.values(meta.error)}</ErrorComponent>\n\t\t\t) : null}\n\t\t\t*/}\n\n        </Container>\n    );\n};\n\n// Specifies propTypes\nDropDownSearchField.propTypes = {\n    LabelComponent: PropTypes.elementType,\n    FieldDropdownContainer: PropTypes.elementType,\n    FieldContentContainer: PropTypes.elementType,\n    style: PropTypes.object,\n    mapInput: PropTypes.func,\n    mapOutput: PropTypes.func,\n};\n\n// Specifies the default values for props:\nDropDownSearchField.defaultProps = {\n    LabelComponent: styled.TitleContainer,\n    FieldDropdownContainer: styled.DefaultFieldDropdownContainer,\n    FieldContentContainer: styled.DefaultFieldContentContainer,\n    Container: styled.DefaultContainer,\n    onChange: null,\n    mapInput: (val) => val,\n    mapOutput: (val) => val,\n    style: {}\n};\n\nexport default DropDownSearchField;\n","import React, {useState, useEffect, useRef} from 'react';\nimport { createPortal } from \"react-dom\";\nimport DropDownSearch, {DefaultReactDropdownSelect} from \"../components/basic/drop_down_search_v2/drop_down_search\";\n\nconst Portal = (props) => {\n\n\tconst {\n\t\tchildren,\n\t\tmountElement\n\t} = props\n\n\tconst mount = document.getElementById(mountElement);\n\tconst el = useRef(document.createElement(\"div\")).current;\n\n\tuseEffect(() => {\n\t\tmount && mount.appendChild(el);\n\n\t\treturn () => mount && mount.removeChild(el);\n\t}, [el, mount]);\n\n\treturn createPortal(children, el)\n};\n\n\nPortal.defaultProps = {\n\tmountElement: \"root\",\n};\nexport default Portal;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import styled from 'styled-components';\nimport {css} from 'styled-components'\n\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n`\n\nconst inputCss = css`\n  -webkit-transition: all 0.30s ease-in-out;\n  -moz-transition: all 0.30s ease-in-out;\n  -ms-transition: all 0.30s ease-in-out;\n  -o-transition: all 0.30s ease-in-out;\n\n  transition: all 0.30s ease-in-out;\n  transition: all 0.30s ease-in-out;\n  height: 3.5rem;\n\n  border-radius: 0rem;\n  text-align: center;\n  width: 10rem;\n  font-size: 2rem;\n  color: white;\n  background: ${props => props.theme.bg.quinary};\n\n  color: ${props => props.theme.bg.octonary};\n  background: ${props => props.theme.bg.tertiary};\n  border: none;\n\n  //-webkit-appearance: none !important;\n  &:focus{\n    outline: 0 !important;\n    box-shadow: 0 0 5px 2px ${props => props.theme.fg.primary};\n    background: ${props => props.theme.bg.secondary};\n  }\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  & input[type=number] {\n    -moz-appearance: textfield;\n  }\n\n  ${props => props.inputCss && props.inputCss};\n`\n\nexport const Input = styled.input`\n  ${inputCss};\n\n  read-only: true;\n`\n\nexport const FakeInput = styled.div`\n  // background: ${props => props.theme.bg.secondary};\n\n  ${inputCss};\n`\n\nconst buttonCss = css`\n  font-size: 3.5rem;\n  transition: text-shadow 0.1s ease, filter 0.1s ease;\n  color: ${props => props.color};\n  background: transparent;\n  border: none;\n  outline: none !important;\n\n\n`\nconst usableCss = css`\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:active{\n    filter: brightness(85%);\n    text-shadow: none;\n  }\n`\n\nconst notUsableCss = css`\n  &:hover {\n    cursor: default;\n  }\n\n`\n\nexport const Button = styled.button`\n  ${buttonCss};\n  ${props => props.disabled && disabledCss};\n  ${props => props.usable ? usableCss : notUsableCss}\n`\n\n\nconst disabledCss = css`\n  color: ${props => props.theme.disabled};\n  &:hover {\n    cursor: default !important;\n  }\n`\n","import React, {useRef, useContext} from \"react\"\n\n// functions external\nimport PropTypes from 'prop-types'\nimport {isObject} from \"../../../methods/utils/object_utils\";\n\n// styles\nimport * as styled from './number_input.style'\nimport { ThemeContext } from 'styled-components'\n\nexport const NUMBER_INPUT_BUTTON_TYPES = {\n\tPLUS: \"PLUS\",\n\tMINUS: \"MINUS\"\n}\n\nconst NumberInput = ({\n\tmaxValue,\n\tminValue,\n\tonMinusClick,\n\tonPlusClick,\n\tminusDisabled,\n\thasError,\n\tonInputChange,\n\tinputDisabled,\n\t// themeContext,\n\tvalue,\n\tplusDisabled,\n\tinputCss,\n\tonKeyPress,\n\tlongPlusPressEvent,\n\tlongMinusPressEvent,\n\tusable,\n\tonFocus,\n\tonBlur,\n\tinputChildren,\n\tinputStyle,\n\tbuttonStyle,\n\tcontainerStyle,\n\t...props }) => {\n\n\tconst inputRef = useRef(null)\n\tconst onWheel = () => {\n\t\tinputRef?.current && inputRef.current.blur();\n\t};\n\n\tconst themeContext = useContext(ThemeContext);\n\n\treturn (\n\t\t<styled.Container style={containerStyle}>\n\t\t\t<styled.Button\n\t\t\t\tusable={usable}\n\t\t\t\tcolor={themeContext.fg.primary}\n\t\t\t\tclassName='fas fa-minus-square'\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tonMinusClick()\n\t\t\t\t}}\n\t\t\t\t{...longMinusPressEvent}\n\t\t\t\tdisabled={minusDisabled}\n\t\t\t\tstyle={buttonStyle}\n\t\t\t/>\n\t\t\t<div style={{position: \"relative\"}}>\n\t\t\t\t<styled.Input\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\tusable={usable}\n\t\t\t\t\treadOnly={props.readOnly || !usable}\n\t\t\t\t\tdisabled={props.inputDisabled || !usable}\n\t\t\t\t\tinputCss={inputCss}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tonChange={onInputChange}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tstyle={inputStyle}\n\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\tonScroll={(e)=>{\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}}\n\t\t\t\t\tonWheel={onWheel}\n\t\t\t\t\t// onMouseWheel={(e) => {\n\t\t\t\t\t// \te.preventDefault()\n\t\t\t\t\t// \treturn false\n\t\t\t\t\t// }}\n\t\t\t\t>\n\t\t\t\t</styled.Input>\n\t\t\t\t{inputChildren}\n\t\t\t</div>\n\t\t\t<styled.Button\n\t\t\t\tusable={usable}\n\t\t\t\tclassName='fas fa-plus-square'\n\t\t\t\tcolor={themeContext.fg.primary}\n\t\t\t\tdisabled={plusDisabled}\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation()\n\t\t\t\t\te.preventDefault()\n\t\t\t\t\tonPlusClick()\n\t\t\t\t}}\n\t\t\t\t{...longPlusPressEvent}\n\t\t\t\tstyle={buttonStyle}\n\t\t\t/>\n\t\t</styled.Container>\n\t)\n}\n\n// Specifies propTypes\nNumberInput.propTypes = {\n\tplusDisabled: PropTypes.bool,\n\tinputDisabled: PropTypes.bool,\n}\n\n// Specifies the default values for props:\nNumberInput.defaultProps = {\n\tplusDisabled: false,\n\tinputDisabled: false,\n\tusable: true,\n\tonMinusClick: () => {},\n\tonPlusClick: () => {}\n}\n\nexport default NumberInput\n","import { useCallback, useRef, useState } from \"react\";\n\nconst useLongPress = (\n\tonLongPress,\n\tonLongPressEnd,\n\tonClick,\n\t{ shouldPreventDefault = true, delay = 300, minRate } = {}\n) => {\n\tconst [longPressTriggered, setLongPressTriggered] = useState(false);\n\tconst timeout = useRef();\n\tconst target = useRef();\n\n\tconst start = useCallback(\n\t\tevent => {\n\t\t\tif (shouldPreventDefault && event.target) {\n\t\t\t\tevent.target.addEventListener(\"touchend\", preventDefault, {\n\t\t\t\t\tpassive: false\n\t\t\t\t});\n\t\t\t\ttarget.current = event.target;\n\t\t\t}\n\t\t\ttimeout.current = setTimeout(() => {\n\t\t\t\tonLongPress(event);\n\t\t\t\tsetLongPressTriggered(true);\n\t\t\t}, delay);\n\t\t},\n\t\t[onLongPress, delay, shouldPreventDefault]\n\t);\n\n\tconst clear = useCallback(\n\t\t(event, shouldTriggerClick = true) => {\n\t\t\ttimeout.current && clearTimeout(timeout.current);\n\t\t\tonLongPressEnd()\n\t\t\tshouldTriggerClick && !longPressTriggered && onClick();\n\t\t\tsetLongPressTriggered(false);\n\t\t\tif (shouldPreventDefault && target.current) {\n\t\t\t\ttarget.current.removeEventListener(\"touchend\", preventDefault);\n\t\t\t}\n\t\t},\n\t\t[shouldPreventDefault, onClick, longPressTriggered]\n\t);\n\n\treturn {\n\t\tonMouseDown: e => start(e),\n\t\tonTouchStart: e => start(e),\n\t\tonMouseUp: e => clear(e),\n\t\tonMouseLeave: e => clear(e, false),\n\t\tonTouchEnd: e => clear(e)\n\t};\n};\n\nconst isTouchEvent = event => {\n\treturn \"touches\" in event;\n};\n\nconst preventDefault = event => {\n\tif (!isTouchEvent(event)) return;\n\n\tif (event.touches.length < 2 && event.preventDefault) {\n\t\tevent.preventDefault();\n\t}\n};\n\nexport default useLongPress;","import styled from 'styled-components';\nimport {css} from 'styled-components'\n\n\nexport const IconContainerComponent = styled.div`\n    width: auto;\n    height: auto;\n    position: absolute;\n    top: 50%;\n    right: 2rem;\n    transform: translateY(-50%);\n    margin: 0;\n    padding: 0;\n`;\n\nexport const errorCss = css`\n    box-shadow: 0 0 5px 2px red;\n    // border: 1px solid red;\n    \n    &:focus{\n        outline: 0 !important;\n        box-shadow: 0 0 5px 2px red;\n        // border: 1px solid red;\n    }\n`\n","import React, {useEffect, useRef, useState, useContext } from \"react\"\n\n// components internal\nimport ErrorTooltip from '../error_tooltip/error_tooltip'\nimport NumberInput, {NUMBER_INPUT_BUTTON_TYPES} from \"../../number_input/number_input\"\n\n// functions external\nimport PropTypes from 'prop-types'\nimport { useField, useFormikContext } from \"formik\"\nimport {\n\tisMobile\n} from \"react-device-detect\";\n\n// hooks\nimport useLongPress from \"../../../../hooks/useLongPress\"\n\n// styles\nimport * as styled from './number_field.style'\nimport { ThemeContext } from 'styled-components'\n\n// utils\nimport {setAcceleratingInterval} from \"../../../../methods/utils/utils\"\n\n// options for useLongPress hook\nconst longPressOptions = {\n\tshouldPreventDefault: true,\n\tdelay: 500,\n}\n\nconst NumberField = (props) => {\n\n\tconst {\n\t\tmaxValue,\n\t\tminValue,\n\t\tdisabled,\n\t\t...rest\n\t} = props\n\n\tconst { setFieldValue, setFieldTouched, validateOnChange, validateOnBlur, validateField, validateForm, ...context } = useFormikContext()\n\tconst [field, meta] = useField(props)\n\tconst {\n\t\tvalue: fieldValue,\n\t\tname: fieldName\n\t} = field\n\tconst timeoutRef = useRef(null)\n\n\tconst [longPressing, setLongPressing] = useState(false)\t// is button being long pressed??\n\tconst [valueState, setValueState] = useState(fieldValue)\t\t\t// temp stores field value for long press. Necessary because useState allows for using callback with previous value, which setFieldValue does not\n\tconst [previousValue, setPreviousValue] = useState(fieldValue)\n\tconst [focused, setFocused] = useState(false)\n\n\t// extract meta data\n\tconst { touched, error } = meta\n\n\t// does the field contain an error?\n\tconst hasError = touched && error\n\n\tconst themeContext = useContext(ThemeContext);\n\n\tuseEffect(() => {\n\t\tsetFieldValue(fieldName, parseInt(valueState))\n\t}, [valueState])\n\n\tconst createLongPressHandler = (buttonType) => {\n\t\treturn () => {\n\t\t\tsetLongPressing(true)\n\t\t\tsetValueState(parseInt(fieldValue) ||  0)\n\n\t\t\tsetAcceleratingInterval(\n\t\t\t\t() => {\n\n\t\t\t\t\t// evaluate as plus press\n\t\t\t\t\tif(buttonType === NUMBER_INPUT_BUTTON_TYPES.PLUS) {\n\n\t\t\t\t\t\t// if maxValue is provided, value must not exceed maxValue\n\t\t\t\t\t\tif(maxValue !== null) {\n\t\t\t\t\t\t\tsetValueState((previous) => {\n\t\t\t\t\t\t\t\t// if previous value is less than maxValue, go ahead and increment\n\t\t\t\t\t\t\t\tif(previous < maxValue) {\n\t\t\t\t\t\t\t\t\treturn parseInt(previous) + 1\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// *** OTHERWISE ***\n\t\t\t\t\t\t\t\ttimeoutRef.current && clearTimeout(timeoutRef.current)\t// clear timeout to cancel callback\n\t\t\t\t\t\t\t\treturn parseInt(previous)\t// return previous value\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// otherwise, value can be anything\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetValueState((previous) => {\n\t\t\t\t\t\t\t\treturn parseInt(previous) + 1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// evaluate as minus press\n\t\t\t\t\telse {\n\t\t\t\t\t\t// if min value is provided, value cannot be set lower than minValue\n\t\t\t\t\t\tif(minValue !== null) {\n\t\t\t\t\t\t\tsetValueState((previous) => {\n\t\t\t\t\t\t\t\t// if previous is still greater than minValue, go ahead and decrement\n\t\t\t\t\t\t\t\tif(previous > minValue) {\n\t\t\t\t\t\t\t\t\treturn parseInt(previous) - 1\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// *** otherwise ***\n\t\t\t\t\t\t\t\ttimeoutRef.current && clearTimeout(timeoutRef.current)\t// clear timeout to cancel callback\n\t\t\t\t\t\t\t\treturn previous\t\t// return previous value\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// otherwise value can be anything\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetValueState((previous) => {\n\t\t\t\t\t\t\t\treturn parseInt(previous) - 1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t50,\n\t\t\t\t500,\n\t\t\t\t99999999,\n\t\t\t\t25,\n\t\t\t\ttimeoutRef\n\t\t\t)\n\t\t}\n\t}\n\n\tconst onLongPressEnd = () => {\n\t\tsetLongPressing(false)\t// set pressing to false\n\t\ttimeoutRef.current && clearTimeout(timeoutRef.current)\t// clear timeout to stop callback\n\t}\n\n\tconst handleFocus = () => {\n\t\t// if(isMobile) {\n\t\tsetFocused(true)\n\t\tsetPreviousValue(parseInt(fieldValue))\n\t\tsetFieldValue(fieldName, \"\")\n\t\t// }\n\t}\n\n\tconst handleBlur = () => {\n\t\tif(isMobile) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetFocused(false)\n\t\t\t\tif(!longPressing)\n\t\t\t\t\tsetFieldValue(fieldName,\n\t\t\t\t\t\tNumber.isInteger(parseInt(fieldValue)) ? parseInt(fieldValue) :\n\t\t\t\t\t\t\tNumber.isInteger(parseInt(previousValue)) ? parseInt(previousValue) :\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t)\n\t\t\t}, 500)\n\t\t}\n\t}\n\n\tconst handleMinusClick = () => {\n\t\tif(!touched) {\n\t\t\tsetFieldTouched(fieldName, true)\n\t\t}\n\n\t\tif (maxValue) {\n\t\t\tif (fieldValue > maxValue) {\n\t\t\t\t// fieldValue should not exceed count, it may have been set higher before a lot was selected\n\t\t\t\t// reduce fieldValue to lot count\n\t\t\t\tsetFieldValue(fieldName, parseInt(maxValue))\n\t\t\t}\n\t\t}\n\n\t\t// fieldValue cannot be negative\n\t\tif (fieldValue > minValue) setFieldValue(fieldName,parseInt(parseInt(fieldValue) - 1))\n\t\t// setFieldValue(fieldName,fieldValue - 1)\n\t}\n\n\tconst handlePlusClick = () => {\n\t\tif(!touched) {\n\t\t\tsetFieldTouched(fieldName, true)\n\t\t}\n\n\t\t// if there is a maxValue, fieldValue cannot exceed maxValue\n\t\tif (maxValue) {\n\t\t\tif (parseInt(fieldValue) < maxValue) {\n\t\t\t\tsetFieldValue(fieldName,parseInt(parseInt(fieldValue) + 1))\n\t\t\t}\n\n\t\t\t// fieldValue is greater than count (probably was set before lot was selected), reduce to count\n\t\t\telse {\n\t\t\t\tsetFieldValue(fieldName, parseInt(maxValue))\n\t\t\t}\n\n\t\t}\n\t\t// otherwise fieldValue can be anything\n\t\telse {\n\t\t\tsetFieldValue(fieldName,parseInt(parseInt(fieldValue) + 1))\n\t\t}\n\t}\n\n\t// create events for long press (plus and minus)\n\tconst longPlusPressEvent = useLongPress(createLongPressHandler(NUMBER_INPUT_BUTTON_TYPES.PLUS), onLongPressEnd, handlePlusClick, longPressOptions)\n\tconst longMinusPressEvent = useLongPress(createLongPressHandler(NUMBER_INPUT_BUTTON_TYPES.MINUS), onLongPressEnd, handleMinusClick, longPressOptions)\n\n\treturn (\n\t\t\t<NumberInput\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tlongPlusPressEvent={longPlusPressEvent}\n\t\t\t\tlongMinusPressEvent={longMinusPressEvent}\n\t\t\t\tinputCss={hasError ? styled.errorCss : null}\n\t\t\t\tthemeContext={themeContext}\n\t\t\t\t// onMinusClick={handleMinusClick}\n\t\t\t\tminusDisabled={!(fieldValue > minValue) || !!disabled}\n\t\t\t\thasError={hasError}\n\t\t\t\tonInputChange={(e) => {\n\n\t\t\t\t\tif(!touched) {\n\t\t\t\t\t\tsetFieldTouched(fieldName, true)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst enteredValue = e.target.value\n\t\t\t\t\tconst enteredValueInt = parseInt(enteredValue)\n\n\t\t\t\t\tif (isNaN(enteredValueInt)) {\n\t\t\t\t\t\tif(enteredValue === \"-\") {\n\t\t\t\t\t\t\tsetFieldValue(fieldName, -0)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetFieldValue(fieldName, 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// if there is a maxValue, the fieldValue cannot exceed this\n\t\t\t\t\t\tif (maxValue) {\n\t\t\t\t\t\t\tif (enteredValueInt <= maxValue) setFieldValue(fieldName,enteredValueInt)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// otherwise the value can be anything\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsetFieldValue(fieldName, enteredValueInt)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\n\t\t\t\t}}\n\t\t\t\tvalue={longPressing ? valueState : fieldValue}\n\t\t\t\tplusDisabled={(maxValue) && !(fieldValue < maxValue) || !!disabled}\n\t\t\t\t// onPlusClick={handlePlusClick}\n\t\t\t\tinputChildren={<ErrorTooltip\n\t\t\t\t\tvisible={hasError && !focused}\n\t\t\t\t\ttext={error}\n\t\t\t\t\tcolor={themeContext.bad}\n\t\t\t\t\tContainerComponent={styled.IconContainerComponent}\n\t\t\t\t/>}\n\t\t\t\t{...props}\n\n\t\t\t/>\n\t)\n}\n\n// Specifies propTypes\nNumberField.propTypes = {\n\tmaxValue: PropTypes.number,\n\tminValue: PropTypes.number,\n\tdisabled: PropTypes.bool,\n}\n\n// Specifies the default values for props:\nNumberField.defaultProps = {\n\tmaxValue: null,\n\tminValue: null,\n\tdisabled: false,\n}\n\nexport default NumberField\n","import React, { useEffect, useState, useMemo } from \"react\";\n\n// components internal\nimport Lot from \"./lot\";\nimport VisibilitySensor from \"react-visibility-sensor\";\n\n// functions external\nimport PropTypes from \"prop-types\";\n\nimport { useSelector } from \"react-redux\";\nimport { useParams, useHistory } from \"react-router-dom\";\n// utils\nimport {\n  getBinQuantity,\n  getCustomFields,\n  safelyDeconstructBin,\n  handleMergeParts,\n} from \"../../../../../methods/utils/lot_utils\";\nimport * as styled from \"./lot.style\";\n\nconst LotContainer = (props) => {\n  const {\n    lotId,\n    binId,\n    enableFlagSelector,\n    containerStyle,\n    isPartial,\n    onDeleteDisabledLot,\n    onRightClickDeleteLot,\n    // quantity,\n    ...rest\n  } = props;\n  const history = useHistory();\n  const pageName = history.location.pathname;\n  const isDashboard = !!pageName.includes(\"/locations\");\n  const params = useParams();\n  const { dashboardID } = params;\n  const lot =\n    useSelector((state) => {\n      return state.cardsReducer.cards[lotId];\n    }) || {};\n  const {\n    bins,\n    lotNumber,\n    lotTemplateId,\n    totalQuantity,\n    name,\n    flags,\n    process_id: processId,\n  } = lot || {};\n  const routes = useSelector((state) => {\n    return state.tasksReducer.tasks;\n  });\n\n  const process =\n    useSelector((state) => {\n      return state.processesReducer.processes[processId];\n    }) || {};\n\n    const station = useSelector(state => state.stationsReducer.stations[binId]) || {}\n\n  const processName = useMemo(() => process.name, [process]);\n  const stationName = useMemo(() => station.name, [station]);\n  const templateValues = useMemo(\n    () => getCustomFields(lotTemplateId, lot, dashboardID),\n    [lotTemplateId, lot]\n  );\n\n  if (!(binId in bins)) { return null }\n  const { count=0, ...partials } = bins[binId] || {};\n\n  return (\n    <styled.LotFamilyContainer>\n          {((!!count && count > 0) || (count>=0 && !isDashboard)) &&\n              <Lot\n                  lotDisabled={(count < 1 && !!isDashboard) || isPartial}\n                  onDeleteDisabledLot = {onDeleteDisabledLot}\n                  onRightClickDeleteLot = {onRightClickDeleteLot}\n                  isDashboard={!!isDashboard}\n                  stationName={stationName}\n                  templateValues={templateValues}\n                  totalQuantity={totalQuantity}\n                  lotNumber={lotNumber}\n                  processName={processName}\n                  flags={flags || []}\n                  enableFlagSelector={enableFlagSelector}\n                  name={name}\n                  count={count}\n                  id={lotId}\n                  isSelected={false}\n                  selectable={false}\n                  onClick={() => {}}\n                  {...rest}\n                  containerStyle={{\n                      borderRadius: '0.5rem',\n                      width: \"80%\",\n                      margin: \".5rem auto .5rem auto\",\n                      ...containerStyle,\n                  }}\n              />\n          }\n          {Object.entries(partials).map(([routeId, quantity]) => (\n              <>\n                  {0<quantity && !!isDashboard &&\n                      <Lot\n                          lotDisabled={true}\n                          isDashboard={!!isDashboard}\n                          processName={processName}\n                          stationName={stationName}\n                          templateValues={templateValues}\n                          totalQuantity={totalQuantity}\n                          lotNumber={lotNumber}\n                          flags={flags || []}\n                          enableFlagSelector={enableFlagSelector}\n                          name={name + ` (${routes[routeId]?.part})`}\n                          count={quantity}\n                          id={lotId}\n                          isSelected={false}\n                          selectable={false}\n                          onClick={() => {}}\n                          {...rest}\n                          containerStyle={{\n                          width: \"80%\",\n                          margin: \".5rem auto .5rem auto\",\n                          ...containerStyle,\n                          }}\n                      />\n                  }\n              </>\n          ))}\n    </styled.LotFamilyContainer>\n  )\n};\n\nLotContainer.propTypes = {\n  lotId: PropTypes.string,\n  binId: PropTypes.string,\n};\n\nLotContainer.defaultProps = {\n  lotId: \"\",\n  binId: \"\",\n  enableFlagSelector: false,\n};\n\nexport default LotContainer;\n","import styled, {css} from \"styled-components\";\nimport {Form} from \"formik\";\nimport {commonClickableIcon, iconButtonCss} from \"../../../../../common_css/common_css\";\nimport {containerLayout} from \"../../../../../common_css/layout\";\nimport SyncProblemIcon from \"@material-ui/icons/SyncProblem\";\nimport SyncIcon from \"@material-ui/icons/Sync\";\n\nexport const rowCss = css`\n\t// margin-bottom: 1rem;\n`\n\nexport const Container = styled.div`\n  ${containerLayout};\n  overflow: hidden;\n`;\n\nexport const Header = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 1rem 0.5rem;\n\tmargin: 0;\n\tbackground: ${props => props.theme.bg.secondary};\n\tz-index: 10;\n\tbox-shadow: 0px 0px 6px 1px rgba(0,0,0,0.2);\n`\n\nexport const CloseIcon = styled.i`\n    font-size: 1.4rem;\n    //margin: 2rem;\n  \tright: 2rem;\n  \tposition: absolute;\n    color: ${props => props.theme.bg.quaternary};\n    cursor: pointer;\n\n`\n\nexport const LotNumberContainer = styled.div`\n  background: ${props => props.theme.bg.quinary};\n`\n\nexport const NameContainer = styled.div`\n  align-self: stretch;\n  padding: 1rem 1rem 1rem 0;\n\tbackground: ${props => props.theme.bg.primary};\n  flex-direction: column;\n\tflex: 1;\n  //align-self: center;\n  display: flex;\n  align-items: flex-start;\n  margin: 0.5rem 2rem;\n`\n\nexport const NameLabel = styled.span`\n\tmargin-right: 1rem;\n  white-space: nowrap ;\n  width: fit-content;\n`\n\nexport const CloseButton = styled.button`\n\theight: 100%;\n\twidth: 3rem;\n\n`\n\nexport const Title = styled.div`\n\tflex: 2;\n\theight: 100%;\n\tmin-height: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\ttext-align: center;\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\talign-items: center;\n\tdisplay: flex;\n  \tflex-direction: column;\n\tfont-size: ${props => props.theme.fontSize.sz2};\n\tfont-weight: ${props => props.theme.fontWeight.bold};\n\tfont-family: ${props => props.theme.font.primary};\n\n`\nexport const TitleText = styled.span`\n\n`\n\nexport const FieldTitle = styled.span`\n  font-size: ${props => props.theme.fontSize.sz3};\n  font-weight: ${props => props.theme.fontWeight.bold};\n  font-family: ${props => props.theme.font.primary};\n  align-self: center;\n`\n\nexport const InfoText = styled.span`\n  font-size: ${props => props.theme.fontSize.sz3};\n  // font-weight: ${props => props.theme.fontWeight.bold};\n  font-family: ${props => props.theme.font.primary};\n  color: ${props => props.highlight ? props.theme.schema[props.schema].solid : props.textColor};\n`\n\nexport const SectionContainer = styled.div`\n\tborder-bottom: 3px solid ${props => props.theme.bg.secondary};\n  //padding: 0 1rem;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`\n\nexport const TheBody = styled.div`\n  position: relative;\n  overflow: auto;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n`\n\nexport const ScrollContainer = styled.div`\n  position: relative;\n  overflow: auto;\n  flex: 1;\n  display: flex;\n  //height: 50rem;\n  flex-direction: column;\n  //background: blue;\n\n\n`\n\n\n\n\nexport const ProcessFieldContainer = styled.div`\n  //margin-bottom: 1rem;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  padding-bottom: 0;\n  //width: auto;\n`\n\n\nexport const ProcessOptionsContainer = styled.div`\n\t//margin-bottom: 1rem;\n  display: flex;\n  overflow-x: auto;\n  overflow-y: hidden;\n  position: relative;\n\n\n  box-shadow: ${props => props.hasError && \"0 0 5px red\"};\n\n  background: ${props => props.theme.bg.primary};\n  padding: 1rem;\n  border-radius: 1rem;\n\n  padding-bottom: 1rem;\n\n  ::-webkit-scrollbar {\n    height: 10px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: rgba(100,100,100,0.2);\n    opacity: 10%;\n  }\n\n  ::-webkit-scrollbar-track:hover {\n    background: rgba(100,100,100,0.6);\n    border-left: 1px solid rgba(100,100,100,0.6);\n    border-right: 1px solid rgba(100,100,100,0.6);\n  }\n\n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: ${props => props.theme.bg.secondary};\n    border-radius: .5rem;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: #555;\n\n  }\n`\nexport const ProcessName = styled.span`\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nexport const ProcessOption = styled.div`\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\n\ttext-shadow: 0.05rem 0.05rem 0.2rem #303030;\n\t&:hover {\n\t\tcursor: pointer;\n\t\tfilter: brightness(140%);\n\t}\n\n\t&:active{\n\t\tfilter: brightness(85%);\n\t\ttext-shadow: none;\n\t}\n\n  \tbackground: ${props => props.theme.bg.senary};\n\n  \tpadding: 1rem;\n\tborder-radius: 1rem;\n  \tmargin-right: 1rem;\n\n\tmin-width: 10rem;\n\tmax-width: 10rem;\n\twidth: 10rem;\n\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t${props => (!props.isSelected && props.containsSelected) && \"filter: grayscale(50%)\"};\n\t${props => props.isSelected && \"filter: brightness(130%)\"};\n\ttransition: all 0.5s ease;\n\n\tfont-size: ${props => props.theme.fontSize.sz3};\n\tfont-weight: ${props => props.theme.fontWeight.normal};\n\tfont-family: ${props => props.theme.font.primary};\n\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n`\n\n\n\nconst mainCss = css`\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\twidth: 100%;\n\tmax-width: 100%;\n\toverflow: hidden;\n\tmax-height: 100%;\n\theight: 100%;\n\t// max-height: 100%;\n\t// overflow-x: hidden;\n\tborder-radius: .5rem;\n\tposition: relative;\n\n\toverflow: hidden;\n\tbackground: ${props => props.theme.bg.primary};\n\tflex: 1;\n\tjustify-content: space-between;\n`\n\nexport const StyledForm = styled(Form)`\n    ${mainCss};\n\n\ttransition: all .5s ease;\n\tfilter: ${props => props.loading && \"blur(5px)\"};\n`;\n\nexport const SubContainer = styled.div`\n  ${mainCss};\n`\n\n\n\nexport const ContentContainer = styled.div`\n\tdisplay: flex;\n\tpadding: 1rem;\n\tflex-direction: column;\n\tmax-height: 100%;\n\toverflow: hidden;\n\tflex: 1;\n\tjustify-content: space-between;\n`\n\nexport const FieldContainer = styled.div`\n  margin: 1rem;\n  flex: 1;\n  align-self: center;\n  justify-content: center;\n  display: flex;\n`\n\nexport const BodyContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n  width: 100%;\n  min-width: 100%;\n  background: ${props => props.theme.bg.primary};\n\tpadding: 1rem;\n  align-self: stretch;\n\n\t//flex: 1;\n\tjustify-content: space-between;\n  min-height: ${props => props.minHeight};\n\n`\n\nexport const WidgetContainer = styled.div`\n\tdisplay: flex;\n\tpadding-left: 1rem;\n\tcolor: ${props => props.theme.schema.lots.solid};\n\tfont-size: 1.4rem;\n\tjustify-content: center;\n\tcursor: pointer;\n\n\t${rowCss};\n`\n\nexport const Icon = styled.i`\n\tfont-size: 2rem;\n\tcolor: ${props => props.color};\n\tfont-family: ${props => props.theme.font.primary};\n\tmargin-right: 1rem;\n`\n\nexport const ObjectInfoContainer = styled.div`\n\tdisplay: flex;\n\t//width: 100%;\n\tflex-direction: column;\n\talign-items: center;\n`\n\n\n\nexport const CountInput = styled.input`\n\twidth: fit-content;\n`\n\nexport const ObjectLabel = styled.span`\n\tdisplay: inline-flex;\n\tmargin-right: 1rem;\n\tfont-family: ${props => props.theme.font.primary};\n\tfont-weight: bold;\n  align-items: center;\n  text-align: center;\n`\n\nexport const QuantityErrorContainerComponent = styled.div`\n    width: auto;\n    height: auto;\n    position: absolute;\n    top: 50%;\n    right: 2.5rem;\n    transform: translateY(-50%);\n    margin: 0;\n    padding: 0;\n    ${props => props.iconContainerCss};\n`;\n\nexport const ObjectName = styled.span`\n\tdisplay: flex;\n`\n\nexport const InputContainer = styled.div`\n\tflex: 1;\n`\n\n\nexport const Footer = styled.div`\n  background: ${props => props.theme.bg.tertiary};\n  display: flex;\n  flex-direction: column;\n`\n\nexport const ButtonContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\tjustify-content: center;\n\talign-self: center;\n\tpadding: 1.5rem;\n\n\tbackground: ${props => props.theme.bg.secondary};\n\tz-index: 10;\n\tbox-shadow: 0px 0px 6px 1px rgba(0,0,0,0.2);\n`\n\nexport const DatesContainer = styled.span`\n\tdisplay: inline-flex;\n\talign-items: center;\n\tbackground: ${props => props.theme.bg.quinary};\n\tjustify-content: center;\n\tpadding: .75rem;\n\tborder-radius: 1rem;\n  width: fit-content;\n  margin: 0;\n\n\n\t//${rowCss};\n`\n\nexport const DateItem = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: ${props => props.theme.bg.secondary};\n\tborder-radius: 1rem;\n\n\tpadding: .5rem;\n\talign-items: center;\n\tjustify-content: center;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\n`\n\nexport const ErrorTooltipContainer = styled.div`\n\tmargin-left: 1rem;\n`\n\nexport const DateArrow = styled.i`\n\tmargin-left: 1rem;\n\tmargin-right: 1rem;\n\tcolor: ${props => props.theme.bg.senary};\n`\n\nexport const DateTitle = styled.span``\n\nexport const DateText = styled.span`\n\n`\n\nexport const TimeText = styled.span`\n\n`\n\nexport const StationContainer = styled.div`\n\t${rowCss};\n`\n\n// history\n\nexport const ContentHeader = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 100%;\n  \tmargin-bottom: 1rem;\n\t//padding: 1rem;\n`\n\nexport const FieldsHeader = styled.div`\n  align-self: stretch;\n\tdisplay: flex;\n  //padding: 1rem;\n  flex-direction: column;\n\t//justify-content: space-between;\n\twidth: 100%;\n  \t//margin-bottom: 1rem;\n  border-bottom: 2px solid ${props => props.theme.bg.secondary};\n\t//padding: 1rem;\n`\n\nexport const ContentTitle = styled.span`\n\tfont-size: ${props => props.theme.fontSize.sz3};\n\tfont-weight: ${props => props.theme.fontWeight.bold};\n\tfont-family: ${props => props.theme.font.primary};\n`\n\nexport const ContentValue = styled.span`\n  font-size: ${props => props.theme.fontSize.sz3};\n  font-weight: ${props => props.theme.fontWeight.normal};\n  font-family: ${props => props.theme.font.primary};\n`\n\n// export const InfoText = styled.span`\n//   font-size: ${props => props.theme.fontSize.sz3};\n//   font-weight: ${props => props.theme.fontWeight.no};\n// `\n\nexport const FieldLabel = styled.span`\n\tfont-size: ${props => props.theme.fontSize.sz3};\n\tfont-weight: ${props => props.theme.fontWeight.bold};\n\tfont-family: ${props => props.theme.font.primary};\n\twhite-space: nowrap ;\n\tmargin-right: 2rem;\n\tmargin-bottom: .5rem;\n`\n\nconst fieldValueCss = css`\n /* background-color: ${props => props.theme.bg.secondary}; */\n  border: none;\n  font-size: ${props => props.theme.fontSize.sz4};\n  font-family: ${props => props.theme.font.primary};\n  font-weight: bold;\n  white-space: nowrap;\n\n  flex-grow: 1;\n  color: ${props => props.theme.textColor};\n\n  /* box-shadow: 0 0.1rem 0.2rem 0rem rgba(0,0,0,0.1) !important; */\n  /* border-bottom: 2px solid ${props => props.theme.bg.secondary}; */\n\n  cursor: default;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const LotName = styled.span`\n  ${fieldValueCss};\n  padding: 0 .5rem;\n`\n\nexport const LotNumber = styled.div`\n\t${fieldValueCss};\n\n\tpadding: 0 2rem;\n`\n\nexport const TemplateButton = styled.button`\n  ${iconButtonCss};\n  ${commonClickableIcon};\n  font-size: 2.5rem;\n\n`\n\nexport const PasteIcon = styled.button`\n\n\t${iconButtonCss};\n  \t${commonClickableIcon};\n\tfont-size: 2.5rem;\n\n    animation: blinker 1s linear infinite;\n\n  @keyframes blinker {\n\t0% {\n\t  opacity: 0.5;\n\t}\n    50% {\n      //opacity: .2;\n\t  opacity: 1;\n      filter: brightness(120%);\n    }\n\n\t100% {\n      opacity: 0.5;\n\t}\n\n  }\n\n`\n\n\n\nexport const CalendarContainer = styled.div`\n\toverflow: auto;\n\n\t${rowCss};\n`\nexport const PopupFooter = styled.div`\n  paddding: 1rem;\n  display: flex;\n  overflow: auto;\n  height: 3rem;\n`\n\nconst rowCss2 = css`\n  display: flex;\n  align-items: center;\n`\n\nexport const RowContainer = styled.div`\n\t${rowCss2};\n`\n\nexport const SubHeader = styled.div`\n\tdisplay: flex;\n  align-self: stretch;\n  align-items: center;\n  justify-content: space-between;\n  background: ${props => props.theme.bg.primary};\n  padding: 0.5rem;\n  border-bottom: 3px solid ${props => props.theme.bg.secondary};\n\n`\nexport const IconRow = styled.div`\n  ${rowCss2};\n  align-items: center;\n  >div {\n    margin: 0 .5rem;\n  }\n`\n\nexport const ColumnContainer = styled.div`\n\tdisplay: flex;\n  flex-direction: column;\n  flex: 1;\n  align-self: stretch;\n\n\t// margin-bottom: 1rem;\n\n`\n\nexport const FadeLoaderCSS = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\n\n\nexport const HistoryBodyContainer = styled.div`\n\tdisplay: flex;\n\tpadding: 1rem;\n\tflex-direction: column;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tflex: 1;\n\tborder-bottom: 3px solid ${props => props.theme.bg.secondary};\n\tborder-top: 3px solid ${props => props.theme.bg.secondary};\n`\n\nexport const HistoryItemContainer = styled.div`\n\tdisplay: flex;\n\tpadding: 1rem;\n\tbackground: rgba(200,0,200,0.2);\n\tmargin-bottom: 1rem;\n\tborder-radius: 1rem;\n\tbackground: ${props => props.theme.bg.primary};\n  \tbox-shadow: ${props => props.theme.cardShadow};\n`\n\nconst textCommon = css`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n`\n\nconst historyContainerCommon = css`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n`\n\nexport const HistoryDateContainer = styled.div`\n\t${historyContainerCommon};\n\tflex: 1;\n\talign-items: flex-end;\n`\n\n\nexport const HistoryDateText = styled.span`\n\t${textCommon};\n`\n\nexport const HistoryUserContainer = styled.div`\n\t${historyContainerCommon};\n\t// display: inline-flex;\n\n\n`\nexport const HistoryUserText = styled.span`\n\t${textCommon};\n\tbackground: ${props => props.theme.bg.quaternary};\n\tpadding: .5rem 1rem;\n\tborder-radius: .5rem;\n\tcolor: ${props => props.theme.bg.primary};\n\n`\n\nexport const HistoryInfoContainer = styled.div`\n\t${historyContainerCommon};\n\tflex: 2;\n\talign-items: flex-start;\n\tmargin: 0 1rem 0 1rem;\n\n`\n\nexport const HistoryInfoText = styled.span`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n`\n\nexport const TimePickerContainer = styled.div`\n\tflex: 1;\n\tflex-direction: column;\n\tdisplay: flex;\n\toverflow: hidden;\n`\n\n\n\n\nexport const buttonViewCss = css`\n\t// border-right: ${props => !props.isLast && `solid ${props.theme.bg.quaternary} thin`}; // dont show border on last item\n\tcolor: ${props => props.theme.bg.quinary};\n\tpadding: 0;\n\tmargin: 0;\n\tpadding-left: .5rem;\n\tpadding-right: .5rem;\n\tfont-size: ${props => props.theme.fontSize.sz3};\n\tfont-family: ${props => props.theme.font.primary};\n`\n\n\nexport const buttonViewSelectedCss = css`\n\tbackground: transparent;\n\tcolor: ${props => props.theme.schema[\"lots\"].solid};\n`\n\n\nexport const buttonGroupContainerCss = css`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-self: center;\n\tpadding: 0;\n\t//margin: 0 0 1rem 0;\n  width: fit-content;\n\n\n`\n\n\nexport const buttonCss = css`\n\tmargin: 0;\n\tpadding: 0;\n\n\n\t&:focus{\n\t}\n\n\t&:active{\n\t}\n\n\t&:hover{\n\t\tcursor: default;\n\t}\n\n`\n\nexport const TemplateNameContainer = styled.div`\n  margin: 0 auto;\n  padding: 1rem 0;\n  align-self: center;\n  display: flex;\n  align-items: center;\n`\n\nexport const TemplateLabel = styled.span`\n\tmargin-right: 1rem;\n  white-space: nowrap ;\n  width: fit-content;\n  font-size: ${props => props.theme.fontSize.sz2};\n  font-family: ${props => props.theme.font.primary};\n`\n\nexport const SyncProblem = styled(SyncProblemIcon)`\n  ${iconButtonCss};\n  ${commonClickableIcon};\n`\n\nexport const Sync = styled(SyncIcon)`\n  ${iconButtonCss};\n  ${commonClickableIcon};\n  color: ${props => props.sync ? \"#00d6d0\" : \"#d1d1d1\"};\n  transition: all 2s ease;\n`\n","import React, { useContext, useEffect, useState } from \"react\"\n\n// actions\nimport { putCardAttributes } from \"../../../../../redux/actions/card_actions\"\n\n// functions external\nimport { useDispatch, useSelector } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { ThemeContext } from \"styled-components\";\n\n// components external\nimport Popup from 'reactjs-popup'\nimport 'reactjs-popup/dist/index.css'\n\n// constants\nimport { FIELD_DATA_TYPES, FLAG_OPTIONS } from \"../../../../../constants/lot_contants\"\n\n// utils\nimport { immutableDelete, immutableReplace, isArray } from \"../../../../../methods/utils/array_utils\"\nimport { formatLotNumber } from \"../../../../../methods/utils/lot_utils\"\n\n// styles\nimport * as styled from \"./lot.style\"\nimport LotDateRangeRow from \"./lot_date_range_row/lot_date_range_row\";\nimport LotSimpleRow from \"./lot_simple_row/lot_simple_row\";\nimport LotDateRow from \"./lot_date_row/lot_date_row\";\nimport LotFlags from './lot_flags/lot_flags'\n\nconst Lot = (props) => {\n    const {\n        name,\n        glow,\n        isFocused,\n        highlight,\n        stationName,\n        totalQuantity,\n        lotNumber,\n        leadTime,\n        templateValues,\n        id,\n        enableFlagSelector,\n        onClick,\n        count,\n        containerStyle,\n        selectable,\n        isSelected,\n        flags,\n        processName,\n        showCustomFields,\n        lotDisabled,\n        isDashboard,\n        onDeleteDisabledLot,\n        onRightClickDeleteLot,\n        dragging\n    } = props\n\n    const themeContext = useContext(ThemeContext)\n    // actions\n    const dispatch = useDispatch()\n    const dispatchPutCardAttributes = async (card, ID) => await dispatch(putCardAttributes(card, ID))\n    const draggingLotId = useSelector(state => { return state.cardPageReducer.draggingLotId }) || null\n\n\n    // component state\n    const [formattedLotNumber, setFormattedLotNumber] = useState(formatLotNumber(lotNumber))\n    const [popupOpen, setPopupOpen] = useState(false)\n    const [showRightClickMenu, setShowRightClickMenu] = useState(false)\n    const [cardHover, setCardHover] = useState(false)\n    useEffect(() => {\n        setFormattedLotNumber(formatLotNumber(lotNumber))\n    }, [lotNumber])\n\n\n    useEffect(() => {\n      if(!!cardHover) document.addEventListener('contextmenu', handleLotRightClick)\n      else document.removeEventListener('contextmenu', handleLotRightClick)\n\n      return () => {\n          document.removeEventListener('contextmenu', handleLotRightClick)\n      }\n    }, [cardHover])\n\n    const handleLotRightClick = (e) => {\n      e.preventDefault()\n      setShowRightClickMenu(!showRightClickMenu)\n    }\n\n        const renderTemplateValues = () => {\n        return templateValues\n            .filter((currItem) => {\n                const {\n                    dataType,\n                } = currItem\n\n                return Object.values(FIELD_DATA_TYPES).includes(dataType)\n            })\n            .map((currItem, currIndex, arr) => {\n                const {\n                    dataType,\n                    fieldName,\n                    value\n                } = currItem\n                const key = `${fieldName}+dataType`\n\n                const isLast = currIndex === arr.length - 1\n\n\n                switch (dataType) {\n                    case FIELD_DATA_TYPES.STRING: {\n                        return (\n                            <LotSimpleRow\n                                key={key}\n                                label={fieldName}\n                                value={value}\n                                isLast={isLast}\n                            />\n                        )\n                    }\n                    case FIELD_DATA_TYPES.EMAIL: {\n                        return (\n                            <LotSimpleRow\n                                key={key}\n                                label={fieldName}\n                                value={value}\n                                isLast={isLast}\n                            />\n                        )\n                    }\n                    case FIELD_DATA_TYPES.DATE: {\n                        return (\n                            <LotDateRow\n                                key={key}\n                                label={fieldName}\n                                isLast={isLast}\n                                date={value}\n                            />\n\n                        )\n                    }\n                    case FIELD_DATA_TYPES.DATE_RANGE: {\n                        return (\n                            <LotDateRangeRow\n                                key={key}\n                                label={fieldName}\n                                isLast={isLast}\n                                dateRange={value}\n                            />\n                        )\n                    }\n                    case FIELD_DATA_TYPES.URL: {\n                        return (\n                            <LotSimpleRow\n                                key={key}\n                                label={fieldName}\n                                value={value}\n                                isLast={isLast}\n                            />\n                        )\n                    }\n                    case FIELD_DATA_TYPES.INTEGER: {\n                        return (\n                            <LotSimpleRow\n                                key={key}\n                                label={fieldName}\n                                isLast={isLast}\n                                value={value}\n                            />\n                        )\n                    }\n                }\n            })\n    }\n\n    const renderFlags = () => {\n        return (\n          <styled.PartsRow>\n              <LotFlags\n                  flags={flags}\n              />\n            {!!showRightClickMenu && !isDashboard &&\n              <styled.ColumnContainer disabled = {lotDisabled}>\n                <i\n                 className = {'fas fa-chevron-up'}\n                 style = {{marginBottom: '.3rem', fontSize: '1.2rem', marginLeft: '0.4rem'}}\n                 onClick = {() => {\n                   setShowRightClickMenu(false)\n\n                 }}\n                 />\n                <styled.PartContainer\n                  onClick = {lotDisabled ? onDeleteDisabledLot: onRightClickDeleteLot}\n                >\n                Delete Lot\n                </styled.PartContainer>\n              </styled.ColumnContainer>\n            }\n\n            </styled.PartsRow>\n        )\n    }\n\n    return (\n        <styled.Container\n            disabled = {lotDisabled}\n            dragging = {dragging}\n            isDashboard = {isDashboard}\n            glow={glow}\n            isFocused={isFocused}\n            highlight={highlight}\n            selectable={selectable}\n            isSelected={isSelected}\n            onClick={onClick}\n            style={containerStyle}\n            onMouseEnter = {()=>setCardHover(true)}\n            onMouseLeave = {() =>setCardHover(false)}\n        >\n\n            <styled.HeaderBar>\n                {enableFlagSelector ?\n                    <Popup\n                        contentStyle={{\n                            background: themeContext.bg.primary,\n                            width: \"fit-content\",\n                        }}\n                        arrowStyle={{\n                            color: themeContext.bg.primary,\n                            transform: 'translateX(0rem)'\n                        }}\n\n                        trigger={open => (\n                            <div style = {{paddingTop: showRightClickMenu? '0rem' : '0.4rem'}}>\n                                {renderFlags()}\n                            </div>\n                        )}\n                        open={popupOpen}\n                        position=\"left center\"\n                        closeOnDocumentClick\n                    >\n                        <styled.FlagsContainer>\n                            {Object.values(FLAG_OPTIONS).map((currOption, currIndex) => {\n\n                                const {\n                                    color: currColor,\n                                    id: currColorId\n                                } = currOption\n\n                                const isSelected = flags.includes(currColorId)\n                                const selectedIndex = flags.indexOf(currColorId)\n\n                                return (\n                                    <styled.FlagButton\n                                        color={currColor}\n                                        selected={isSelected}\n                                        className={isSelected ? \"fas fa-check-square\" : \"fas fa-square\"}\n                                        key={currColorId}\n                                        type={\"button\"}\n                                        onClick={(e) => {\n                                            e.preventDefault()\n                                            e.stopPropagation()\n\n                                            if ((isArray(flags) && !isSelected)) {\n                                                dispatchPutCardAttributes({\n                                                    flags: [...flags, currColorId]\n                                                }, id)\n                                            }\n                                            else {\n                                                dispatchPutCardAttributes({\n                                                    flags: immutableDelete(flags, selectedIndex)\n                                                }, id)\n                                            }\n                                        }}\n                                    />\n                                )\n                            })}\n                        </styled.FlagsContainer>\n                    </Popup>\n                    :\n                    renderFlags()\n\n                }\n\n                <styled.NameNumberContainer>\n                    <styled.CardName>{name ? name : lotNumber}</styled.CardName>\n\n                    {name && !!lotNumber &&\n                        <styled.LotNumber>{lotNumber}</styled.LotNumber>\n                    }\n                </styled.NameNumberContainer>\n\n\n            </styled.HeaderBar>\n\n            <styled.ContentContainer hasLeadTime={!!leadTime}>\n                <LotSimpleRow\n                    label={\"Quantity\"}\n                    value={`${count}/${totalQuantity}`}\n                />\n\n                {processName &&\n                    <LotSimpleRow\n                        label={\"Process\"}\n                        value={processName}\n                    />\n                }\n\n                {stationName &&\n                    <LotSimpleRow\n                        label={\"Station\"}\n                        value={stationName}\n                    />\n                }\n\n                {showCustomFields && renderTemplateValues()}\n            </styled.ContentContainer>\n\n            {!!leadTime &&\n                <styled.FooterContainer>\n                    {leadTime}\n                </styled.FooterContainer>\n            }\n\n        </styled.Container>\n    )\n}\n\n// Specifies propTypes\nLot.propTypes = {\n    isSelected: PropTypes.bool,\n    selectable: PropTypes.bool,\n    isFocused: PropTypes.bool,\n    showCustomFields: PropTypes.bool,\n    disabled: PropTypes.bool,\n}\n\n// Specifies the default values for props:\nLot.defaultProps = {\n    isSelected: false,\n    isFocused: false,\n    selectable: false,\n    flags: [],\n    highlight: false,\n    enableFlagSelector: true,\n    templateValues: [],\n    count: 0,\n    glow: false,\n    stationName: \"\",\n    showCustomFields: true,\n    disabled: false,\n}\n\nexport default Lot\n","import styled, { css } from \"styled-components\";\n\nimport { rowCss } from \"../card_editor/lot_editor.style\";\nimport * as commonCss from \"../../../../../common_css/common_css\";\nimport { commonClickableIcon, commonIcon, glow, iconButtonCss } from \"../../../../../common_css/common_css\";\nimport { hexToRGBA, LightenDarkenColor } from '../../../../../methods/utils/color_utils'\n\nexport const Container = styled.div`\n \tmargin: 10px; // prevents glow from being cut off\n  height: fit-content;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  // overflow: hidden;\n\n  background: ${props => !props.disabled ? props.theme.bg.primary : props.theme.bg.tertiary};\n  ${props => props.disabled && 'opacity: 0.7;'}\n  color: ${props => props.theme.bg.octonary};\n\n  outline: none;\n  &:focus {\n      outline: none;\n  }\n\n  // letter-spacing: 1.5px;\n\n  outline: none;\n  user-select: none;\n  border: 0.1rem solid transparent;\n  border-radius: 1rem;\n  cursor: ${props => !!props.disabled ? 'auto' : 'pointer'};\n  pointer-events: ${props => !!props.disabled ? 'auto' : 'auto'};\n  box-shadow: 3px 3px 3px 3px rgba(0,0,0,0.2);\n  &:active{\n        box-shadow: none;\n        filter: brightness(100%);\n        cursor: grabbing;\n    }\n\n  &:hover {\n    border: 0.1rem solid #79797d;\n    border-radius: 1rem;\n  }\n\n\n  ${props => props.isSelected && `box-shadow: 0px 0px 2px 3px ${hexToRGBA(props.theme.schema.lots.solid, 0.7)} !important;`}\n\n  // ${props => (props.selectable && !(props.isSelected || props.isFocused)) && notSelectedCss};\n  // ${props => props.glow && glowCss};\n  // ${props => props.isFocused && focusedCss};\n  // ${props => props.isSelected && selectedCss};\n  // ${props => props.containerStyle};\n\n  max-width: 30rem;\n\n`\n\nconst selectedCss = css`\n`\n\nconst glowCss = css`\n    // border: 4px ridge #478fe6;\n`\n\nconst focusedCss = css`\n\n`\n\nconst notSelectedCss = css`\n  // filter: contrast(50%);\n`\n\nexport const LotFamilyContainer = styled.div`\n${commonCss.rowContainer}\nflex-wrap: wrap;\njustify-content: center;\nwidth: 100%;\noverflow: auto;\n`\n\nexport const Row = styled.div`\n    display: flex;\n    width: 100%;\n    border-bottom: 1px solid ${props => props.theme.bg.quaternary};\n    justify-content: space-between;\n    padding: .25rem 0 .25rem 0;\n`\nexport const ColumnContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 10rem;\n    padding: 0.4rem;\n    background-color: ${props => !!props.disabled ? props.theme.bg.primary : props.theme.bg.tertiary};\n    border-radius: 0rem 0.6rem 0rem .6rem;\n    justify-content: center;\n    align-content: center;\n    z-index: 5;\n\n`\nexport const PartsRow = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    padding: 0rem 0 .25rem 0;\n`\n\nexport const PartContainer = styled.div`\n    display: flex;\n    height: 2.4rem;\n    width: 9rem;\n    margin-left: .2rem;\n    margin-top: .2rem;\n    padding-top: .5rem;\n    margin-bottom: 0.1rem;\n\n    justify-content: center;\n    z-index: 5000;\n    pointer-events: auto;\n    background: #F92644;\n    border-radius: 0.4rem;\n    color: ${props => props.theme.bg.primary};\n\n    &:hover {\n      cursor: pointer;\n      background: #ff4545;\n\n    }\n`\n\nexport const PartName = styled.span`\n  display: flex;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: .9rem;\n  font-family: ${props => props.theme.font.primary};\n  justify-content: center;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n`\n\n\nexport const ContentContainer = styled.div`\n\tpadding: 0.5rem .5rem 0rem .5rem;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: center;\n\n  ${props => !props.hasLeadTime && `margin-bottom: 0.5rem;`}\n`\n\nexport const NameContainer = styled.div`\n\tdisplay: flex;\n  flex-direction: column;\n`\n\nexport const CardName = styled.span`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  font-size: 1.1rem;\n  font-family: ${props => props.theme.font.primary};\n  flex-grow: 1;\n`\n\nexport const LotNumber = styled.span`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: ${props => props.theme.fontSize.sz4};\n  color: ${props => props.theme.bg.octonary};\n  font-weight: 300;\n  height: 100%;\n\n  background: ${props => props.theme.bg.secondary};\n  border-radius: 1rem;\n  width: fit-content;\n  padding: 0.1rem 0.7rem;\n  align-content: center;\n  justify-content: center;\n`\n\n\nexport const Count = styled.span`\n\tfont-size: ${props => props.theme.fontSize.sz4};\n`\n\nexport const LotName = styled.span`\n  font-size: 1rem;\n  //overflow: hidden;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n\nexport const FooterContainer = styled.div`\n\theight: fit-content;\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 0.5rem 1rem;\n  color: #bbb;\n  font-weight: bold;\n  font-size: 0.9rem;\n`\n\nconst notSelectedFlagCss = css`\n    filter: contrast(40%);\n    //filter: brightness(50%);\n`\n\nexport const FlagButton = styled.button`\n\t  ${iconButtonCss};\n  \t${commonClickableIcon};\n  \tmargin: 0.2rem 0.5rem;\n    list-style: none;\n    font-size: 1.5rem;\n    cursor: pointer !important;\n`\n\nexport const FlagsContainer = styled.div`\n    display: flex;\n    padding: 0.5rem 0.2rem;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n`\n\nexport const HeaderBar = styled.div`\n\tdisplay: flex;\n  flex-direction: column;\n\n  padding: 0rem 0rem 0.1rem 0.5rem;\n`\n\nexport const NameNumberContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`\n\nexport const Label = styled.span`\n    font-size: ${props => props.theme.fontSize.sz4};\n    font-weight: 600;\n`\n","import styled, {css} from \"styled-components\";\n\nexport const lastItemCss = css`\n  border: none;\n`\nexport const Row = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n\theight: 1.3rem;\n  \n  \t${props => props.isLast && lastItemCss};\n`\n\nexport const Label = styled.span`\n    font-size: ${props => props.theme.fontSize.sz4};\n    font-weight: 600;\n\tline-height: 1.3rem;\n\tcolor:  ${props => props.theme.bg.septenary};\n\tfont-family: ${props => props.theme.font.primary};\n`\n\nexport const DatesContainer = styled.span`\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n    width: fit-content;\n    \n`\n\nexport const DateItem = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\t\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\t\n`\n\nexport const DateText = styled.span`\ncolor:  ${props => props.theme.bg.septenary};\nfont-size: ${props => props.theme.fontSize.sz4};\nfont-family: ${props => props.theme.font.primary};\n`\n\nexport const DateArrow = styled.i`\n\tmargin-left: .35rem;\n\tmargin-right: .35rem;\n\tcolor: ${props => props.theme.bg.secondary};\n\t// font-family: ${props => props.theme.font.primary};\n`","import React, { useEffect, useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport * as styled from \"./lot_date_range_row.style\";\nimport { isArray } from \"../../../../../../methods/utils/array_utils\";\nimport { dateRangeToStrings } from \"../../../../../../methods/utils/card_utils\";\nimport { capitalizeFirstLetter } from '../../../../../../methods/utils/string_utils'\n\nconst LotDateRangeRow = (props) => {\n\n    const {\n        dateRange,\n        label,\n        isLast,\n        defaultStartText,\n        defaultEndText,\n        labelStyle,\n        dateStyle,\n    } = props\n\n    const [startDateText, setStartDateText] = useState(\"Start\")\n    const [endDateText, setEndDateText] = useState(\"End\")\n\n    useEffect(() => {\n        const [tempStartDateText, tempEndDateText] = dateRangeToStrings(dateRange)\n        setStartDateText(tempStartDateText)\n        setEndDateText(tempEndDateText)\n    }, [dateRange])\n\n    return (\n        <styled.Row isLast={isLast}>\n            <styled.Label style={labelStyle}>{capitalizeFirstLetter(label)}</styled.Label>\n            <styled.DatesContainer>\n                <styled.DateItem>\n                    <styled.DateText style={dateStyle}>{startDateText ? startDateText : defaultStartText}</styled.DateText>\n                </styled.DateItem>\n\n                <styled.DateArrow className=\"fas fa-arrow-right\"></styled.DateArrow>\n\n                <styled.DateItem>\n                    <styled.DateText style={dateStyle}>{endDateText ? endDateText : defaultEndText}</styled.DateText>\n                </styled.DateItem>\n            </styled.DatesContainer>\n        </styled.Row>\n    );\n};\n\nLotDateRangeRow.propTypes = {\n\n};\n\nLotDateRangeRow.defaultProps = {\n    defaultStartText: \"Start\",\n    defaultEndText: \"End\",\n};\n\n\n\nexport default LotDateRangeRow;\n","import styled, {css} from \"styled-components\";\n\nexport const lastItemCss = css`\n\tborder: none;\n`\n\nexport const Row = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    height: 1.8rem;\n\n  \t${props => props.isLast && lastItemCss};\n`\n\nexport const Label = styled.span`\n    font-size: ${props => props.theme.fontSize.sz4};\n    font-weight: 600;\n    margin-right: 0.5rem;\n    line-height: 1.3rem;\n    color:  ${props => props.theme.bg.septenary};\n    font-family: ${props => props.theme.font.primary};\n`\n\nexport const Count = styled.span`\n\tfont-size: ${props => props.theme.fontSize.sz4};\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color:  ${props => props.theme.bg.septenary};\n    font-family: ${props => props.theme.font.primary};\n`\n","import React, {useEffect, useState} from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport * as styled from \"./lot_simple_row.style\";\nimport { capitalizeFirstLetter } from '../../../../../../methods/utils/string_utils'\n\nconst LotSimpleRow = (props) => {\n\n\tconst {\n\t\tlabel,\n\t\tvalue,\n\t\tcontainerStyle,\n\t\tisLast,\n        labelStyle,\n        countStyle,\n\t} = props\n\n\n\treturn (\n\t\t<styled.Row\n\t\t\tisLast={isLast}\n\t\t\tstyle={containerStyle}\n\t\t>\n\t\t\t<styled.Label style={labelStyle} >{capitalizeFirstLetter(label)}</styled.Label>\n\t\t\t<styled.Count style={countStyle} >{value}</styled.Count>\n\t\t</styled.Row>\n\t);\n};\n\nLotSimpleRow.propTypes = {\n\n};\n\nexport default LotSimpleRow;\n","import styled, {css} from \"styled-components\";\n\nexport const lastItemCss = css`\n  border: none;\n`\nexport const Row = styled.div`\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n\t  height: 1rem;\n\n  \t${props => props.isLast && lastItemCss};\n`\n\nexport const Label = styled.span`\n    font-size: ${props => props.theme.fontSize.sz4};\n    font-weight: 600;\n\tline-height: 1.3rem;\n\tcolor:  ${props => props.theme.bg.septenary};\n\tfont-family: ${props => props.theme.font.primary};\n`\n\nexport const DatesContainer = styled.span`\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n    width: fit-content;\n\n`\n\nexport const DateItem = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n\n`\n\nexport const DateText = styled.span`\ncolor:  ${props => props.theme.bg.septenary};\nfont-size: ${props => props.theme.fontSize.sz4};\nfont-family: ${props => props.theme.font.primary};\n`\n\nexport const DateArrow = styled.i`\n\tmargin-left: .35rem;\n\tmargin-right: .35rem;\n\tcolor: ${props => props.theme.bg.tertiary};\n`\n","import React, { useEffect, useState } from 'react'\n\n// functions external\nimport PropTypes from 'prop-types'\n\n// styles\nimport * as styled from \"./lot_date_row.style\"\n\n// utils\nimport { jsDateToString } from \"../../../../../../methods/utils/card_utils\"\nimport { capitalizeFirstLetter } from '../../../../../../methods/utils/string_utils'\n\nconst LotDateRow = (props) => {\n\n    const {\n        date,\n        label,\n        isLast,\n        defaultDateText,\n        labelStyle,\n        dateStyle,\n    } = props\n\n    const [dateText, setDateText] = useState(\"Date\")\n\n    useEffect(() => {\n        setDateText(jsDateToString(date))\n    }, [date])\n\n    return (\n        <styled.Row isLast={isLast}>\n            <styled.Label style={labelStyle}>{capitalizeFirstLetter(label)}</styled.Label>\n\n            <styled.DateItem>\n                <styled.DateText style={dateStyle}>{dateText ? dateText : defaultDateText}</styled.DateText>\n            </styled.DateItem>\n        </styled.Row>\n    )\n}\n\nLotDateRow.propTypes = {\n    defaultDateText: PropTypes.string\n}\n\nLotDateRow.defaultProps = {\n    defaultDateText: \"Date\",\n}\n\nexport default LotDateRow\n","import styled, { css } from \"styled-components\";\nimport { commonClickableIcon, commonIcon, glow, iconButtonCss } from \"../../../../../../common_css/common_css\";\n\nexport const FlagButton = styled.button`\n\t  ${iconButtonCss};\n  \t${commonClickableIcon};\n  \tmargin: 0.2rem 0.5rem;\n    list-style: none;\n    font-size: 1.5rem;\n    cursor: pointer !important;\n    z-index: 0;\n`\n\nexport const FlagsContainer = styled.div`\n    display: flex;\n    padding: 0.5rem 0.2rem;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n`","import React, { useState, useEffect } from 'react'\n\n// Import Styles\nimport * as styled from './lot_flags.style'\n\n// constants\nimport { FLAG_OPTIONS } from \"../../../../../../constants/lot_contants\"\nimport PropTypes from \"prop-types\";\n\nconst LotFlags = (props) => {\n\n    const {\n        flags,\n        containerStyle,\n    } = props\n\n    return (\n        <styled.FlagsContainer\n            style={{\n                padding: 0,\n                margin: '0.5rem 0',\n                flexDirection: 'row',\n                flexWrap: 'wrap',\n                width: 'fit-content',\n                justifyContent: 'flex-start',\n                ...containerStyle\n            }}\n        >\n            {flags.length > 0 ?\n                <>\n                    {flags.map((currFlagId) => {\n                        const flagOption = FLAG_OPTIONS[currFlagId]\n                        const {\n                            color: currColor\n                        } = flagOption\n\n                        return (\n                            <styled.FlagButton\n                                key={currFlagId}\n                                type={\"button\"}\n                                selected={true}\n                                color={currColor}\n                                className=\"fas fa-square\"\n                                style={{\n                                    margin: \"0 .55rem\",\n                                    padding: 0,\n                                    fontSize: \"1rem\",\n                                    transform: 'scaleX(2)'\n                                }}\n                            />\n                        )\n                    })\n\n                    }\n\n                </>\n                :\n                <styled.FlagButton\n                    type={\"button\"}\n                    selected={true}\n                    color={'rgba(0, 0, 0, 0.3)'}\n                    className=\"fas fa-square\"\n                    style={{\n                        margin: \"0 .55rem\",\n                        padding: 0,\n                        fontSize: \"1rem\",\n                        transform: 'scaleX(2)'\n                    }}\n                />\n            }\n        </styled.FlagsContainer>\n    )\n}\n\n// Specifies propTypes\nLotFlags.propTypes = {\n    flags: PropTypes.array\n}\n\n// Specifies the default values for props:\nLotFlags.defaultProps = {\n    flags: [],\n}\n\nexport default LotFlags"],"sourceRoot":""}