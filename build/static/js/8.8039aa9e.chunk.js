(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[8],{1214:function(e,t,n){"use strict";n.d(t,"g",(function(){return I})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return D})),n.d(t,"f",(function(){return N})),n.d(t,"i",(function(){return z}));var r,i,c,o,a,s,d,u,l,b,f,j,m,h,O,p,v,g,x=n(31),y=n(29),w=(n(816),"10rem"),C=(y.d.span(r||(r=Object(x.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(y.c)(i||(i=Object(x.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n\n    border-radius: 1rem;\n    overflow: hidden;\n\n    color: ",";\n"])),w,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),I=(y.d.div(c||(c=Object(x.a)(["\n    ",";\n"])),C),y.d.div(o||(o=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),S=y.d.div(a||(a=Object(x.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),k=y.d.span(s||(s=Object(x.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),E=(y.d.div(d||(d=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n"]))),y.d.div(u||(u=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),y.d.div(l||(l=Object(x.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),y.d.div(b||(b=Object(x.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t// justify-content: space-between;\n"])))),_=(y.d.span(f||(f=Object(x.a)(["\n    text-align: center;\n    font-size: ",";\n    border-bottom: 1px solid black;\n    width: 100%;\n    padding: .25rem;\n    background: ",";\n"])),(function(e){return e.theme.fontSize.sz4}),(function(e){return e.theme.bg.senary})),y.d.span(j||(j=Object(x.a)(["\n    text-align: center;\n    font-size: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2; /* number of lines to show */\n    -webkit-box-orient: vertical;\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),H=(y.d.button(m||(m=Object(x.a)(["\n\n"]))),y.d.div(h||(h=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),w,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),y.d.div(O||(O=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width:100%;\n    justify-content: space-between;\n    overflow: hidden;\n    align-content: center;\n    margin: 0.2rem 0;\n    /* position: absolute; */\n    /* right: 1rem; */\n\n"])))),D=y.d.h5(p||(p=Object(x.a)(["\n    text-align: center;\n    color: ",";\n    font-family: ",";\n"])),(function(e){return e.theme.bg.septenary}),(function(e){return e.theme.font.primary})),N=y.d.div(v||(v=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n"]))),z=y.d.hr(g||(g=Object(x.a)(["\n    border-top: .05rem solid;\n    border-color: ",";\n    border-radius: .25rem;\n    width: 100%;\n    margin: 0;\n"])),(function(e){return e.theme.bg.quaternary}))},1949:function(e,t,n){"use strict";n.r(t);var r=n(9),i=n(45),c=n(48),o=n(2),a=n(32),s=n(1);function d(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var u,l,b,f,j,m,h,O,p,v,g,x,y,w,C,I,S,k,E,_,H,D,N,z,R,M=n(3),T=n.n(M),F=n(4),L=n(47),U=n(793),Q=n.n(U),P=n(337),W=n.n(P),A=n(29),q=n(1214),B=n(821),V=n(329),Y=n(57),J=n(49),G=n(894),Z=n.n(G),K=n(171),X=n(1074),$=(n(816),n(860),n(31)),ee=A.d.div(u||(u=Object($.a)(["\n  display: table;\n"]))),te=A.d.div(l||(l=Object($.a)(["\n  padding: 50% 0;\n"]))),ne=A.d.div(b||(b=Object($.a)(["\n\n"]))),re=A.d.div(f||(f=Object($.a)(["\n  width: 97%;\n  margin-top: .5rem;\n  margin-bottom: .5rem;\n  margin-left: 0.5rem;\n  min-height: ",";\n  background: ",";\n\n  border: 0.2rem solid #dedfe3;\n  border-radius: 0.2rem;\n"])),(function(e){return e.dragDivHeight?e.dragDivHeight:"10rem"}),(function(e){return e.theme.bg.tertiary})),ie=A.d.span(j||(j=Object($.a)(["\n  display: block;\n  transform-origin: top left;\n  transform: rotate(90deg) translate(0, -110%);\n  margin-top: -50%;\n  max-width: 20rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),ce=(Object(A.c)(m||(m=Object($.a)(["\n\n"]))),A.d.div(h||(h=Object($.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    max-height: ",";\n\n    border-radius: 0.5rem;\n    overflow: hidden;\n\n    color: ",";\n"])),"10rem",(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.maxHeight&&e.maxHeight}),(function(e){return e.theme.bg.octonary}))),oe=(A.d.div(O||(O=Object($.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n"])),(function(e){return e.theme.bg.secondary})),A.d.div(p||(p=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(v||(v=Object($.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.span(g||(g=Object($.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),A.d.div(x||(x=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n  height: 100%;\n\tmin-height: 10rem;\n  background: ",";\n\tborder-bottom-right-radius: 0.5rem;\n\tborder-bottom-left-radius: 0.5rem;\n\n  // border-left: 0.2rem solid ",";\n  // border-bottom: 0.2rem solid ",";\n  // border-right: 0.2rem solid ",";\n\n\tjustify-content: start;\n"])),(function(e){return e.theme.bg.secondary}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}))),ae=n(269),se=n(43),de=n(268),ue=n(140),le=n(859),be=n(8),fe=["_id","count","leadTime","name","object_id","cardId","flags","lotNum","totalQuantity","processName","lotTemplateId"],je=function(e){var t=e.station_id,n=e.stationName,d=void 0===n?"Unnamed":n,u=e.onCardClick,l=e.selectedCards,b=e.processId,f=e.HeaderContent,j=e.isCollapsed,m=e.maxWidth,h=e.maxHeight,O=e.sortMode,p=e.sortDirection,v=(e.setSelectedCards,e.containerStyle),g=Object(L.d)((function(e){return e.cardsReducer.processCards[b]}))||{},x=Object(L.d)((function(e){return e.cardPageReducer.hoveringLotId}))||null,y=Object(L.d)((function(e){return e.cardPageReducer.draggingLotId}))||null,w=Object(L.d)((function(e){return e.cardPageReducer.draggingStationId}))||null,C=Object(L.d)((function(e){return e.cardPageReducer.lotDivHeight}))||null,I=Object(L.d)((function(e){return e.cardPageReducer.dragFromBin}))||null,S=Object(L.d)((function(e){return e.tasksReducer.tasks})),k=Object(L.d)((function(e){return e.stationsReducer.stations})),E=Object(L.d)((function(e){return e.processesReducer.processes})),_=(Object(L.d)((function(e){return e.dashboardsReducer.kickOffEnabledDashboards})),Object(L.d)((function(e){return e.cardsReducer.showEditor}))),H=(Object(J.e)().location.pathname.includes("/locations"),Object(s.useRef)(null)),D=Object(s.useRef)(null),N=Object(L.c)(),z=function(){var e=Object(F.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(K.g)(t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(F.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(X.g)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(F.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(X.b)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(F.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(X.c)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(F.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(X.a)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(s.useState)(!1),W=Object(a.a)(P,2),A=(W[0],W[1],Object(s.useState)(0)),q=Object(a.a)(A,2),B=q[0],V=q[1],G=Object(s.useState)(0),$=Object(a.a)(G,2),je=$[0],me=$[1],he=Object(s.useState)([]),Oe=Object(a.a)(he,2),pe=Oe[0],ve=Oe[1],ge=Object(s.useState)(!0),xe=Object(a.a)(ge,2),ye=xe[0],we=(xe[1],Object(s.useState)(!1)),Ce=Object(a.a)(we,2),Ie=(Ce[0],Ce[1],Object(s.useState)(!1)),Se=Object(a.a)(Ie,2),ke=Se[0],Ee=Se[1],_e=Object(s.useState)(!1),He=Object(a.a)(_e,2),De=He[0],Ne=He[1],ze=Object(s.useState)(!1),Re=Object(a.a)(ze,2),Me=(Re[0],Re[1]);Object(s.useEffect)((function(){var e=0,t=0;pe.forEach((function(n){var r=(n||{}).count,i=void 0===r?0:r;t=parseInt(t)+1,e=parseInt(e)+parseInt(i)})),me(t),V(e)}),[pe]);var Te=Object(s.useState)(!1),Fe=Object(a.a)(Te,2),Le=Fe[0],Ue=Fe[1];Object(s.useEffect)((function(){Ue(Object(se.f)(l))}),[l]),Object(s.useEffect)((function(){if(O){var t=Object(i.a)(e.cards);Object(ae.f)(t,O,p),ve(t)}else ve(e.cards)}),[e.cards,O,p]),Object(s.useEffect)((function(){if(y&&I&&g[y]){var e=Qe(y,I,t);Ne(e)}y||Ee(null)}),[y]);var Qe=function(e,t,n){var r=!1,i=g[e].process_id,c=E[g[e].process_id],o=c.routes.map((function(e){return S[e]}));if(g[e].process_id!==b)return!1;if(_)return!1;var a=Object(ue.b)(o,k),s=Object(ue.a)(o);if(i!==b)return[!1,r];if(_)return[!1,r];if(t===n)return[!0,r];var d=function e(t){if(s.includes(t)&&"FINISH"==n)return Ee(!0),!0;if("QUEUE"===t&&("split"!==c.startDivergeType||1===a.length)){if(a.includes(n))return Ee(!0),!0;for(var i in a){if(e(a[i]))return!0}}var d=o.filter((function(e){return e.load===t}));if(d[0]&&(!d[0].divergeType||"split"!==d[0].divergeType)){var u=function(t){return d[t].unload===n?(r=d[t].load,Ee(!0),{v:!0}):1===o.filter((function(e){return e.unload===d[t].unload})).length&&e(d[t].unload)?{v:!0}:void 0};for(var l in d){var b=u(l);if("object"===typeof b)return b.v}}}(t);if(d)return[!0,r];var u=function e(t){if(a.includes(t)&&"QUEUE"===n&&("split"!==c.startDivergeType||1===a.length))return Ee(!0),!0;if("FINISH"===t){if(s.includes(n))return Ee(!0),!0;if(e(s))return!0}var r=o.filter((function(e){return e.unload===t}));if(1===r.length){var i=function(t){var i=o.filter((function(e){return e.load===r[t].load}));if(r[t].load===n){if(1===i.length||"split"!==i[0].divergeType||!i[0].divergeType)return Ee(!0),{v:!0}}else if((1===i.length||!i[0].divergeType||"split"!==i[0].divergeType)&&e(r[t].load))return{v:!0}};for(var d in r){var u=i(d);if("object"===typeof u)return u.v}}}(t);return u?[!0,r]:[!1,r]},Pe=function(e){R(null)},We=function(){var e=function(){for(var e=-1,n=l.length-1;n>=0;n--)(l[n]||{}).binId===t&&n>e&&(e=n);return e}();return l[e]},Ae=function(){var e=Object(F.a)(T.a.mark((function e(){var t,n,r,i,s,d,u,l,b,f,j,m,h;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Qe(y,I,w),n=Object(a.a)(t,2),r=n[0],i=n[1],r?(s=I,d=g[y]?g[y]:{},u=d.bins?d.bins:{},b=(l=u||{})[s],Object(c.a)(l,[s].map(Y.a)),b&&(h=i||s,(m=d).bins=Object(de.o)(m.bins,null===(f=m.bins[s])||void 0===f?void 0:f.count,h,w,E[m.process_id],S,k),m.bins=Object(de.n)(m.bins,null===(j=m.bins[s])||void 0===j?void 0:j.count,s,E[m.process_id],S),m.bins[s]&&!m.bins[s].count&&(m.bins[s]=Object(o.a)(Object(o.a)({},m.bins[s]),{},{count:0})),m.bins[s]&&0===m.bins[s].count&&1===Object.values(m.bins[s]).length&&delete m.bins[s],z(m,m._id).then((function(e){M(null),Q(null)})))):(M(null),Q(null));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j?Object(be.jsxs)(ce,{maxHeight:h,isCollapsed:j,maxWidth:m,children:[f(je,B),Object(be.jsx)(oe,{style:{padding:"1rem 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(be.jsx)(ee,{children:Object(be.jsx)(te,{children:Object(be.jsx)(ie,{children:d})})})})]}):Object(be.jsxs)(ce,{onDragOver:function(e){D&&D.current&&(D.current.style.minHeight=C+4+"rem"),U(t),De&&Me(!0),e.preventDefault()},onDragLeave:function(e){Me(!1),U(null),D&&D.current&&(D.current.style.minHeight=C-1+"rem")},isCollapsed:j,maxWidth:m,maxHeight:h,style:Object(o.a)({},v),children:[Object(be.jsx)("div",{style:{pointerEvents:!!y&&"none"},children:f(je,B)}),!_&&Object(be.jsxs)(oe,{class:"container",style:{overflow:"auto",height:"100%",padding:"1rem",pointerEvents:!!y&&"none"},children:[!!ke&&!!y&&t!==I&&Object(be.jsx)(re,{ref:D,dragDivHeight:C?C-1+"rem":"10rem",class:"dragToDiv"}),pe.map((function(e,n){e._id,e.count;var i,a=e.leadTime,s=e.name,d=(e.object_id,e.cardId),l=e.flags,f=e.lotNum,j=e.totalQuantity,m=(e.processName,e.lotTemplateId,Object(c.a)(e,fe),d===(We()||{}).cardId),h=null!==x||null!==y||Le;if(null===(i=g[e.cardId])||void 0===i?void 0:i.bins[e.binId]){var O=g[e.cardId].bins[e.binId];return Object.keys(O).map((function(i){var c="count"!==i;return Object(be.jsx)(Z.a,{partialVisibility:!0,offset:{bottom:50,top:50},children:function(p){var v,x=p.isVisible;return Object(be.jsx)(be.Fragment,{children:x?Object(be.jsx)(be.Fragment,{children:(O[i]>0||"count"===i&&O.count>0)&&Object(be.jsx)(ne,{id:"item",ref:H,class:"item",onMouseEnter:function(e){R(d)},onMouseLeave:Pe,onDragStart:function(e){var n;H&&H.current&&H.current.offsetHeight&&(n=H.current.offsetHeight/16,N(Object(X.f)(n))),e.target.style.opacity=".001",M(d),Q(t)},onDragEnd:function(e){I&&w&&I!==w?Ae():(M(null),Q(null)),e.target.style.opacity="1"},style:{background:"transparent",borderRadius:"1rem",pointerEvents:"none"},children:Object(be.jsx)(le.a,{isPartial:c,onDeleteDisabledLot:function(){!function(e,t,n){var i=g[e.cardId],c=i.bins[t];delete c[n];var a=Object(o.a)(Object(o.a)({},i),{},{bins:Object(o.a)(Object(o.a)({},i.bins),{},Object(r.a)({},t,c))});1===Object.values(c).length&&0===c.count&&delete a.bins[t],z(a,a._id)}(e,e.binId,i)},onRightClickDeleteLot:function(){!function(e,t){var n=g[e.cardId],i=n.bins[t];i.count=0;var c=Object(o.a)(Object(o.a)({},n),{},{bins:Object(o.a)(Object(o.a)({},n.bins),{},Object(r.a)({},t,i))});1===Object.values(i).length&&delete c.bins[t],z(c,c._id)}(e,e.binId)},glow:m,enableFlagSelector:ye,selectable:h,totalQuantity:j,lotNumber:f,name:c?s+" (".concat(null===(v=S[i])||void 0===v?void 0:v.part,")"):s,count:c?O[i]:O.count,leadTime:a,id:d,flags:l||[],index:n,lotId:d,binId:t,onClick:function(e){var n=function(e){var n=(We()||{}).cardId,r=pe.findIndex((function(e){var r=e.cardId,i=e.binId;return n===r&&t===i})),i=pe.findIndex((function(n){var r=n.cardId,i=n.binId;return e===r&&t===i}));return-1===r?[pe[i]]:r<i?pe.slice(r,i+1):pe.slice(i,r+1).reverse()}(d);u(e,{lotId:d,processId:b,binId:t},n)},containerStyle:{border:y===d&&t===I&&".1rem solid #b8b9bf",boxShadow:y===d&&t===I&&"2px 3px 2px 1px rgba(0,0,0,0.2)",borderRadius:"0.2rem",padding:"0.2rem",margin:".4rem",width:"96%",pointerEvents:!!y&&y!==d&&"none"}},d)})}):Object(be.jsx)("div",{style:{minHeight:"15rem",width:"80%"},children:"...Loading"})})}})}))}}))]})]})},me=n(118),he=n(12),Oe=n(835),pe=function(e){var t=e.id,n=e.station_id,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,d=void 0===o?[]:o,u=e.processId,l=e.maxHeight,b=e.sortMode,f=e.sortDirection,j=e.selectedCards,m=e.setSelectedCards,h=(e.autoCycleTime,e.containerStyle),O=Object(L.c)(),p=function(){var e=Object(F.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(me.f)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(L.d)((function(e){return e.stationsReducer.stations})),g=Object(A.e)(),x=Object(s.useState)(!1),y=Object(a.a)(x,2),w=y[0],C=y[1],I=Object(s.useMemo)((function(){var e,t,r="00:00:00";if("auto"===v[n].cycle_time_mode&&(null===(e=v[n])||void 0===e?void 0:e.cycle_time))r=Object(Oe.e)(v[n].cycle_time);else if("manual"===v[n].cycle_time_mode&&(null===(t=v[n])||void 0===t?void 0:t.manual_cycle_time)){var i;r=Object(Oe.e)(null===(i=v[n])||void 0===i?void 0:i.manual_cycle_time)}var c=r.split(":");return Q()().set({hour:c[0],minute:c[1],second:c[2]})}),[v[n]]),S=function(){var e,t,r;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(q.i,{}),Object(be.jsxs)(q.b,{style:{marginTop:".5rem"},children:[Object(be.jsx)(q.c,{children:"Cycle Time"}),Object(be.jsxs)(q.f,{children:[Object(be.jsx)(q.e,{style:{marginRight:".25rem",display:"flex",alignItems:"center"},children:"Auto"}),Object(be.jsx)(W.a,{onColor:g.schema.lots.solid,style:{transform:"scale(0.8)"},checked:"manual"===(null===(e=v[n])||void 0===e?void 0:e.cycle_time_mode),onChange:function(e){!function(e){var t=Object(he.c)(v[n]);t.cycle_time_mode=e?"manual":"auto",p(t)}(e)}}),Object(be.jsx)(q.e,{style:{marginLeft:".25rem",display:"flex",alignItems:"center"},children:"Manual"})]})]}),Object(be.jsxs)(q.b,{style:{opacity:"auto"===(null===(t=v[n])||void 0===t?void 0:t.cycle_time_mode)&&"70%",pointerEvents:"auto"===(null===(r=v[n])||void 0===r?void 0:r.cycle_time_mode)?"none":"auto",borderRadius:"0 3px 3px 0"},children:[Object(be.jsx)(q.c,{style:{fontSize:"1rem"},children:"(HH:MM:SS)"}),Object(be.jsx)(B.a,{showHours:!0,showMinutes:!0,value:I,onChange:function(e){!function(e){var t=Object(he.c)(v[n]);t.manual_cycle_time=Object(Oe.d)(e),p(t)}(e.format("HH:mm:ss"))},style:{width:"5.5rem"},allowEmpty:!1})]}),Object(be.jsx)(q.i,{})]})};return Object(be.jsx)(je,{setSelectedCards:m,selectedCards:j,sortDirection:f,maxWidth:"25rem",sortMode:b,maxHeight:l,id:t,containerStyle:h,HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w?Object(be.jsx)(q.g,{children:Object(be.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return C(!1)},style:{cursor:"pointer"}})}):Object(be.jsxs)(q.g,{children:[Object(be.jsxs)(q.a,{style:{marginBottom:"1rem",justifyContent:"center"},children:[Object(be.jsx)(q.d,{children:Object(be.jsx)(q.h,{children:i})}),Object(be.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(be.jsxs)(q.a,{children:[Object(be.jsxs)("div",{children:[Object(be.jsx)(q.e,{children:"Lots: "}),Object(be.jsx)(q.e,{children:e})]}),Object(be.jsxs)("div",{children:[Object(be.jsx)(q.e,{children:"Total Quantity: "}),Object(be.jsx)(q.e,{children:t})]})]}),S()]})},station_id:n,stationName:i,onCardClick:c,cards:d,processId:u,isCollapsed:w})},ve="10rem",ge=(A.d.span(y||(y=Object($.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(A.c)(w||(w=Object($.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),ve,(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.theme.bg.octonary}))),xe=(A.d.div(C||(C=Object($.a)(["\n    ",";\n"])),ge),A.d.div(I||(I=Object($.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: 0.5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),ye=A.d.div(S||(S=Object($.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),we=A.d.span(k||(k=Object($.a)(["\n    font-size: 1rem;\n    color: ",";\n\n"])),(function(e){return e.theme.textColor})),Ce=(A.d.div(E||(E=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(_||(_=Object($.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.div(H||(H=Object($.a)(["\n\tdisplay: flex;\n\talign-items: center;\n    margin: 0 2rem;\n\t// justify-content: space-between;\n"])))),Ie=(A.d.span(D||(D=Object($.a)(["\n    text-align: center;\n    margin-right: 1rem;\n    \n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz3})),A.d.span(N||(N=Object($.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),Se=(A.d.button(z||(z=Object($.a)(["\n\n"]))),A.d.div(R||(R=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),ve,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=void 0===t?"QUEUE":t,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,d=e.onAddLotClick,u=e.processId,l=(e.setShowCardEditor,e.showCardEditor,e.maxHeight),b=e.sortMode,f=e.sortDirection,j=e.selectedCards,m=e.setSelectedCards,h=Object(s.useState)(!1),O=Object(a.a)(h,2),p=O[0],v=O[1];return Object(be.jsx)(je,{setSelectedCards:m,selectedCards:j,sortDirection:f,sortMode:b,maxHeight:l,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p?Object(be.jsx)(xe,{children:Object(be.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return v(!1)},style:{cursor:"pointer"}})}):Object(be.jsxs)(xe,{children:[Object(be.jsxs)(ye,{style:{marginBottom:"1rem"},children:[Object(be.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true",onClick:function(){return v(!0)},style:{cursor:"pointer"}}),Object(be.jsx)(Ce,{children:Object(be.jsx)(Ie,{children:i})}),Object(be.jsx)(V.a,{onClick:d,schema:"lots",children:"+ Lot"})]}),Object(be.jsxs)(ye,{style:{justifyContent:"space-between"},children:[Object(be.jsxs)("div",{children:[Object(be.jsx)(we,{children:"Lots: "}),Object(be.jsx)(we,{children:e})]}),Object(be.jsxs)("div",{children:[Object(be.jsx)(we,{children:"Total Quantity: "}),Object(be.jsx)(we,{children:t})]})]})]})},station_id:n,stationName:i,onCardClick:c,cards:o,processId:u,isCollapsed:p})});Se.defaultProps={stationName:"Unnamed",onCardClick:function(){},onAddLotClick:function(){},cards:[],setShowCardEditor:function(){},showCardEditor:!1};var ke,Ee,_e,He,De,Ne,ze,Re,Me,Te,Fe,Le,Ue,Qe,Pe,We,Ae=Se,qe=(n(1221),"10rem"),Be=(A.d.span(ke||(ke=Object($.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(A.c)(Ee||(Ee=Object($.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),qe,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),Ve=(A.d.div(_e||(_e=Object($.a)(["\n    ",";\n"])),Be),A.d.div(He||(He=Object($.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),Ye=A.d.div(De||(De=Object($.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),Je=A.d.span(Ne||(Ne=Object($.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),Ge=(A.d.div(ze||(ze=Object($.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    padding-left: 1rem;\n    padding-right: 1rem;\n \n \n"]))),A.d.div(Re||(Re=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(Me||(Me=Object($.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.div(Te||(Te=Object($.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t// justify-content: space-between;\n"])))),Ze=(A.d.span(Fe||(Fe=Object($.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),A.d.span(Le||(Le=Object($.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),Ke=(A.d.button(Ue||(Ue=Object($.a)(["\n\n"]))),A.d.div(Qe||(Qe=Object($.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),qe,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=e.stationName,r=void 0===n?"Unnamed":n,i=e.onCardClick,c=e.cards,o=void 0===c?[]:c,d=e.processId,u=e.maxHeight,l=e.sortMode,b=e.sortDirection,f=e.selectedCards,j=e.setSelectedCards,m=Object(s.useState)(!1),h=Object(a.a)(m,2),O=h[0],p=h[1];return Object(be.jsx)(je,{setSelectedCards:j,selectedCards:f,sortDirection:b,maxHeight:u,sortMode:l,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O?Object(be.jsx)(Ve,{children:Object(be.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return p(!1)},style:{cursor:"pointer"}})}):Object(be.jsxs)(Ve,{children:[Object(be.jsxs)(Ye,{style:{marginBottom:"1rem",justifyContent:"center"},children:[Object(be.jsx)(Ge,{children:Object(be.jsx)(Ze,{children:r})}),Object(be.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(be.jsxs)(Ye,{children:[Object(be.jsxs)("div",{children:[Object(be.jsx)(Je,{children:"Lots: "}),Object(be.jsx)(Je,{children:e})]}),Object(be.jsxs)("div",{children:[Object(be.jsx)(Je,{children:"Total Quantity: "}),Object(be.jsx)(Je,{children:t})]})]})]})},station_id:t,stationName:r,onCardClick:i,cards:o,processId:d,isCollapsed:O})}),Xe=n(56),$e=A.d.div(Pe||(Pe=Object($.a)(["\n  // max-height: ",";\n  display: flex;\n  flex-direction: row;\n  padding: 1rem;\n  justify-content:  flex-start;\n"])),(function(e){return e.maxHeight})),et=(A.d.div(We||(We=Object($.a)(["\ndisplay: flex;\nflex-direction: row;\npadding: 1rem 0rem;\nmargin: 0 1rem;\n// border: 1px solid lightgrey;\n"]))),n(54)),tt=n(30),nt=["bins","_id"],rt=function(e){var t=e.handleCardClick,n=e.processId,u=e.setShowCardEditor,l=e.showCardEditor,b=e.maxHeight,f=e.lotFilters,j=e.lotFilterValue,m=e.selectedFilterOption,h=e.sortMode,O=e.sortDirection,p=e.selectedCards,v=e.setSelectedCards,g=e.handleAddLotClick,x=function(){var e=Object(s.useState)(d()),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){function e(){r(d())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),y=(x.height,x.width,Object(L.c)(),Object(L.d)((function(e){return e.processesReducer.processes[n]}))||{}),w=(void 0===y.showFinish||y.showFinish,void 0===y.showQueue||y.showQueue,Object(L.d)((function(e){return e.tasksReducer.tasks}))),C=(Object(L.d)((function(e){return e.lotTemplatesReducer.lotTemplates})),Object(L.d)((function(e){return e.cardsReducer.processCards}))||{}),I=Object(L.d)((function(e){return e.stationsReducer.stations})),S=Object(L.d)((function(e){return e.cardPageReducer.droppedLotInfo})),k=(Object(L.d)((function(e){return e.settingsReducer.settings})).shiftDetails,Object(L.d)((function(e){return e.settingsReducer.settings.enableMultipleLotFilters}))),E=S||{},_=E.lotId,H=void 0===_?"":_,D=E.binId,N=void 0===D?"":D,z=Object(s.useState)({}),R=Object(a.a)(z,2),M=R[0],T=R[1],F=Object(s.useState)({}),U=Object(a.a)(F,2),Q=U[0],P=U[1],W=Object(s.useState)([]),A=Object(a.a)(W,2),q=A[0],B=A[1],V=Object(s.useState)([]),Y=Object(a.a)(V,2),J=Y[0],G=Y[1],Z=Object(s.useState)({}),K=Object(a.a)(Z,2),X=K[0],$=(K[1],(y||{}).name),ee=void 0===$?"":$,te=Object(s.useMemo)((function(){var e=y.routes.map((function(e){return w[e]}));return Object(ue.a)(e).map((function(e){var t;return null===(t=I[e])||void 0===t?void 0:t.type})).every((function(e){return"warehouse"===e}))}),[y.routes,I]);Object(s.useEffect)((function(){var e={};y.routes&&y.routes.forEach((function(t,n){var r=w[t],i=Object(Xe.e)(r),c=Object(Xe.k)(r);e[i]={station_id:i,cards:[]},e[c]={station_id:c,cards:[]},i,c})),P(e)}),[y,w]),Object(s.useEffect)((function(){var e=[],t=[],a=Object(o.a)({},Q),s=C[n]||{};Object.values(s).forEach((function(n){var s=n.bins,d=n._id,u=Object(c.a)(n,nt),l=Object(de.l)(n),b=!1;b=k?f.reduce((function(e,t){return e&&Object(de.a)(n,t)}),!0):Object(de.m)(n,j,m),s&&b&&Object.entries(s).forEach((function(n){var c=n[0],s=n[1].count;if(s>-1){var b=Object(o.a)(Object(o.a)({},u),{},{totalQuantity:l,binId:c,count:s,cardId:d,processName:ee});if(Q[c]){var f=Object(et.b)(a[c])?a[c]:{},j=Object(se.e)(f.cards)?f.cards:[];a=Object(o.a)(Object(o.a)({},a),{},Object(r.a)({},c,Object(o.a)(Object(o.a)({},f),{},{cards:[].concat(Object(i.a)(j),[b])})))}else"QUEUE"===c?e.push(b):"FINISH"===c&&t.push(b)}}))})),T(a),B(e),G(t)}),[Q,C,n,f,N,H,j,m]);var ne=Object(s.useMemo)((function(){var e=y.flattened_stations.map((function(e,r){var i;return Object(be.jsx)("div",{id:"column-".concat(e.stationID),children:Object(be.jsx)(pe,{containerStyle:{marginTop:"".concat(2*e.depth,"rem"),position:"relative"},setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,id:n+"+"+e.stationID,station_id:e.stationID,stationName:I[e.stationID].name,processId:n,cards:(null===(i=M[e.stationID])||void 0===i?void 0:i.cards)||[],onCardClick:t,autoCycleTime:X[e.stationID]})})}));return Object(be.jsx)(be.Fragment,{children:e})}),[M,y]);return Object(be.jsxs)($e,{style:{background:"white"},children:[Object(be.jsx)(Ae,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"QUEUE",setShowCardEditor:u,showCardEditor:l,stationName:"Queue",processId:n,cards:q,onCardClick:t,onAddLotClick:function(){return g(n)}},"QUEUE"),ne,!te&&Object(be.jsx)(Ke,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"FINISH",setShowCardEditor:u,showCardEditor:l,stationName:"Finished",processId:n,cards:J,onCardClick:t},"FINISH")]})};rt.defaultProps={handleCardClick:function(){},processId:null,setShowCardEditor:function(){},showCardEditor:!1,maxHeight:null,lotFilterValue:"",selectedFilterOption:tt.r.name,lotFilters:[],sortMode:tt.r.name,sortDirection:tt.x.ASCENDING};t.default=Object(s.memo)(rt)},835:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return d}));var r=n(32),i=n(14),c=(n(793),function(e){var t=e.split(" "),n=Object(r.a)(t,2),i=n[0],c=n[1],o=i.split(":"),a=Object(r.a)(o,2),s=a[0],d=a[1];return"12"!==s||"AM"!==c&&"am"!==c?"12"!==s||"PM"!==c&&"pm"!==c||(s="12"):s="00","PM"!==c&&"pm"!==c||"12"===s||(s=parseInt(s,10)+12),"".concat(s,":").concat(d)}),o=function(e,t){return Date.parse("".concat(t," ").concat(e))},a=function(e){var t,n,c,o,a=i.a.getState().settingsReducer;(null===a||void 0===a||null===(t=a.settings)||void 0===t||null===(n=t.timezone)||void 0===n?void 0:n.label)&&(e=function(e,t){return new Date(e.toLocaleString("en-US",{timeZone:t}))}(e,null===a||void 0===a||null===(c=a.settings)||void 0===c||null===(o=c.timezone)||void 0===o?void 0:o.label));return function(e){var t="am",n=e.split(":"),i=Object(r.a)(n,2),c=i[0],o=i[1];return(c=parseInt(c))>=12&&(c>12&&(c-=12),t="pm"),1===o.length&&(o="0".concat(o)),"".concat(c,":").concat(o," ").concat(t)}("".concat(e.getHours(),":").concat(e.getMinutes()))},s=function(e){var t=e.split(":"),n=Object(r.a)(t,3),i=n[0],c=n[1],o=n[2];return 60*(i=parseInt(i))*60+60*(c=parseInt(c))+(o=parseInt(o))},d=function(e){return new Date(1e3*e).toISOString().substr(11,8)}}}]);
//# sourceMappingURL=8.8039aa9e.chunk.js.map