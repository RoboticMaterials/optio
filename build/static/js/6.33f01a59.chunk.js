(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[6],{2491:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n(27),c=n(30),o=n(0),a=n(20),s=n(2);function d(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var l,u,b,f,j,m,h,O,p,v,g,x,y,w,C,I,k,S,E,_,H,D,N,M,R,z,T,F,L,U,Q,P,W,A,B,q,V,Y,J,G,K,X,Z,$=n(1),ee=n.n($),te=n(3),ne=n(29),re=n(456),ie=n.n(re),ce=n(195),oe=n.n(ce),ae=n(17),se=n(19),de=(n(467),"10rem"),le=(ae.d.span(l||(l=Object(se.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(ae.c)(u||(u=Object(se.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n\n    border-radius: 1rem;\n    overflow: hidden;\n\n    color: ",";\n"])),de,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),ue=(ae.d.div(b||(b=Object(se.a)(["\n    ",";\n"])),le),ae.d.div(f||(f=Object(se.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),be=ae.d.div(j||(j=Object(se.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),fe=ae.d.span(m||(m=Object(se.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),je=(ae.d.div(h||(h=Object(se.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n"]))),ae.d.div(O||(O=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ae.d.div(p||(p=Object(se.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),ae.d.div(v||(v=Object(se.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t// justify-content: space-between;\n"])))),me=(ae.d.span(g||(g=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n    border-bottom: 1px solid black;\n    width: 100%;\n    padding: .25rem;\n    background: ",";\n"])),(function(e){return e.theme.fontSize.sz4}),(function(e){return e.theme.bg.senary})),ae.d.span(x||(x=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2; /* number of lines to show */\n    -webkit-box-orient: vertical;\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),he=(ae.d.button(y||(y=Object(se.a)(["\n\n"]))),ae.d.div(w||(w=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),de,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),ae.d.div(C||(C=Object(se.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width:100%;\n    justify-content: space-between;\n    overflow: hidden;\n    align-content: center;\n    margin: 0.2rem 0;\n    /* position: absolute; */\n    /* right: 1rem; */\n\n"])))),Oe=ae.d.h5(I||(I=Object(se.a)(["\n    text-align: center;\n    color: ",";\n    font-family: ",";\n"])),(function(e){return e.theme.bg.septenary}),(function(e){return e.theme.font.primary})),pe=ae.d.div(k||(k=Object(se.a)(["\n    display: flex;\n    flex-direction: row;\n"]))),ve=ae.d.hr(S||(S=Object(se.a)(["\n    border-top: .05rem solid;\n    border-color: ",";\n    border-radius: .25rem;\n    width: 100%;\n    margin: 0;\n"])),(function(e){return e.theme.bg.quaternary})),ge=n(555),xe=n(185),ye=n(38),we=n(31),Ce=n(711),Ie=n.n(Ce),ke=n(107),Se=n(1672),Ee=(n(564),n(7)),_e=ae.d.div(E||(E=Object(se.a)(["\n  display: table;\n"]))),He=ae.d.div(_||(_=Object(se.a)(["\n  padding: 50% 0;\n"]))),De=ae.d.div(H||(H=Object(se.a)(["\n\n"]))),Ne=ae.d.div(D||(D=Object(se.a)(["\n  width: 97%;\n  margin-top: .5rem;\n  margin-bottom: .5rem;\n  margin-left: 0.5rem;\n  min-height: ",";\n  background: ",";\n\n  border: 0.2rem solid #dedfe3;\n  border-radius: 0.2rem;\n"])),(function(e){return e.dragDivHeight?e.dragDivHeight:"10rem"}),(function(e){return e.theme.bg.tertiary})),Me=ae.d.span(N||(N=Object(se.a)(["\n  display: block;\n  transform-origin: top left;\n  transform: rotate(90deg) translate(0, -110%);\n  margin-top: -50%;\n  max-width: 20rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Re=(Object(ae.c)(M||(M=Object(se.a)(["\n\n"]))),ae.d.div(R||(R=Object(se.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    max-height: ",";\n\n    border-radius: 0.5rem;\n    overflow: hidden;\n\n    color: ",";\n"])),"10rem",(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.maxHeight&&e.maxHeight}),(function(e){return e.theme.bg.octonary}))),ze=(ae.d.div(z||(z=Object(se.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n"])),(function(e){return e.theme.bg.secondary})),ae.d.div(T||(T=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ae.d.div(F||(F=Object(se.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),ae.d.span(L||(L=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),ae.d.div(U||(U=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n  height: 100%;\n\tmin-height: 10rem;\n  background: ",";\n\tborder-bottom-right-radius: 0.5rem;\n\tborder-bottom-left-radius: 0.5rem;\n\n  // border-left: 0.2rem solid ",";\n  // border-bottom: 0.2rem solid ",";\n  // border-right: 0.2rem solid ",";\n\n\tjustify-content: start;\n"])),(function(e){return e.theme.bg.secondary}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}))),Te=n(160),Fe=n(25),Le=n(159),Ue=n(87),Qe=n(563),Pe=n(4),We=function(e){var t=e.station_id,n=e.stationName,d=void 0===n?"Unnamed":n,l=e.onCardClick,u=e.selectedCards,b=e.processId,f=e.HeaderContent,j=e.isCollapsed,m=e.maxWidth,h=e.maxHeight,O=e.sortMode,p=e.sortDirection,v=(e.setSelectedCards,e.containerStyle),g=Object(ne.d)((function(e){return e.cardsReducer.processCards[b]}))||{},x=Object(ne.d)((function(e){return e.cardPageReducer.hoveringLotId}))||null,y=Object(ne.d)((function(e){return e.cardPageReducer.draggingLotId}))||null,w=Object(ne.d)((function(e){return e.cardPageReducer.draggingStationId}))||null,C=Object(ne.d)((function(e){return e.cardPageReducer.lotDivHeight}))||null,I=Object(ne.d)((function(e){return e.cardPageReducer.dragFromBin}))||null,k=Object(ne.d)((function(e){return e.tasksReducer.tasks})),S=Object(ne.d)((function(e){return e.stationsReducer.stations})),E=Object(ne.d)((function(e){return e.processesReducer.processes})),_=(Object(ne.d)((function(e){return e.dashboardsReducer.kickOffEnabledDashboards})),Object(ne.d)((function(e){return e.cardsReducer.showEditor}))),H=Object(ne.d)((function(e){return e.cardPageReducer.hideCard})),D=(Object(we.e)().location.pathname.includes("/locations"),Object(s.useRef)(null)),N=Object(s.useRef)(null),M=Object(ne.c)(),R=function(){var e=Object(te.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(ke.g)(t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(Se.h)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(Se.b)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(Se.c)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(Se.a)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(Object(Se.f)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=Object(s.useState)(!1),P=Object(a.a)(Q,2),W=(P[0],P[1],Object(s.useState)(0)),A=Object(a.a)(W,2),B=A[0],q=A[1],V=Object(s.useState)(0),Y=Object(a.a)(V,2),J=Y[0],G=Y[1],K=Object(s.useState)([]),X=Object(a.a)(K,2),Z=X[0],$=X[1],re=Object(s.useState)(!0),ie=Object(a.a)(re,2),ce=ie[0],oe=(ie[1],Object(s.useState)(!1)),ae=Object(a.a)(oe,2),se=(ae[0],ae[1],Object(s.useState)(!1)),de=Object(a.a)(se,2),le=de[0],ue=de[1],be=Object(s.useState)(!1),fe=Object(a.a)(be,2),je=fe[0],me=fe[1],he=Object(s.useState)(!1),Oe=Object(a.a)(he,2),pe=(Oe[0],Oe[1]);Object(s.useEffect)((function(){var e=0,t=0;Z.forEach((function(n){var r=(n||{}).count,i=void 0===r?0:r;t=parseInt(t)+1,e=parseInt(e)+parseInt(i)})),G(t),q(e)}),[g]);var ve=Object(s.useState)(!1),ge=Object(a.a)(ve,2),xe=ge[0];ge[1];Object(s.useEffect)((function(){if(!H)if(O){var t=Object(i.a)(e.cards);Object(Te.f)(t,O,p),$(t)}else $(e.cards)}),[g,O,p]),Object(s.useEffect)((function(){if(y&&I&&g[y]){var e=Ce(y,I,t);me(e)}y||ue(null)}),[y]),Object(s.useEffect)((function(){if(null===y&&H&&t===I&&b===H.process_id){var e=Object(Ee.c)(Z),n=e.findIndex((function(e){return e.cardId===H.cardId}));e.splice(n,1),$(e)}}),[y]),Object(s.useEffect)((function(){if(null===y&&H&&t===w&&b===H.process_id){var e=Object(Ee.c)(Z);e.push(H),$(e)}}),[y]);var Ce=function(e,t,n){var r=!1,i=g[e].process_id,c=E[g[e].process_id],o=c.routes.map((function(e){return k[e]}));if(g[e].process_id!==b)return!1;if(_)return!1;var a=Object(Ue.b)(o,S),s=Object(Ue.a)(o);if(i!==b)return[!1,r];if(_)return[!1,r];if(t===n)return[!0,r];return function e(t){if(s.includes(t)&&"FINISH"==n)return ue(!0),!0;if("QUEUE"===t&&("split"!==c.startDivergeType||1===a.length)){if(a.includes(n))return ue(!0),!0;for(var i in a){if(e(a[i]))return!0}}var d=o.filter((function(e){return e.load===t}));if(d[0]&&(!d[0].divergeType||"split"!==d[0].divergeType)){var l=function(t){return d[t].unload===n?(r=d[t].load,ue(!0),{v:!0}):1===o.filter((function(e){return e.unload===d[t].unload})).length&&e(d[t].unload)?{v:!0}:void 0};for(var u in d){var b=l(u);if("object"===typeof b)return b.v}}}(t)||function e(t){if(a.includes(t)&&"QUEUE"===n&&("split"!==c.startDivergeType||1===a.length))return ue(!0),!0;if("FINISH"===t){if(s.includes(n))return ue(!0),!0;if(e(s))return!0}var r=o.filter((function(e){return e.unload===t}));if(1===r.length){var i=function(t){var i=o.filter((function(e){return e.load===r[t].load}));if(r[t].load===n){if(1===i.length||"split"!==i[0].divergeType||!i[0].divergeType)return ue(!0),{v:!0}}else if((1===i.length||!i[0].divergeType||"split"!==i[0].divergeType)&&e(r[t].load))return{v:!0}};for(var d in r){var l=i(d);if("object"===typeof l)return l.v}}}(t)?[!0,r]:[!1,r]},Fe=function(e){z(null)},We=function(){var e=function(){for(var e=-1,n=u.length-1;n>=0;n--)(u[n]||{}).binId===t&&n>e&&(e=n);return e}();return u[e]},Ae=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,r,i,s,d,l,u,b,f,j,m,h;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ce(y,I,w),n=Object(a.a)(t,2),r=n[0],i=n[1],y,r?(s=I,d=g[y]?g[y]:{},l=d.bins?d.bins:{},b=(u=l||{})[s],Object(c.a)(u,[s].map(ye.a)),T(null),b&&(h=i||s,(m=d).bins=Object(Le.o)(m.bins,null===(f=m.bins[s])||void 0===f?void 0:f.count,h,w,E[m.process_id],k,S),m.bins=Object(Le.n)(m.bins,null===(j=m.bins[s])||void 0===j?void 0:j.count,s,E[m.process_id],k),m.bins[s]&&!m.bins[s].count&&(m.bins[s]=Object(o.a)(Object(o.a)({},m.bins[s]),{},{count:0})),m.bins[s]&&0===m.bins[s].count&&1===Object.values(m.bins[s]).length&&delete m.bins[s],R(m,m._id).then((function(e){U(null),L(null),F(null)})))):(T(null),L(null),F(null),U(null));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j?Object(Pe.jsxs)(Re,{maxHeight:h,isCollapsed:j,maxWidth:m,children:[f(J,B),Object(Pe.jsx)(ze,{style:{padding:"1rem 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(Pe.jsx)(_e,{children:Object(Pe.jsx)(He,{children:Object(Pe.jsx)(Me,{children:d})})})})]}):Object(Pe.jsxs)(Re,{onDragOver:function(e){N&&N.current&&(N.current.style.minHeight=C+4+"rem"),F(t),je&&pe(!0),e.preventDefault()},onDragLeave:function(e){pe(!1),F(null),N&&N.current&&(N.current.style.minHeight=C-1+"rem")},isCollapsed:j,maxWidth:m,maxHeight:h,style:Object(o.a)({},v),children:[Object(Pe.jsx)("div",{style:{pointerEvents:!!y&&"none"},children:f(J,B)}),!_&&Object(Pe.jsxs)(ze,{class:"container",style:{overflow:"auto",height:"100%",padding:"1rem",pointerEvents:!!y&&"none"},children:[!!le&&!!y&&t!==I&&Object(Pe.jsx)(Ne,{ref:N,dragDivHeight:C?C-1+"rem":"10rem",class:"dragToDiv"}),Z.map((function(e,n){e._id,e.count;var i,a=e.leadTime,s=e.name,d=(e.object_id,e.cardId),u=e.flags,f=e.lotNum,j=e.totalQuantity,m=(e.processName,e.lotTemplateId,Object(c.a)(e,["_id","count","leadTime","name","object_id","cardId","flags","lotNum","totalQuantity","processName","lotTemplateId"]),null!==x||null!==y||xe);if(null===(i=g[e.cardId])||void 0===i?void 0:i.bins[e.binId]){var h=g[e.cardId].bins[e.binId];return Object.keys(h).map((function(i){var c="count"!==i;return Object(Pe.jsx)(Ie.a,{partialVisibility:!0,offset:{bottom:50,top:50},children:function(O){var p,v=O.isVisible;return Object(Pe.jsx)(Pe.Fragment,{children:v?Object(Pe.jsx)(Pe.Fragment,{children:(h[i]>0||"count"===i&&h.count>0)&&Object(Pe.jsx)(De,{id:"item",ref:D,class:"item",onMouseEnter:function(e){z(d)},onMouseLeave:Fe,onDragStart:function(n){var r;U(e),D&&D.current&&D.current.offsetHeight&&(r=D.current.offsetHeight/16,M(Object(Se.g)(r))),n.target.style.opacity=".001",T(d),L(t)},onDragEnd:function(e){I&&w&&I!==w?Ae():(T(null),L(null),F(null),U(null)),e.target.style.opacity="1"},style:{background:"transparent",borderRadius:"1rem",pointerEvents:"none"},children:Object(Pe.jsx)(Qe.a,{isPartial:c,onDeleteDisabledLot:function(){!function(e,t,n){var i=g[e.cardId],c=i.bins[t];delete c[n];var a=Object(o.a)(Object(o.a)({},i),{},{bins:Object(o.a)(Object(o.a)({},i.bins),{},Object(r.a)({},t,c))});1===Object.values(c).length&&0===c.count&&delete a.bins[t],R(a,a._id)}(e,e.binId,i)},onRightClickDeleteLot:function(){!function(e,t){var n=g[e.cardId],i=n.bins[t];i.count=0;var c=Object(o.a)(Object(o.a)({},n),{},{bins:Object(o.a)(Object(o.a)({},n.bins),{},Object(r.a)({},t,i))});1===Object.values(i).length&&delete c.bins[t],R(c,c._id)}(e,e.binId)},enableFlagSelector:ce,selectable:m,totalQuantity:j,lotNumber:f,name:c?s+" (".concat(null===(p=k[i])||void 0===p?void 0:p.part,")"):s,count:c?h[i]:h.count,leadTime:a,id:d,flags:u||[],index:n,lotId:d,binId:t,onClick:function(e){var n=function(e){var n=(We()||{}).cardId,r=Z.findIndex((function(e){var r=e.cardId,i=e.binId;return n===r&&t===i})),i=Z.findIndex((function(n){var r=n.cardId,i=n.binId;return e===r&&t===i}));return-1===r?[Z[i]]:r<i?Z.slice(r,i+1):Z.slice(i,r+1).reverse()}(d);l(e,{lotId:d,processId:b,binId:t},n)},containerStyle:{borderBottom:y===d&&t===I&&".25rem solid #b8b9bf",borderRight:y===d&&t===I&&".2rem solid #b8b9bf",borderLeft:y===d&&t===I&&".1rem solid #b8b9bf",borderTop:y===d&&t===I&&".05rem solid #b8b9bf",boxShadow:y===d&&t===I&&"2px 3px 2px 1px rgba(0,0,0,0.2)",borderRadius:"0.2rem",padding:"0.2rem",margin:".4rem",width:"96%",pointerEvents:!!y&&y!==d&&"none"}},d)})}):Object(Pe.jsx)("div",{style:{minHeight:"15rem",width:"80%"},children:"...Loading"})})}})}))}}))]})]})},Ae=n(75),Be=n(507),qe=function(e){var t=e.id,n=e.station_id,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,d=void 0===o?[]:o,l=e.processId,u=e.maxHeight,b=e.sortMode,f=e.sortDirection,j=e.selectedCards,m=e.setSelectedCards,h=(e.autoCycleTime,e.containerStyle),O=Object(ne.c)(),p=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(Ae.e)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(ne.d)((function(e){return e.stationsReducer.stations})),g=Object(ae.e)(),x=Object(s.useState)(!1),y=Object(a.a)(x,2),w=y[0],C=y[1],I=Object(s.useMemo)((function(){var e,t,r="00:00:00";if("auto"===v[n].cycle_time_mode&&(null===(e=v[n])||void 0===e?void 0:e.cycle_time))r=Object(Be.c)(v[n].cycle_time);else if("manual"===v[n].cycle_time_mode&&(null===(t=v[n])||void 0===t?void 0:t.manual_cycle_time)){var i;r=Object(Be.c)(null===(i=v[n])||void 0===i?void 0:i.manual_cycle_time)}var c=r.split(":");return ie()().set({hour:c[0],minute:c[1],second:c[2]})}),[v[n]]),k=function(){var e,t,r;return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(ve,{}),Object(Pe.jsxs)(he,{style:{marginTop:".5rem"},children:[Object(Pe.jsx)(Oe,{children:"Cycle Time"}),Object(Pe.jsxs)(pe,{children:[Object(Pe.jsx)(fe,{style:{marginRight:".25rem",display:"flex",alignItems:"center"},children:"Auto"}),Object(Pe.jsx)(oe.a,{onColor:g.schema.lots.solid,style:{transform:"scale(0.8)"},checked:"manual"===(null===(e=v[n])||void 0===e?void 0:e.cycle_time_mode),onChange:function(e){!function(e){var t=Object(Ee.c)(v[n]);t.cycle_time_mode=e?"manual":"auto",p(t)}(e)}}),Object(Pe.jsx)(fe,{style:{marginLeft:".25rem",display:"flex",alignItems:"center"},children:"Manual"})]})]}),Object(Pe.jsxs)(he,{style:{opacity:"auto"===(null===(t=v[n])||void 0===t?void 0:t.cycle_time_mode)&&"70%",pointerEvents:"auto"===(null===(r=v[n])||void 0===r?void 0:r.cycle_time_mode)?"none":"auto",borderRadius:"0 3px 3px 0"},children:[Object(Pe.jsx)(Oe,{style:{fontSize:"1rem"},children:"(HH:MM:SS)"}),Object(Pe.jsx)(ge.a,{showHours:!0,showMinutes:!0,value:I,onChange:function(e){!function(e){var t=Object(Ee.c)(v[n]);t.manual_cycle_time=Object(Be.b)(e),p(t)}(e.format("HH:mm:ss"))},style:{width:"5.5rem"},allowEmpty:!1})]}),Object(Pe.jsx)(ve,{})]})};return Object(Pe.jsx)(We,{setSelectedCards:m,selectedCards:j,sortDirection:f,maxWidth:"25rem",sortMode:b,maxHeight:u,id:t,containerStyle:h,HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w?Object(Pe.jsx)(ue,{children:Object(Pe.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return C(!1)},style:{cursor:"pointer"}})}):Object(Pe.jsxs)(ue,{children:[Object(Pe.jsxs)(be,{style:{marginBottom:"1rem",justifyContent:"center"},children:[Object(Pe.jsx)(je,{children:Object(Pe.jsx)(me,{children:i})}),Object(Pe.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(Pe.jsxs)(be,{children:[Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(fe,{children:"Lots: "}),Object(Pe.jsx)(fe,{children:e})]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(fe,{children:"Total Quantity: "}),Object(Pe.jsx)(fe,{children:t})]})]}),k()]})},station_id:n,stationName:i,onCardClick:c,cards:d,processId:l,isCollapsed:w})},Ve="10rem",Ye=(ae.d.span(Q||(Q=Object(se.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(ae.c)(P||(P=Object(se.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),Ve,(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.theme.bg.octonary}))),Je=(ae.d.div(W||(W=Object(se.a)(["\n    ",";\n"])),Ye),ae.d.div(A||(A=Object(se.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: 0.5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),Ge=ae.d.div(B||(B=Object(se.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),Ke=ae.d.span(q||(q=Object(se.a)(["\n    font-size: 1rem;\n    color: ",";\n\n"])),(function(e){return e.theme.textColor})),Xe=(ae.d.div(V||(V=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ae.d.div(Y||(Y=Object(se.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),ae.d.div(J||(J=Object(se.a)(["\n\tdisplay: flex;\n\talign-items: center;\n    margin: 0 2rem;\n\t// justify-content: space-between;\n"])))),Ze=(ae.d.span(G||(G=Object(se.a)(["\n    text-align: center;\n    margin-right: 1rem;\n    \n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz3})),ae.d.span(K||(K=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),$e=(ae.d.button(X||(X=Object(se.a)(["\n\n"]))),ae.d.div(Z||(Z=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),Ve,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=void 0===t?"QUEUE":t,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,d=e.onAddLotClick,l=e.processId,u=(e.setShowCardEditor,e.showCardEditor,e.maxHeight),b=e.sortMode,f=e.sortDirection,j=e.selectedCards,m=e.setSelectedCards,h=Object(s.useState)(!1),O=Object(a.a)(h,2),p=O[0],v=O[1];return Object(Pe.jsx)(We,{setSelectedCards:m,selectedCards:j,sortDirection:f,sortMode:b,maxHeight:u,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p?Object(Pe.jsx)(Je,{children:Object(Pe.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return v(!1)},style:{cursor:"pointer"}})}):Object(Pe.jsxs)(Je,{children:[Object(Pe.jsxs)(Ge,{style:{marginBottom:"1rem"},children:[Object(Pe.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true",onClick:function(){return v(!0)},style:{cursor:"pointer"}}),Object(Pe.jsx)(Xe,{children:Object(Pe.jsx)(Ze,{children:i})}),Object(Pe.jsx)(xe.a,{onClick:d,schema:"lots",children:"+ Lot"})]}),Object(Pe.jsxs)(Ge,{style:{justifyContent:"space-between"},children:[Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(Ke,{children:"Lots: "}),Object(Pe.jsx)(Ke,{children:e})]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(Ke,{children:"Total Quantity: "}),Object(Pe.jsx)(Ke,{children:t})]})]})]})},station_id:n,stationName:i,onCardClick:c,cards:o,processId:l,isCollapsed:p})});$e.defaultProps={stationName:"Unnamed",onCardClick:function(){},onAddLotClick:function(){},cards:[],setShowCardEditor:function(){},showCardEditor:!1};var et,tt,nt,rt,it,ct,ot,at,st,dt,lt,ut,bt,ft,jt,mt,ht=$e,Ot=(n(1687),"10rem"),pt=(ae.d.span(et||(et=Object(se.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(ae.c)(tt||(tt=Object(se.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),Ot,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),vt=(ae.d.div(nt||(nt=Object(se.a)(["\n    ",";\n"])),pt),ae.d.div(rt||(rt=Object(se.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),gt=ae.d.div(it||(it=Object(se.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),xt=ae.d.span(ct||(ct=Object(se.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),yt=(ae.d.div(ot||(ot=Object(se.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    padding-left: 1rem;\n    padding-right: 1rem;\n \n \n"]))),ae.d.div(at||(at=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),ae.d.div(st||(st=Object(se.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),ae.d.div(dt||(dt=Object(se.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t// justify-content: space-between;\n"])))),wt=(ae.d.span(lt||(lt=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),ae.d.span(ut||(ut=Object(se.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),Ct=(ae.d.button(bt||(bt=Object(se.a)(["\n\n"]))),ae.d.div(ft||(ft=Object(se.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),Ot,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=e.stationName,r=void 0===n?"Unnamed":n,i=e.onCardClick,c=e.cards,o=void 0===c?[]:c,d=e.processId,l=e.maxHeight,u=e.sortMode,b=e.sortDirection,f=e.selectedCards,j=e.setSelectedCards,m=Object(s.useState)(!1),h=Object(a.a)(m,2),O=h[0],p=h[1];return Object(Pe.jsx)(We,{setSelectedCards:j,selectedCards:f,sortDirection:b,maxHeight:l,sortMode:u,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O?Object(Pe.jsx)(vt,{children:Object(Pe.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return p(!1)},style:{cursor:"pointer"}})}):Object(Pe.jsxs)(vt,{children:[Object(Pe.jsxs)(gt,{style:{marginBottom:"1rem",justifyContent:"center"},children:[Object(Pe.jsx)(yt,{children:Object(Pe.jsx)(wt,{children:r})}),Object(Pe.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(Pe.jsxs)(gt,{children:[Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(xt,{children:"Lots: "}),Object(Pe.jsx)(xt,{children:e})]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(xt,{children:"Total Quantity: "}),Object(Pe.jsx)(xt,{children:t})]})]})]})},station_id:t,stationName:r,onCardClick:i,cards:o,processId:d,isCollapsed:O})}),It=n(37),kt=ae.d.div(jt||(jt=Object(se.a)(["\n  // max-height: ",";\n  display: flex;\n  flex-direction: row;\n  padding: 1rem;\n  justify-content:  flex-start;\n"])),(function(e){return e.maxHeight})),St=(ae.d.div(mt||(mt=Object(se.a)(["\ndisplay: flex;\nflex-direction: row;\npadding: 1rem 0rem;\nmargin: 0 1rem;\n// border: 1px solid lightgrey;\n"]))),n(36)),Et=n(18),_t=function(e){var t=e.handleCardClick,n=e.processId,l=e.setShowCardEditor,u=e.showCardEditor,b=e.maxHeight,f=e.lotFilters,j=e.lotFilterValue,m=e.selectedFilterOption,h=e.sortMode,O=e.sortDirection,p=e.selectedCards,v=e.setSelectedCards,g=e.handleAddLotClick,x=function(){var e=Object(s.useState)(d()),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){function e(){r(d())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),y=(x.height,x.width,Object(ne.c)(),Object(ne.d)((function(e){return e.processesReducer.processes[n]}))||{}),w=(void 0===y.showFinish||y.showFinish,void 0===y.showQueue||y.showQueue,Object(ne.d)((function(e){return e.tasksReducer.tasks}))),C=(Object(ne.d)((function(e){return e.lotTemplatesReducer.lotTemplates})),Object(ne.d)((function(e){return e.cardsReducer.processCards}))||{}),I=Object(ne.d)((function(e){return e.stationsReducer.stations})),k=Object(ne.d)((function(e){return e.cardPageReducer.droppedLotInfo})),S=(Object(ne.d)((function(e){return e.settingsReducer.settings})).shiftDetails,Object(ne.d)((function(e){return e.settingsReducer.settings.enableMultipleLotFilters}))),E=k||{},_=E.lotId,H=void 0===_?"":_,D=E.binId,N=void 0===D?"":D,M=Object(s.useState)({}),R=Object(a.a)(M,2),z=R[0],T=R[1],F=Object(s.useState)({}),L=Object(a.a)(F,2),U=L[0],Q=L[1],P=Object(s.useState)([]),W=Object(a.a)(P,2),A=W[0],B=W[1],q=Object(s.useState)([]),V=Object(a.a)(q,2),Y=V[0],J=V[1],G=Object(s.useState)({}),K=Object(a.a)(G,2),X=K[0],Z=(K[1],(y||{}).name),$=void 0===Z?"":Z,ee=Object(s.useMemo)((function(){var e=y.routes.map((function(e){return w[e]}));return Object(Ue.a)(e).map((function(e){var t;return null===(t=I[e])||void 0===t?void 0:t.type})).every((function(e){return"warehouse"===e}))}),[y.routes,I]);Object(s.useEffect)((function(){var e={};y.routes&&y.routes.forEach((function(t,n){var r=w[t],i=Object(It.e)(r),c=Object(It.k)(r);e[i]={station_id:i,cards:[]},e[c]={station_id:c,cards:[]},i,c})),Q(e)}),[y,w]),Object(s.useEffect)((function(){var e=[],t=[],a=Object(o.a)({},U),s=C[n]||{};Object.values(s).forEach((function(n){var s=n.bins,d=n._id,l=Object(c.a)(n,["bins","_id"]),u=Object(Le.l)(n),b=!1;b=S?f.reduce((function(e,t){return e&&Object(Le.a)(n,t)}),!0):Object(Le.m)(n,j,m),s&&b&&Object.entries(s).forEach((function(n){var c=n[0],s=n[1].count;if(s>-1){var b=Object(o.a)(Object(o.a)({},l),{},{totalQuantity:u,binId:c,count:s,cardId:d,processName:$});if(U[c]){var f=Object(St.b)(a[c])?a[c]:{},j=Object(Fe.d)(f.cards)?f.cards:[];a=Object(o.a)(Object(o.a)({},a),{},Object(r.a)({},c,Object(o.a)(Object(o.a)({},f),{},{cards:[].concat(Object(i.a)(j),[b])})))}else"QUEUE"===c?e.push(b):"FINISH"===c&&t.push(b)}}))})),T(a),B(e),J(t)}),[U,C,n,f,N,H,j,m]);var te=Object(s.useMemo)((function(){var e=y.flattened_stations.map((function(e,r){var i;return Object(Pe.jsx)("div",{id:"column-".concat(e.stationID),children:Object(Pe.jsx)(qe,{containerStyle:{marginTop:"".concat(2*e.depth,"rem"),position:"relative"},setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,id:n+"+"+e.stationID,station_id:e.stationID,stationName:I[e.stationID].name,processId:n,cards:(null===(i=z[e.stationID])||void 0===i?void 0:i.cards)||[],onCardClick:t,autoCycleTime:X[e.stationID]})})}));return Object(Pe.jsx)(Pe.Fragment,{children:e})}),[z,y]);return Object(Pe.jsxs)(kt,{style:{background:"white"},children:[Object(Pe.jsx)(ht,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"QUEUE",setShowCardEditor:l,showCardEditor:u,stationName:"Queue",processId:n,cards:A,onCardClick:t,onAddLotClick:function(){return g(n)}},"QUEUE"),te,!ee&&Object(Pe.jsx)(Ct,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"FINISH",setShowCardEditor:l,showCardEditor:u,stationName:"Finished",processId:n,cards:Y,onCardClick:t},"FINISH")]})};_t.defaultProps={handleCardClick:function(){},processId:null,setShowCardEditor:function(){},showCardEditor:!1,maxHeight:null,lotFilterValue:"",selectedFilterOption:Et.r.name,lotFilters:[],sortMode:Et.r.name,sortDirection:Et.x.ASCENDING};t.default=Object(s.memo)(_t)},507:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));var r=n(20),i=(n(8),n(456),function(e){var t=e.split(" "),n=Object(r.a)(t,2),i=n[0],c=n[1],o=i.split(":"),a=Object(r.a)(o,2),s=a[0],d=a[1];return"12"!==s||"AM"!==c&&"am"!==c?"12"!==s||"PM"!==c&&"pm"!==c||(s="12"):s="00","PM"!==c&&"pm"!==c||"12"===s||(s=parseInt(s,10)+12),"".concat(s,":").concat(d)}),c=function(e){var t=e.split(":"),n=Object(r.a)(t,3),i=n[0],c=n[1],o=n[2];return 60*(i=parseInt(i))*60+60*(c=parseInt(c))+(o=parseInt(o))},o=function(e){return new Date(1e3*e).toISOString().substr(11,8)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e/86400),r=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),c=Math.round(e%60),o="";return t?(n&&(o+="".concat(n,"d ")),r&&(o+="".concat(r,"h ")),n||(o+="".concat(i,"m")),n||r||(o+=" ".concat(c,"s"))):(n&&(o+="".concat(n," days ")),r&&(o+="".concat(r," hrs ")),n||(o+="".concat(i," min")),n||r||(o+=" ".concat(c," sec"))),o}}}]);
//# sourceMappingURL=6.33f01a59.chunk.js.map