(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[8],{1438:function(e,t,n){"use strict";n.d(t,"g",(function(){return k})),n.d(t,"a",(function(){return I})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return _})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return H})),n.d(t,"f",(function(){return N})),n.d(t,"i",(function(){return z}));var r,i,c,o,a,d,s,u,l,b,f,m,j,h,O,p,v,g,x=n(26),y=n(25),w=(n(836),"10rem"),C=(y.d.span(r||(r=Object(x.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(y.c)(i||(i=Object(x.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n\n    border-radius: 1rem;\n    overflow: hidden;\n\n    color: ",";\n"])),w,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),k=(y.d.div(c||(c=Object(x.a)(["\n    ",";\n"])),C),y.d.div(o||(o=Object(x.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),I=y.d.div(a||(a=Object(x.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),S=y.d.span(d||(d=Object(x.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),E=(y.d.div(s||(s=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n"]))),y.d.div(u||(u=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),y.d.div(l||(l=Object(x.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),y.d.div(b||(b=Object(x.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t// justify-content: space-between;\n"])))),_=(y.d.span(f||(f=Object(x.a)(["\n    text-align: center;\n    font-size: ",";\n    border-bottom: 1px solid black;\n    width: 100%;\n    padding: .25rem;\n    background: ",";\n"])),(function(e){return e.theme.fontSize.sz4}),(function(e){return e.theme.bg.senary})),y.d.span(m||(m=Object(x.a)(["\n    text-align: center;\n    font-size: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2; /* number of lines to show */\n    -webkit-box-orient: vertical;\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),D=(y.d.button(j||(j=Object(x.a)(["\n\n"]))),y.d.div(h||(h=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),w,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),y.d.div(O||(O=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width:100%;\n    justify-content: space-between;\n    overflow: hidden;\n    align-content: center;\n    margin: 0.2rem 0;\n    /* position: absolute; */\n    /* right: 1rem; */\n\n"])))),H=y.d.h5(p||(p=Object(x.a)(["\n    text-align: center;\n    color: ",";\n    font-family: ",";\n"])),(function(e){return e.theme.bg.septenary}),(function(e){return e.theme.font.primary})),N=y.d.div(v||(v=Object(x.a)(["\n    display: flex;\n    flex-direction: row;\n"]))),z=y.d.hr(g||(g=Object(x.a)(["\n    border-top: .05rem solid;\n    border-color: ",";\n    border-radius: .25rem;\n    width: 100%;\n    margin: 0;\n"])),(function(e){return e.theme.bg.quaternary}))},2038:function(e,t,n){"use strict";n.r(t);var r=n(11),i=n(44),c=n(53),o=n(2),a=n(35),d=n(1);function s(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var u,l,b,f,m,j,h,O,p,v,g,x,y,w,C,k,I,S,E,_,D,H,N,z,M,R=n(3),T=n.n(R),L=n(4),F=n(41),U=n(829),Q=n.n(U),P=n(355),W=n.n(P),A=n(25),q=n(1438),B=n(852),Y=n(189),J=n(62),V=n(55),G=(n(939),n(190)),Z=n(928),K=(n(836),n(925),n(26)),X=A.d.div(u||(u=Object(K.a)(["\n  display: table;\n"]))),$=A.d.div(l||(l=Object(K.a)(["\n  padding: 50% 0;\n"]))),ee=A.d.div(b||(b=Object(K.a)(["\n\n"]))),te=A.d.div(f||(f=Object(K.a)(["\n  width: 97%;\n  margin-top: .5rem;\n  margin-bottom: .5rem;\n  margin-left: 0.5rem;\n  min-height: 10rem;\n  background: ",";\n\n  border: 0.2rem solid #dedfe3;\n  border-radius: 0.5rem;\n"])),(function(e){return e.theme.bg.tertiary})),ne=A.d.span(m||(m=Object(K.a)(["\n  display: block;\n  transform-origin: top left;\n  transform: rotate(90deg) translate(0, -110%);\n  margin-top: -50%;\n  max-width: 20rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),re=(Object(A.c)(j||(j=Object(K.a)(["\n\n"]))),A.d.div(h||(h=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: ",";\n\n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n    max-height: ",";\n\n    border-radius: 0.5rem;\n    overflow: hidden;\n\n    color: ",";\n"])),"10rem",(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.isCollapsed?"2rem":e.maxWidth}),(function(e){return e.maxHeight&&e.maxHeight}),(function(e){return e.theme.bg.octonary}))),ie=(A.d.div(O||(O=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n"])),(function(e){return e.theme.bg.secondary})),A.d.div(p||(p=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(v||(v=Object(K.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.span(g||(g=Object(K.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),A.d.div(x||(x=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n  height: 100%;\n\tmin-height: 10rem;\n  background: ",";\n\tborder-bottom-right-radius: 0.5rem;\n\tborder-bottom-left-radius: 0.5rem;\n\n  // border-left: 0.2rem solid ",";\n  // border-bottom: 0.2rem solid ",";\n  // border-right: 0.2rem solid ",";\n\n\tjustify-content: start;\n"])),(function(e){return e.theme.bg.secondary}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}),(function(e){return e.theme.schema.lots.solid}))),ce=n(285),oe=n(51),ae=n(286),de=n(154),se=n(894),ue=n(8),le=function(e){var t=e.station_id,n=e.stationName,s=void 0===n?"Unnamed":n,u=e.onCardClick,l=e.selectedCards,b=e.processId,f=e.HeaderContent,m=e.isCollapsed,j=e.maxWidth,h=e.maxHeight,O=e.sortMode,p=e.sortDirection,v=(e.setSelectedCards,e.containerStyle),g=(Object(F.d)((function(e){return e.objectsReducer.objects})),Object(F.d)((function(e){return e.cardsReducer.processCards[b]}))||{}),x=Object(F.d)((function(e){return e.cardPageReducer.hoveringLotId}))||null,y=Object(F.d)((function(e){return e.cardPageReducer.draggingLotId}))||null,w=Object(F.d)((function(e){return e.cardPageReducer.draggingStationId}))||null,C=Object(F.d)((function(e){return e.cardPageReducer.dragFromBin}))||null,k=Object(F.d)((function(e){return e.tasksReducer.tasks})),I=Object(F.d)((function(e){return e.stationsReducer.stations})),S=Object(F.d)((function(e){return e.processesReducer.processes})),E=(Object(F.d)((function(e){return e.dashboardsReducer.kickOffEnabledDashboards})),Object(F.d)((function(e){return e.cardsReducer.showEditor}))),_=(Object(V.e)().location.pathname.includes("/locations"),Object(F.c)()),D=function(){var e=Object(L.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(G.g)(t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(L.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(Z.d)(t,n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(Z.f)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(Z.b)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(Z.c)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(Object(Z.a)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=Object(d.useState)(!1),Q=Object(a.a)(U,2),P=(Q[0],Q[1],Object(d.useState)(0)),W=Object(a.a)(P,2),A=W[0],q=W[1],B=Object(d.useState)(0),Y=Object(a.a)(B,2),K=Y[0],le=Y[1],be=Object(d.useState)([]),fe=Object(a.a)(be,2),me=fe[0],je=fe[1],he=Object(d.useState)(!0),Oe=Object(a.a)(he,2),pe=Oe[0],ve=(Oe[1],Object(d.useState)(!1)),ge=Object(a.a)(ve,2),xe=(ge[0],ge[1],Object(d.useState)(!1)),ye=Object(a.a)(xe,2),we=ye[0],Ce=ye[1],ke=Object(d.useState)(null),Ie=Object(a.a)(ke,2),Se=Ie[0],Ee=Ie[1],_e=Object(d.useState)(!1),De=Object(a.a)(_e,2),He=De[0],Ne=De[1],ze=Object(d.useState)(!1),Me=Object(a.a)(ze,2),Re=Me[0],Te=Me[1];Object(d.useEffect)((function(){var e=0,t=0;me.forEach((function(n){var r=(n||{}).count,i=void 0===r?0:r;t=parseInt(t)+1,e=parseInt(e)+parseInt(i)})),le(t),q(e)}),[me]);var Le=Object(d.useState)(!1),Fe=Object(a.a)(Le,2),Ue=Fe[0],Qe=Fe[1];Object(d.useEffect)((function(){Qe(Object(oe.f)(l))}),[l]),Object(d.useEffect)((function(){if(O){var t=Object(i.a)(e.cards);Object(ce.f)(t,O,p),je(t)}else je(e.cards)}),[e.cards,O,p]),Object(d.useEffect)((function(){if(y&&C&&g[y]){var e=Pe(y,C,t);Ne(e)}y||Ce(null)}),[y]);var Pe=function(e,t,n){var r,i,c=g[e].process_id,o=null===(r=S[c])||void 0===r||null===(i=r.routes)||void 0===i?void 0:i.map((function(e){return k[e]})),a=Object(de.b)(o,I),d=Object(de.a)(o);if(c!==b)return!1;if(E)return!1;if(t===n)return!0;return!!function e(t){if(d===t&&"FINISH"==n)return Ce(!0),!0;if("QUEUE"===t&&("split"!==S[c].startDivergeType||1===a.length)){if(a.includes(n))return Ce(!0),!0;for(var r in a){if(e(a[r]))return!0}}var i=o.filter((function(e){return e.load===t}));if(i[0]&&(!i[0].divergeType||"split"!==i[0].divergeType)){var s=function(t){return i[t].unload===n?(Ee(i[t].load),Ce(!0),{v:!0}):1===o.filter((function(e){return e.unload===i[t].unload})).length&&e(i[t].unload)?{v:!0}:void 0};for(var u in i){var l=s(u);if("object"===typeof l)return l.v}}}(t)||(!!function e(t){if(a.includes(t)&&"QUEUE"===n&&("split"!==S[c].startDivergeType||1===a.length))return Ce(!0),!0;if("FINISH"===t){if(d===n)return Ce(!0),!0;if(e(d))return!0}var r=o.filter((function(e){return e.unload===t}));if(1===r.length){var i=function(t){var i=o.filter((function(e){return e.load===r[t].load}));if(r[t].load===n){if(1===i.length||"split"!==i[0].divergeType||!i[0].divergeType)return Ce(!0),{v:!0}}else if((1===i.length||!i[0].divergeType||"split"!==i[0].divergeType)&&e(r[t].load))return{v:!0}};for(var s in r){var u=i(s);if("object"===typeof u)return u.v}}}(t)||void 0)},We=function(e){N(null)},Ae=function(){var e=function(){for(var e=-1,n=l.length-1;n>=0;n--)(l[n]||{}).binId===t&&n>e&&(e=n);return e}();return l[e]},qe=function(){var e=Object(L.a)(T.a.mark((function e(){var t,n,r,i,a,d,s,u,l;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe(y,C,w)||w===C){e.next=17;break}if(console.log("here"),t=C,n=g[y]?g[y]:{},r=n.bins?n.bins:{},a=(i=r||{})[t],Object(c.a)(i,[t].map(J.a)),!a){e.next=17;break}return l=Se||t,(u=n).bins=Object(ae.n)(u.bins,null===(d=u.bins[t])||void 0===d?void 0:d.count,l,w,S[u.process_id],k,I),u.bins=Object(ae.m)(u.bins,null===(s=u.bins[t])||void 0===s?void 0:s.count,t,S[u.process_id],k),u.bins[t]&&!u.bins[t].count&&(u.bins[t]=Object(o.a)(Object(o.a)({},u.bins[t]),{},{count:0})),u.bins[t]&&0===u.bins[t].count&&1===Object.values(u.bins[t]).length&&delete u.bins[t],D(u,u._id),e.next=17,H(null,null);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?Object(ue.jsxs)(re,{maxHeight:h,isCollapsed:m,maxWidth:j,children:[f(K,A),Object(ue.jsx)(ie,{style:{padding:"1rem 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(ue.jsx)(X,{children:Object(ue.jsx)($,{children:Object(ue.jsx)(ne,{children:s})})})})]}):Object(ue.jsxs)(re,{isCollapsed:m,maxWidth:j,maxHeight:h,style:v,children:[f(K,A),!E&&Object(ue.jsxs)(ie,{className:"container",style:{overflow:"auto",height:"100%",padding:"1rem"},onDragOver:function(e){M(t),He&&Te(!0),e.preventDefault()},onDragLeave:function(e){Te(!1),M(null)},children:[!!we&&Object(ue.jsx)(te,{className:"dragToDiv",onDragOver:function(e){e.target.className.includes("dragToDiv")&&(e.target.style.minHeight="18rem")},onDragLeave:function(e){Re&&(e.target.style.minHeight="10rem")}}),me.map((function(e,n){e._id,e.count;var i,a=e.leadTime,d=e.name,s=(e.object_id,e.cardId),l=e.flags,f=e.lotNum,m=e.totalQuantity,j=(e.processName,e.lotTemplateId,Object(c.a)(e,["_id","count","leadTime","name","object_id","cardId","flags","lotNum","totalQuantity","processName","lotTemplateId"]),s===(Ae()||{}).cardId),h=null!==x||null!==y||Ue;if(null===(i=g[e.cardId])||void 0===i?void 0:i.bins[e.binId]){var O=g[e.cardId].bins[e.binId];return Object.keys(O).map((function(i){var c,p="count"!==i;return Object(ue.jsx)(ue.Fragment,{children:(O[i]>0||"count"===i&&O.count>0)&&Object(ue.jsx)(ee,{id:"item",class:"item",draggable:!0,onMouseEnter:function(e){N(s)},onMouseLeave:We,onDragStart:function(e){e.target.style.opacity=".001",z(s),R(t)},onDragEnd:function(e){qe(),e.target.style.opacity="1",z(null),R(null)},style:{background:"transparent",borderRadius:"1rem"},children:Object(ue.jsx)(se.a,{isPartial:p,onDeleteDisabledLot:function(){!function(e,t,n){var i=g[e.cardId],c=i.bins[t];delete c[n];var a=Object(o.a)(Object(o.a)({},i),{},{bins:Object(o.a)(Object(o.a)({},i.bins),{},Object(r.a)({},t,c))});1===Object.values(c).length&&0===c.count&&delete a.bins[t],D(a,a._id)}(e,e.binId,i)},onRightClickDeleteLot:function(){!function(e,t){var n=g[e.cardId],i=n.bins[t];i.count=0;var c=Object(o.a)(Object(o.a)({},n),{},{bins:Object(o.a)(Object(o.a)({},n.bins),{},Object(r.a)({},t,i))});1===Object.values(i).length&&delete c.bins[t],D(c,c._id)}(e,e.binId)},glow:j,enableFlagSelector:pe,selectable:h,totalQuantity:m,lotNumber:f,name:p?d+" (".concat(null===(c=k[i])||void 0===c?void 0:c.part,")"):d,count:p?O[i]:O.count,leadTime:a,id:s,flags:l||[],index:n,lotId:s,binId:t,onClick:function(e){var n=function(e){var n=(Ae()||{}).cardId,r=me.findIndex((function(e){var r=e.cardId,i=e.binId;return n===r&&t===i})),i=me.findIndex((function(n){var r=n.cardId,i=n.binId;return e===r&&t===i}));return-1===r?[me[i]]:r<i?me.slice(r,i+1):me.slice(i,r+1).reverse()}(s);u(e,{lotId:s,processId:b,binId:t},n)},containerStyle:{border:y===s&&t===C&&".2rem solid #7e7e7e",margin:y===s&&t===C?"0rem":".4rem",padding:".1rem",width:"100%"}},s)})})}))}}))]})]})},be=n(103),fe=n(9),me=n(889),je=function(e){var t=e.id,n=e.station_id,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,s=void 0===o?[]:o,u=e.processId,l=e.maxHeight,b=e.sortMode,f=e.sortDirection,m=e.selectedCards,j=e.setSelectedCards,h=(e.autoCycleTime,e.containerStyle),O=Object(F.c)(),p=function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(be.f)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(F.d)((function(e){return e.stationsReducer.stations})),g=Object(A.e)(),x=Object(d.useState)(!1),y=Object(a.a)(x,2),w=y[0],C=y[1],k=Object(d.useMemo)((function(){var e,t,r="00:00:00";if("auto"===v[n].cycle_time_mode&&(null===(e=v[n])||void 0===e?void 0:e.cycle_time))r=Object(me.d)(v[n].cycle_time);else if("manual"===v[n].cycle_time_mode&&(null===(t=v[n])||void 0===t?void 0:t.manual_cycle_time)){var i;r=null===(i=v[n])||void 0===i?void 0:i.manual_cycle_time}var c=r.split(":");return Q()().set({hour:c[0],minute:c[1],second:c[2]})}),[v[n]]),I=function(){var e,t,r;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(q.i,{}),Object(ue.jsxs)(q.b,{style:{marginTop:".5rem"},children:[Object(ue.jsx)(q.c,{children:"Cycle Time"}),Object(ue.jsxs)(q.f,{children:[Object(ue.jsx)(q.e,{style:{marginRight:".25rem",display:"flex",alignItems:"center"},children:"Auto"}),Object(ue.jsx)(W.a,{onColor:g.schema.lots.solid,style:{transform:"scale(0.8)"},checked:"manual"===(null===(e=v[n])||void 0===e?void 0:e.cycle_time_mode),onChange:function(e){!function(e){var t=Object(fe.d)(v[n]);t.cycle_time_mode=e?"manual":"auto",p(t)}(e)}}),Object(ue.jsx)(q.e,{style:{marginLeft:".25rem",display:"flex",alignItems:"center"},children:"Manual"})]})]}),Object(ue.jsxs)(q.b,{style:{opacity:"auto"===(null===(t=v[n])||void 0===t?void 0:t.cycle_time_mode)&&"70%",pointerEvents:"auto"===(null===(r=v[n])||void 0===r?void 0:r.cycle_time_mode)?"none":"auto",borderRadius:"0 3px 3px 0"},children:[Object(ue.jsx)(q.c,{style:{fontSize:"1rem"},children:"(HH:MM:SS)"}),Object(ue.jsx)(B.a,{showHours:!0,showMinutes:!0,value:k,onChange:function(e){!function(e){var t=Object(fe.d)(v[n]);t.manual_cycle_time=e,p(t)}(e.format("HH:mm:ss"))},style:{width:"5.5rem"},allowEmpty:!1})]}),Object(ue.jsx)(q.i,{})]})};return Object(ue.jsx)(le,{setSelectedCards:j,selectedCards:m,sortDirection:f,maxWidth:"25rem",sortMode:b,maxHeight:l,id:t,containerStyle:h,HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w?Object(ue.jsx)(q.g,{children:Object(ue.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return C(!1)},style:{cursor:"pointer"}})}):Object(ue.jsxs)(q.g,{children:[Object(ue.jsxs)(q.a,{style:{marginBottom:"1rem"},children:[Object(ue.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true",onClick:function(){return C(!0)},style:{marginRight:"1rem",cursor:"pointer"}}),Object(ue.jsx)(q.d,{children:Object(ue.jsx)(q.h,{children:i})}),Object(ue.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(ue.jsxs)(q.a,{children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(q.e,{children:"Lots: "}),Object(ue.jsx)(q.e,{children:e})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(q.e,{children:"Total Quantity: "}),Object(ue.jsx)(q.e,{children:t})]})]}),I()]})},station_id:n,stationName:i,onCardClick:c,cards:s,processId:u,isCollapsed:w})},he="10rem",Oe=(A.d.span(y||(y=Object(K.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(A.c)(w||(w=Object(K.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),he,(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.isCollapsed?"2rem":"fit-content"}),(function(e){return e.theme.bg.octonary}))),pe=(A.d.div(C||(C=Object(K.a)(["\n    ",";\n"])),Oe),A.d.div(k||(k=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: 0.5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),ve=A.d.div(I||(I=Object(K.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),ge=A.d.span(S||(S=Object(K.a)(["\n    font-size: 1rem;\n    color: ",";\n\n"])),(function(e){return e.theme.textColor})),xe=(A.d.div(E||(E=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(_||(_=Object(K.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.div(D||(D=Object(K.a)(["\n\tdisplay: flex;\n\talign-items: center;\n    margin: 0 2rem;\n\t// justify-content: space-between;\n"])))),ye=(A.d.span(H||(H=Object(K.a)(["\n    text-align: center;\n    margin-right: 1rem;\n    \n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz3})),A.d.span(N||(N=Object(K.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),we=(A.d.button(z||(z=Object(K.a)(["\n\n"]))),A.d.div(M||(M=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),he,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=void 0===t?"QUEUE":t,r=e.stationName,i=void 0===r?"Unnamed":r,c=e.onCardClick,o=e.cards,s=e.onAddLotClick,u=e.processId,l=(e.setShowCardEditor,e.showCardEditor,e.maxHeight),b=e.sortMode,f=e.sortDirection,m=e.selectedCards,j=e.setSelectedCards,h=Object(d.useState)(!1),O=Object(a.a)(h,2),p=O[0],v=O[1];return Object(ue.jsx)(le,{setSelectedCards:j,selectedCards:m,sortDirection:f,sortMode:b,maxHeight:l,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p?Object(ue.jsx)(pe,{children:Object(ue.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return v(!1)},style:{cursor:"pointer"}})}):Object(ue.jsxs)(pe,{children:[Object(ue.jsxs)(ve,{style:{marginBottom:"1rem"},children:[Object(ue.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true",onClick:function(){return v(!0)},style:{cursor:"pointer"}}),Object(ue.jsx)(xe,{children:Object(ue.jsx)(ye,{children:i})}),Object(ue.jsx)(Y.a,{onClick:s,schema:"lots",children:"+ Lot"})]}),Object(ue.jsxs)(ve,{style:{justifyContent:"space-between"},children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(ge,{children:"Lots: "}),Object(ue.jsx)(ge,{children:e})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(ge,{children:"Total Quantity: "}),Object(ue.jsx)(ge,{children:t})]})]})]})},station_id:n,stationName:i,onCardClick:c,cards:o,processId:u,isCollapsed:p})});we.defaultProps={stationName:"Unnamed",onCardClick:function(){},onAddLotClick:function(){},cards:[],setShowCardEditor:function(){},showCardEditor:!1};var Ce,ke,Ie,Se,Ee,_e,De,He,Ne,ze,Me,Re,Te,Le,Fe,Ue,Qe=we,Pe=(n(1332),"10rem"),We=(A.d.span(Ce||(Ce=Object(K.a)(["\n// background: red;\n\ttransform: rotate(-90deg);\n\t// transform: translateY(50%);\n"]))),Object(A.c)(ke||(ke=Object(K.a)(["\n\tdisplay: flex;\n    flex-direction: column;\n    min-height: ",";\n    \n    width: ",";\n    max-width: ",";\n    min-width: ",";\n    margin-right: 1rem;\n    \n    border-radius: 1rem;\n    overflow: hidden;\n    \n    color: ",";\n"])),Pe,(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.isCollapsed?"2rem":"15rem"}),(function(e){return e.theme.bg.octonary}))),Ae=(A.d.div(Ie||(Ie=Object(K.a)(["\n    ",";\n"])),We),A.d.div(Se||(Se=Object(K.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    background: ",";\n    padding: .5rem 1rem;\n"])),(function(e){return e.theme.bg.secondary}))),qe=A.d.div(Ee||(Ee=Object(K.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n"]))),Be=A.d.span(_e||(_e=Object(K.a)(["\n    font-size: 1rem;\n    color: ",";\n"])),(function(e){return e.theme.textColor})),Ye=(A.d.div(De||(De=Object(K.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n    padding-left: 1rem;\n    padding-right: 1rem;\n \n \n"]))),A.d.div(He||(He=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),A.d.div(Ne||(Ne=Object(K.a)(["\n\tdisplay: flex;\n\tborder-bottom: 1px solid black;\n\twidth: 100%;\n"]))),A.d.div(ze||(ze=Object(K.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t// justify-content: space-between;\n"])))),Je=(A.d.span(Me||(Me=Object(K.a)(["\n    text-align: center;\n    font-size: ",";\n"])),(function(e){return e.theme.fontSize.sz4})),A.d.span(Re||(Re=Object(K.a)(["\n    text-align: center;\n    font-size: ",";\n    color: ",";\n"])),(function(e){return e.theme.fontSize.sz3}),(function(e){return e.theme.textColor}))),Ve=(A.d.button(Te||(Te=Object(K.a)(["\n\n"]))),A.d.div(Le||(Le=Object(K.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex: 1;\n\tmin-height: ",";\n\toverflow: hidden;\n\tbackground: ",";\n\topacity: ",";\n\tborder-bottom-right-radius: 1rem;\n\tborder-bottom-left-radius: 1rem;\n\tjustify-content: center;\n"])),Pe,(function(e){return e.theme.bg.quaternary}),(function(e){return e.dragEnter?.75:1})),function(e){var t=e.station_id,n=e.stationName,r=void 0===n?"Unnamed":n,i=e.onCardClick,c=e.cards,o=void 0===c?[]:c,s=e.processId,u=e.maxHeight,l=e.sortMode,b=e.sortDirection,f=e.selectedCards,m=e.setSelectedCards,j=Object(d.useState)(!1),h=Object(a.a)(j,2),O=h[0],p=h[1];return Object(ue.jsx)(le,{setSelectedCards:m,selectedCards:f,sortDirection:b,maxHeight:u,sortMode:l,maxWidth:"24rem",HeaderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O?Object(ue.jsx)(Ae,{children:Object(ue.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true",onClick:function(){return p(!1)},style:{cursor:"pointer"}})}):Object(ue.jsxs)(Ae,{children:[Object(ue.jsxs)(qe,{style:{marginBottom:"1rem"},children:[Object(ue.jsx)("i",{className:"fa fa-chevron-down","aria-hidden":"true",onClick:function(){return p(!0)},style:{cursor:"pointer"}}),Object(ue.jsx)(Ye,{children:Object(ue.jsx)(Je,{children:r})}),Object(ue.jsx)("i",{className:"fas fa-ellipsis-h",style:{opacity:0}})]}),Object(ue.jsxs)(qe,{children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Be,{children:"Lots: "}),Object(ue.jsx)(Be,{children:e})]}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Be,{children:"Total Quantity: "}),Object(ue.jsx)(Be,{children:t})]})]})]})},station_id:t,stationName:r,onCardClick:i,cards:o,processId:s,isCollapsed:O})}),Ge=n(65),Ze=A.d.div(Fe||(Fe=Object(K.a)(["\n  // max-height: ",";\n  display: flex;\n  flex-direction: row;\n  padding: 1rem;\n  justify-content:  flex-start;\n"])),(function(e){return e.maxHeight})),Ke=(A.d.div(Ue||(Ue=Object(K.a)(["\ndisplay: flex;\nflex-direction: row;\npadding: 1rem 0rem;\nmargin: 0 1rem;\n// border: 1px solid lightgrey;\n"]))),n(64)),Xe=n(37),$e=function(e){var t=e.handleCardClick,n=e.processId,u=e.setShowCardEditor,l=e.showCardEditor,b=e.maxHeight,f=e.lotFilters,m=e.lotFilterValue,j=e.selectedFilterOption,h=e.sortMode,O=e.sortDirection,p=e.selectedCards,v=e.setSelectedCards,g=e.handleAddLotClick,x=function(){var e=Object(d.useState)(s()),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(d.useEffect)((function(){function e(){r(s())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),y=(x.height,x.width,Object(F.d)((function(e){return e.processesReducer.processes[n]}))||{}),w=(void 0===y.showFinish||y.showFinish,void 0===y.showQueue||y.showQueue,Object(F.d)((function(e){return e.tasksReducer.tasks}))),C=Object(F.d)((function(e){return e.cardsReducer.processCards}))||{},k=Object(F.d)((function(e){return e.stationsReducer.stations})),I=Object(F.d)((function(e){return e.cardPageReducer.droppedLotInfo})),S=(Object(F.d)((function(e){return e.settingsReducer.settings})).shiftDetails,Object(F.d)((function(e){return e.settingsReducer.settings.enableMultipleLotFilters}))),E=I||{},_=E.lotId,D=void 0===_?"":_,H=E.binId,N=void 0===H?"":H,z=Object(d.useState)({}),M=Object(a.a)(z,2),R=M[0],T=M[1],L=Object(d.useState)({}),U=Object(a.a)(L,2),Q=U[0],P=U[1],W=Object(d.useState)([]),A=Object(a.a)(W,2),q=A[0],B=A[1],Y=Object(d.useState)([]),J=Object(a.a)(Y,2),V=J[0],G=J[1],Z=Object(d.useState)({}),K=Object(a.a)(Z,2),X=K[0],$=(K[1],(y||{}).name),ee=void 0===$?"":$,te=Object(d.useMemo)((function(){for(var e=y.routes.map((function(e){return w[e]})),t=e.map((function(e){return e.load})),n=e.map((function(e){return e.unload})),r=function(){var e=n[i];if(void 0===t.find((function(t){return t===e}))&&void 0===n.slice(0,i).find((function(t){return t===e})))return{v:"warehouse"===k[e].type}},i=0;i<n.length;i++){var c=r();if("object"===typeof c)return c.v}return!1}),[y.routes,k]);Object(d.useEffect)((function(){var e={};y.routes&&y.routes.forEach((function(t,n){var r=w[t],i=Object(Ge.f)(r),c=Object(Ge.l)(r);e[i]={station_id:i,cards:[]},e[c]={station_id:c,cards:[]},i,c})),P(e)}),[y,w]),Object(d.useEffect)((function(){var e=[],t=[],a=Object(o.a)({},Q),d=C[n]||{};Object.values(d).forEach((function(n){var d=n.bins,s=n._id,u=Object(c.a)(n,["bins","_id"]),l=Object(ae.k)(n),b=!1;b=S?f.reduce((function(e,t){return e&&Object(ae.a)(n,t)}),!0):Object(ae.l)(n,m,j),d&&b&&Object.entries(d).forEach((function(n){var c=n[0],d=n[1].count;if(d>-1){var b=Object(o.a)(Object(o.a)({},u),{},{totalQuantity:l,binId:c,count:d,cardId:s,processName:ee});if(Q[c]){var f=Object(Ke.c)(a[c])?a[c]:{},m=Object(oe.e)(f.cards)?f.cards:[];a=Object(o.a)(Object(o.a)({},a),{},Object(r.a)({},c,Object(o.a)(Object(o.a)({},f),{},{cards:[].concat(Object(i.a)(m),[b])})))}else"QUEUE"===c?e.push(b):"FINISH"===c&&t.push(b)}}))})),T(a),B(e),G(t)}),[Q,C,n,f,N,D,m,j]);var ne=Object(d.useMemo)((function(){var e=y.flattened_stations.map((function(e,r){var i;return Object(ue.jsx)("div",{id:"column-".concat(e.stationID),children:Object(ue.jsx)(je,{containerStyle:{marginTop:"".concat(2*e.depth,"rem"),position:"relative"},setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,id:n+"+"+e.stationID,station_id:e.stationID,stationName:k[e.stationID].name,processId:n,cards:(null===(i=R[e.stationID])||void 0===i?void 0:i.cards)||[],onCardClick:t,autoCycleTime:X[e.stationID]})})}));return Object(ue.jsx)(ue.Fragment,{children:e})}),[R,y]);return Object(ue.jsxs)(Ze,{style:{background:"white"},children:[Object(ue.jsx)(Qe,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"QUEUE",setShowCardEditor:u,showCardEditor:l,stationName:"Queue",processId:n,cards:q,onCardClick:t,onAddLotClick:function(){return g(n)}},"QUEUE"),ne,!te&&Object(ue.jsx)(Ve,{setSelectedCards:v,selectedCards:p,sortMode:h,sortDirection:O,maxHeight:b,station_id:"FINISH",setShowCardEditor:u,showCardEditor:l,stationName:"Finished",processId:n,cards:V,onCardClick:t},"FINISH")]})};$e.defaultProps={handleCardClick:function(){},processId:null,setShowCardEditor:function(){},showCardEditor:!1,maxHeight:null,lotFilterValue:"",selectedFilterOption:Xe.q.name,lotFilters:[],sortMode:Xe.q.name,sortDirection:Xe.w.ASCENDING};t.default=Object(d.memo)($e)},889:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return s}));var r=n(35),i=n(21),c=(n(829),function(e){return e.minutes()+60*e.hours()}),o=function(e){var t=e.split(" "),n=Object(r.a)(t,2),i=n[0],c=n[1],o=i.split(":"),a=Object(r.a)(o,2),d=a[0],s=a[1];return"12"!==d||"AM"!==c&&"am"!==c?"12"!==d||"PM"!==c&&"pm"!==c||(d="12"):d="00","PM"!==c&&"pm"!==c||"12"===d||(d=parseInt(d,10)+12),"".concat(d,":").concat(s)},a=function(e,t){return Date.parse("".concat(t," ").concat(e))},d=function(e){var t,n,c,o,a=i.a.getState().settingsReducer;(null===a||void 0===a||null===(t=a.settings)||void 0===t||null===(n=t.timezone)||void 0===n?void 0:n.label)&&(e=function(e,t){return new Date(e.toLocaleString("en-US",{timeZone:t}))}(e,null===a||void 0===a||null===(c=a.settings)||void 0===c||null===(o=c.timezone)||void 0===o?void 0:o.label));return function(e){var t="am",n=e.split(":"),i=Object(r.a)(n,2),c=i[0],o=i[1];return(c=parseInt(c))>=12&&(c>12&&(c-=12),t="pm"),1===o.length&&(o="0".concat(o)),"".concat(c,":").concat(o," ").concat(t)}("".concat(e.getHours(),":").concat(e.getMinutes()))},s=function(e){return new Date(1e3*e).toISOString().substr(11,8)}}}]);
//# sourceMappingURL=8.d11adc57.chunk.js.map