(this["webpackJsonprmstudio_2.0"]=this["webpackJsonprmstudio_2.0"]||[]).push([[34,41],{2057:function(t,e,n){"use strict";n.r(e),n.d(e,"MapView",(function(){return St}));var o,i,s,r,c,a,d,l,u,p,b,j=n(35),h=n(2),f=n(816),O=n(817),g=n(850),v=n(819),m=n(820),x=n(1),y=n.n(x),_=n(144),S=n(41),w=n(55),k=n(26),M=n(25),C=M.d.div(o||(o=Object(k.a)(["\n    height: 100%;\n    width: 100%;\n    flex: 1;\n    background: ",";\n    user-select: none;\n\n    // cursor: move; /* fallback if grab cursor is unsupported */\n    // cursor: -webkit-move;\n    // cursor: -moz-move;\n\n    cursor: url(https://ssl.gstatic.com/ui/v1/icons/mail/images/2/openhand.cur), grab;\n\n    &:active {\n        cursor: grabbing;\n        cursor: -moz-grabbing;\n        cursor: -webkit-grabbing;\n    }\n\n    background-size: cover;\n    overflow: visible;\n"])),(function(t){return t.isBlank?"#F9FBFC":t.theme.bg.quaternary})),R=M.d.g(i||(i=Object(k.a)(["\n"]))),P=M.d.img(s||(s=Object(k.a)(["\n    height: 100%;\n    width: auto;\n\n    ccursor: move; /* fallback if grab cursor is unsupported */\n    cursor: -webkit-move;\n    cursor: -moz-move;\n\n    // ","\n    \n"])),(function(t){return t.tall&&"\n    //     height: auto;\n    //     width: 100%;\n    // "})),D=(n(939),n(83),n(1399)),E=n(194),L=n(9),N=n(366),I=n(359),z=n(103),A=n(113),F=n(204),G=n(929),T=M.d.div(r||(r=Object(k.a)(["\n    position: absolute;\n    display: flex;\n\n    flex-direction: column;\n    align-items: center;\n\n    top: ",";\n    left: ",";\n\n    padding: .1rem;\n    background-color: transparent;\n    opacity: 100%;\n\n"])),(function(t){return t.yPosition}),(function(t){return t.xPosition})),B=M.d.i(c||(c=Object(k.a)(["\n\n    font-size: 1.3rem;\n    color: lightgreen;\n\n"]))),W=n(8),Z=function(t){t.d3;var e=t.x,n=t.y;Object(S.c)();return function(){var t=e-10+"px",o=n-20+"px";return Object(W.jsx)(T,{xPosition:t,yPosition:o,children:Object(W.jsx)(B,{className:"fas fa-map-marker-alt",style:{color:"#ffb62e"}})})}()},q=n(3),U=n.n(q),H=n(4),Q=(M.d.foreignObject(a||(a=Object(k.a)(["\n    transition: ",";\n    overflow: visible;\n    z-index: 1;\n"])),(function(t){return"100%"===t.width?"all 0.25s ease":"none"})),M.d.div(d||(d=Object(k.a)(["\n    margin-top: -12.7rem;\n    width: 30rem;\n    height: 10rem;\n    z-index: 5000;\n"]))),M.d.g(l||(l=Object(k.a)(["\n    stroke-width: 0;\n    opacity: 0.8;\n"]))),M.d.h1(u||(u=Object(k.a)(["\n    color: red;\n    position: relative;\n"]))),n(112)),X=n(826),Y=function(t,e,n){var o={};return o.id=t._id,o.heightWidth="1",o.yPosition=t.y,o.xPosition=t.x,o.scale=n.scale,o.realScale=n.scale,o},V=n(223),J=n(860),K=M.d.g(p||(p=Object(k.a)(["\n    stroke-width: 0;\n    opacity: 0.8;\n"]))),$=M.d.g(b||(b=Object(k.a)(["\n    cursor: url(https://ssl.gstatic.com/ui/v1/icons/mail/images/2/openhand.cur), grab;\n\n    &:active {\n        cursor: grabbing;\n        cursor: -moz-grabbing;\n        cursor: -webkit-grabbing;\n    }\n"]))),tt=n(858),et=n(59),nt=function(t){var e=t.location,n=t.rd3tClassName,o=t.color,i=t.d3,s=t.isSelected,r=(t.hovering,t.rotating,t.hoveringInfo),c=t.shouldGlow,a=t.handleMouseEnter,d=t.handleMouseLeave,l=t.handleMouseDown,u=t.handleTranslating,p=(t.handleRotating,e.schema),b=Object(h.a)(Object(h.a)({},J.a),tt.a),f=Object(S.d)((function(t){return t.settingsReducer.settings})),O=Object(x.useState)(o),g=Object(j.a)(O,2),v=g[0],m=g[1];return Object(x.useEffect)((function(){m(o)}),[o]),Object(W.jsxs)(K,{id:n,className:n,style:{fill:v,stroke:v},onMouseEnter:function(){a(),s&&m(Object(et.a)("#5c6fff",-50))},onMouseDown:function(){l()},onMouseLeave:function(){d(),m(o)},transform:"translate(".concat(e.x,",").concat(e.y,") rotate(").concat(-e.rotation,") scale(").concat(i.scale/i.imgResolution,")"),children:[(f.mapApps.labels||s)&&(null===r||void 0===r?void 0:r.id)!==(null===e||void 0===e?void 0:e._id)&&Object(W.jsx)("text",{y:-16,fontSize:"0.7em",dominantBaseline:"middle",textAnchor:"middle",children:e.name}),Object(W.jsxs)("defs",{children:[Object(W.jsxs)("filter",{id:"glow",children:[Object(W.jsx)("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),Object(W.jsxs)("feMerge",{children:[Object(W.jsx)("feMergeNode",{in:"coloredBlur"}),Object(W.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),Object(W.jsxs)("filter",{id:"glow2",height:"300%",width:"300%",x:"-75%",y:"-75%",children:[Object(W.jsx)("feMorphology",{operator:"dilate",radius:"1",in:"SourceAlpha",result:"thicken"}),Object(W.jsx)("feGaussianBlur",{in:"thicken",stdDeviation:"2",result:"blurred"}),Object(W.jsx)("feFlood",{floodColor:o,result:"glowColor"}),Object(W.jsx)("feComposite",{in:"glowColor",in2:"blurred",operator:"in",result:"softGlow_colored"}),Object(W.jsxs)("feMerge",{children:[Object(W.jsx)("feMergeNode",{in:"softGlow_colored"}),Object(W.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),Object(W.jsx)($,{className:"".concat(n,"-trans"),onMouseEnter:function(){a()},onMouseDown:function(){return u(!0)},onMouseUp:function(){return u(!1)},transform:"device"===e.type?"scale(.07) translate(-180,-140)":"shelf_position"===e.type?"rotate(90)":"",children:Object(W.jsx)("svg",{id:"".concat(n,"-").concat(p),x:"-10",y:"-10",width:"20",height:"20",viewBox:"0 0 400 400",style:{filter:c?"url(#glow2)":"none"},children:b[e.type].svgPath})})]})};nt.defaultProps={handleMouseEnter:function(){},handleMouseLeave:function(){},handleMouseDown:function(){},handleTranslating:function(){},handleRotating:function(){}};var ot=nt,it=function(t){var e=t.isSelected,n=t.location,o=t.handleRotate,i=t.handleTranslate,s=t.handleDisableDrag,r=t.handleEnableDrag,c=t.handleTranslateEnd,a=t.rd3tClassName,d=Object(x.useState)(!1),l=Object(j.a)(d,2),u=l[0],p=l[1],b=Object(x.useState)(!1),h=Object(j.a)(b,2),f=h[0],O=h[1],g=Object(x.useState)(!1),v=Object(j.a)(g,2),m=v[0],y=v[1];Object(x.useEffect)((function(){e?!m&&R():m&&P()}),[e]);var _=null,S=null,w=null,k=null,M=[],C=[],R=function(){D.select(".".concat(a));var t=D.select(".".concat(a,"-rot")),d=D.select(".".concat(a,"-trans"));t.call(D.behavior.drag().on("dragstart",(function(){e&&s()})).on("drag",(function(t,i){e&&function(t,i){if(e){var s;u||p(!0),"mousemove"===t.sourceEvent.type?s=180*Math.atan2(t.sourceEvent.clientY-n.y,t.sourceEvent.clientX-n.x)/Math.PI:"touchmove"===t.sourceEvent.type&&(s=180*Math.atan2(t.sourceEvent.touches[0].clientY-n.y,t.sourceEvent.touches[0].clientX-n.x)/Math.PI),null==_&&(S=n.rotation,_=s),w=s-_,w=Math.abs(w%45)<5?45*Math.round(w/45):10*Math.round(w/10);var r=S-w;r<0&&(r+=360),o(r)}}(D.event)})).on("dragend",(function(){e&&(_=null,r(),p(!1))}))),d.call(D.behavior.drag().on("dragstart",(function(){M=[n.x,n.y],e&&s()})).on("drag",(function(t,o){e&&function(t,o){if(e){f||O(!0);var s=[];"mousemove"===t.sourceEvent.type?s=[t.sourceEvent.clientX,t.sourceEvent.clientY]:"touchmove"===t.sourceEvent.type&&(s=[t.sourceEvent.touches[0].clientX,t.sourceEvent.touches[0].clientY]),null==k&&(k=s,M=[n.x,n.y]),C[0]=5*Math.round((s[0]-k[0])/5),C[1]=5*Math.round((s[1]-k[1])/5),i({x:M[0]+C[0],y:M[1]+C[1]})}}(D.event)})).on("dragend",Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(2===C.length&&(c({x:M[0]+C[0],y:M[1]+C[1]}),k=null),r(),O(!1));case 1:case"end":return t.stop()}}),t)}))))),y(!0)},P=function(){D.select(".".concat(a));var t=D.select(".".concat(a,"-rot")),e=D.select(".".concat(a,"-trans"));t.call(D.behavior.drag().on("dragstart",(function(){})).on("drag",(function(){})).on("dragend",(function(){}))),e.call(D.behavior.drag().on("dragstart",(function(){})).on("drag",(function(){})).on("dragend",Object(H.a)(U.a.mark((function t(){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))))),y(!1)};return null},st=n(65);var rt=function(t){var e=t.station,n=t.rd3tClassName,o=t.d3,i=t.handleEnableDrag,s=t.handleDisableDrag,r=t.mouseDown,c=Object(x.useState)(!1),a=Object(j.a)(c,2),d=a[0],l=a[1],u=Object(x.useState)(!1),p=Object(j.a)(u,2),b=p[0],h=p[1],f=Object(x.useState)(!1),O=Object(j.a)(f,2),g=O[0],v=O[1],m=Object(S.d)((function(t){return t.stationsReducer.selectedStation})),_=(Object(S.d)((function(t){return t.stationsReducer.editingStation})),Object(S.d)((function(t){return t.processesReducer.editingProcess}))),k=Object(S.d)((function(t){return t.positionsReducer.selectedPosition})),M=Object(S.d)((function(t){return t.tasksReducer.selectedTask})),C=Object(S.d)((function(t){return t.processesReducer.selectedProcess})),R=Object(S.d)((function(t){return t.widgetReducer.hoverStationInfo})),P=(Object(S.d)((function(t){return t.tasksReducer.tasks})),Object(S.d)((function(t){return t.processesReducer.fixingProcess})),Object(S.d)((function(t){return t.positionsReducer.positions})),Object(S.c)()),D=function(t){return P(Object(G.a)(t))},L=function(t,e){return P(Object(z.k)(t,e))},N=function(){var t=Object(H.a)(U.a.mark((function t(e){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(Object(Q.o)(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(t,e){return P(Object(Q.p)(t,e))},A=!!m&&m._id===e._id,F=!1;M&&C||(m&&m._id!==e._id||k&&!e.children.includes(k._id))&&(F=!0);var T=!1;!M||(null===M||void 0===M?void 0:M.load)!==e._id&&(null===M||void 0===M?void 0:M.unload)!==e._id||(T=!0);var B=J.a[e.type].color;!A&&F?B="#afb5c9":T&&(B="#38eb87");var Z=Object(w.g)();Object(x.useEffect)((function(){return window.addEventListener("mouseup",q),function(){window.removeEventListener("mouseup",q)}}),[]);var q=function(){h(!1),v(!1)};Object(x.useEffect)((function(){void 0!==Z.stationID&&Z.stationID===t.station._id&&Z.widgetPage&&D(K())}),[]);var K=function(){return Y(e,0,o)};return Object(W.jsxs)(y.a.Fragment,{children:[Object(W.jsx)(ot,{location:e,rd3tClassName:n,color:B,d3:o,isSelected:A,hovering:d,rotating:b,hoveringInfo:R,shouldGlow:!1,handleMouseEnter:function(){R||null!==M||e.temp||r||_||(l(!0),Object(V.b)()||b||g||m||M||C||(D(K()),function(t){P(Object(z.j)(t))}(e)))},handleMouseLeave:function(){l(!1)},handleMouseDown:function(){F||function(){if(M)if(null!==(null===M||void 0===M?void 0:M.load)&&null===(null===M||void 0===M?void 0:M.unload)&&M.load!==e._id){var t=(e.type,"push");I(M._id,{unload:e._id,type:t})}else{var n="warehouse"===e.type?"pull":"push";I(M._id,{load:e._id,unload:null,type:n})}else if(C){var o=Object(st.b)(C._id);o.type=(e.type,"push"),o.load=e._id,o.unload=null,N(o)}}(),P(Object(X.a)(!0))},handleTranslating:function(t){v(t)},handleRotating:function(t){h(t)}}),Object(W.jsx)(it,{isSelected:A,location:e,rd3tClassName:n,d3:function(){return o()},handleRotate:function(t){L(e._id,{rotation:t})},handleTranslate:function(t){var n=t.x,o=t.y;return L(e._id,{x:n,y:o})},handleTranslateEnd:function(n){var o=n.x,i=n.y,s=Object(E.a)([o,i],t.d3);L(e._id,{pos_x:s[0],pos_y:s[1]})},handleEnableDrag:function(){i()},handleDisableDrag:function(){s()}}),void(Z.widgetPage&&!d&&Z.stationID===e._id?(l(!0),D(K())):!A&&d&&null===R&&l(!1))]},"frag-loc-".concat(e._id))},ct=n(154),at=n(51);var dt=function(t){var e=t.d3,n=t.position,o=t.rd3tClassName,i=t.handleEnableDrag,s=t.handleDisableDrag,r=t.mouseDown,c=n._id,a=Object(x.useState)(!1),d=Object(j.a)(a,2),l=d[0],u=d[1],p=Object(x.useState)(!1),b=Object(j.a)(p,2),h=b[0],f=b[1],O=Object(x.useState)(!1),g=Object(j.a)(O,2),v=g[0],m=g[1],_=Object(S.c)(),w=function(t,e){return _(Object(Q.p)(t,e))},k=function(t){return _(Object(G.a)(t))},M=function(t){return _(Object(A.i)(t))},C=function(t,e){return _(Object(A.h)(t,e))},R=Object(S.d)((function(t){return t.tasksReducer.selectedTask})),P=Object(S.d)((function(t){return t.processesReducer.selectedProcess})),D=Object(S.d)((function(t){return t.positionsReducer.selectedPosition})),N=Object(S.d)((function(t){return t.stationsReducer.selectedStation})),I=(Object(S.d)((function(t){return t.widgetReducer.hoverLocationID})),Object(S.d)((function(t){return t.widgetReducer.hoverStationInfo}))),z=Object(S.d)((function(t){return t.stationsReducer.stations})),F=Object(S.d)((function(t){return t.positionsReducer.positions})),T=(Object(S.d)((function(t){return t.tasksReducer.tasks})),Object(S.d)((function(t){return t.positionsReducer.selectedStationChildrenCopy}))),B=Object(S.d)((function(t){return t.processesReducer.fixingProcess})),Z=Object(st.j)(R),q=Object(st.g)(R),U=!1;(T&&c in T&&!R||D&&D._id===c&&!R||"temporary_position"===n.schema)&&(U=!0);var H=!1;if(R&&P)if(n.parent||(H=!0),B)if(n.parent){if(!Z||Z&&q){var J=P.routes[P.broken-1];H=!Object(st.q)(J,c)}else if(!q){var K;F[null===R||void 0===R||null===(K=R.load)||void 0===K?void 0:K.position]||(H=!0);var $=P.routes[P.broken];Object(st.r)(P.routes,c)&&!Object(st.p)($,c)&&(H=!0)}}else H=!0;else{var et=((R||{}).temp||{}).insertIndex;if(P.routes.length>0){var nt=Object(st.h)(P.routes.map((function(t){return t._id})),null===R||void 0===R?void 0:R._id);if(!Z||Z&&q)if(0===et)Object(st.r)(P.routes,c)&&(H=!0);else if(0===nt)Object(st.r)(Object(at.a)(P.routes,0),c)&&(H=!0);else{var rt=Object(ct.f)(P.routes,R._id),dt=Object(st.g)(rt);!Object(st.q)(rt,c)&&dt&&(H=!0);var lt=Object(st.d)(R),ut=Object(st.f)(R);Object(st.r)(P.routes,c)&&dt!==n.parent&&c!==lt&&ut!==n.parent&&(H=!0)}else if(!q){var pt;if(F[null===R||void 0===R||null===(pt=R.load)||void 0===pt?void 0:pt.position]||(H=!0),0===et){var bt=P.routes[0];Object(st.r)(P.routes,c)&&!Object(st.p)(bt,c)&&(H=!0),Object(st.p)(R,c)&&(H=!0)}else if(0===nt){var jt=P.routes[1];Object(st.r)(P.routes,c)&&!Object(st.p)(jt,c)&&(H=!0)}else{var ht=P.routes[nt+1];!Object(st.r)(P.routes,c)||Object(st.p)(ht,c)&&-1!==nt||(H=!0),Object(st.p)(R,c)&&(H=!0)}}}else!Z||Z&&q||q||Object(st.p)(R,c)&&(H=!0)}else(D&&D._id!==c||R&&!n.parent||T&&!(c in T)||N&&!N.children.includes(c))&&(H=!0);var ft=null!==R&&(R.load.position==c&&"push"==R.type||R.unload.position==c&&"pull"==R.type||R.load.position==c&&"both"==R.type||R.unload.position==c&&"both"==R.type),Ot=!1;!R||R.load.position!==c&&R.unload.position!==c||(Ot=!0);var gt=tt.a[n.type].color;!U&&H?gt="#afb5c9":Ot&&(gt="#38eb87"),Object(x.useEffect)((function(){return window.addEventListener("mouseup",vt),function(){window.removeEventListener("mouseup",vt)}}),[]);var vt=function(){f(!1),m(!1)};Object(x.useEffect)((function(){null!==n&&"temporary_position"===n.schema&&(u(!0),k(mt()),M(n))}),[]);var mt=function(){return Y(n,0,e)};return Object(W.jsxs)(y.a.Fragment,{children:[!!n.parent&&function(){var t=T&&c in T&&N?N:z[n.parent];if(t)return Object(W.jsx)("line",{x1:"".concat(n.x),y1:"".concat(n.y),x2:"".concat(t.x),y2:"".concat(t.y),stroke:gt,strokeWidth:"1.4",shapeRendering:"geometricPrecision",style:{opacity:"0.3"}})}(),Object(W.jsx)(ot,{location:n,rd3tClassName:o,color:gt,d3:e,isSelected:U,hovering:l,rotating:h,hoveringInfo:"temporary_position"!==n.schema?I:null,shouldGlow:ft,handleMouseEnter:function(){I||null!==R||n.temp||r||(u(!0),Object(V.b)()||h||v||D||N||R||(k(mt()),M(n)))},handleMouseLeave:function(){"temporary_position"!==n.schema&&u(!1)},handleMouseDown:function(){H||function(){if(null!==R)if(null!==R.load.position&&null===R.unload.position){var t=Object(L.d)(R.unload),e=R.type;t.position=c,null!==n.parent?t.station=n.parent:e="push",w(R._id,{unload:t,type:e})}else{var o=Object(L.d)(R.load),i=Object(L.d)(R.unload),s=R.type;o.position=c,null!==n.parent?o.station=n.parent:s="pull",i.position=null,i.station=null,w(R._id,{load:o,unload:i,type:s})}}(),"temporary_position"!==(null===D||void 0===D?void 0:D.schema)&&_(Object(X.a)(!0))},handleTranslating:function(t){U||m(t)},handleRotating:function(t){f(t),t||u(!1)}}),Object(W.jsx)(it,{isSelected:U,location:n,rd3tClassName:o,d3:function(){return e()},handleRotate:function(t){C(c,{rotation:t})},handleTranslate:function(t){var e=t.x,n=t.y;return C(c,{x:e,y:n})},handleTranslateEnd:function(e){var n=e.x,o=e.y,i=Object(E.a)([n,o],t.d3);C(c,{pos_x:i[0],pos_y:i[1]})},handleEnableDrag:function(){i()},handleDisableDrag:function(){s()}})]},"frag-loc-".concat(c))},lt=n(54),ut=(n(829),n(286)),pt=function(t){var e=t.station,n=t.wipRatio,o=t.d3Scale,i=30*Math.min(Math.max(1,n),4)*o;return isNaN(i)?null:Object(W.jsx)("g",{children:Object(W.jsx)("circle",{cx:e.x,cy:e.y,r:i,fill:n<1.5?"url(#goodGrad)":n<3?"url(#okayGrad)":"url(#badGrad)"})})},bt=function(t){var e=t.map_id,n=t.d3Scale,o=Object(x.useState)({}),i=Object(j.a)(o,2),s=i[0],r=i[1],c=Object(S.d)((function(t){return t.cardsReducer.cards})),a=Object(S.d)((function(t){return t.tasksReducer.tasks})),d=Object(S.d)((function(t){return t.stationsReducer.editingStation})),l=Object(S.d)((function(t){return t.positionsReducer.editingPosition})),u=Object(S.d)((function(t){return t.stationsReducer.stations}));u=Object.values(u).filter((function(t){return t.map_id===e}));var p=Object(S.d)((function(t){return t.processesReducer.processes}));p=Object.values(p).filter((function(t){return t.map_id===e})),Object(x.useEffect)((function(){var t={};p.forEach((function(e){var n,o,i,s=Object(ct.j)(e,a),r=0,d={},l=0,u=Object(lt.a)(s);try{for(u.s();!(i=u.n()).done;)d[o=i.value]=Object.values(c).filter((function(t){return t.process_id===e._id})).reduce((function(t,e){return t+Object(ut.e)(e,o)}),0),l+=d[o]>0?1:0,r+=d[o]}catch(j){u.e(j)}finally{u.f()}var p,b=r/l;for(n=0;n<s.length;n++)p=d[o=s[n]]/b,o in t?t[o]=p+t[o]:p>0&&(t[o]=p)})),r(t)}),[c]);return Object(W.jsxs)("g",{children:[Object(W.jsxs)("defs",{children:[Object(W.jsxs)("radialGradient",{id:"goodGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(W.jsx)("stop",{offset:"20%",style:{stopColor:"#00ffcf",stopOpacity:.7}}),Object(W.jsx)("stop",{offset:"100%",style:{stopColor:"#00ff97",stopOpacity:0}})]}),Object(W.jsxs)("radialGradient",{id:"okayGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(W.jsx)("stop",{offset:"20%",style:{stopColor:"#ff9300",stopOpacity:.7}}),Object(W.jsx)("stop",{offset:"100%",style:{stopColor:"#ffc200",stopOpacity:0}})]}),Object(W.jsxs)("radialGradient",{id:"badGrad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[Object(W.jsx)("stop",{offset:"20%",style:{stopColor:"#ff0e00",stopOpacity:.7}}),Object(W.jsx)("stop",{offset:"100%",style:{stopColor:"#ff6800",stopOpacity:0}})]})]}),!d&&!l&&u.map((function(t){return t._id in s&&Object(W.jsx)(pt,{station:t,wipRatio:s[t._id],d3Scale:n},t._id+"-heatspot")}))]})};function jt(t){var e=t.route,n=t.d3Scale,o=Object(S.d)((function(t){return t.tasksReducer.tasks})),i=Object(S.d)((function(t){return t.positionsReducer.positions})),s=Object(S.d)((function(t){return t.stationsReducer.stations})),r=Object(st.d)(o[e]),c=Object(st.k)(o[e]),a=i[r]?i[r]:s[r],d=i[c]?i[c]:s[c];return a&&d?Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("g",{children:Object(W.jsx)("line",{x1:"".concat(a.x),y1:"".concat(a.y),x2:"".concat(d.x),y2:"".concat(d.y),strokeWidth:"".concat(1.5*n),stroke:"lightgrey",strokeLinecap:"round"})})}):null}var ht=function(t){var e=t.map_id,n=t.d3Scale,o=Object(S.d)((function(t){return t.processesReducer.processes})),i=Object.values(o).filter((function(t){return t.map_id===e})),s=Object(S.d)((function(t){return t.stationsReducer.editingStation})),r=Object(S.d)((function(t){return t.positionsReducer.editingPosition}));return Object(W.jsx)(W.Fragment,{children:!s&&!r&&i.map((function(t){return t.routes.map((function(t){return Object(W.jsx)(jt,{route:t,d3Scale:n,id:"ratsnest-path-".concat(t._id)})}))}))})},ft=n(30),Ot=(n(64),n(73)),gt=(ft.a.getLogger("MapView"),Object(x.lazy)((function(){return n.e(43).then(n.bind(null,1562))}))),vt=Object(x.lazy)((function(){return n.e(38).then(n.bind(null,2051))})),mt=Object(x.lazy)((function(){return n.e(42).then(n.bind(null,2052))})),xt=Object(x.lazy)((function(){return n.e(39).then(n.bind(null,2075))})),yt=Object(x.lazy)((function(){return Promise.all([n.e(5),n.e(9)]).then(n.bind(null,2071))})),_t=Object(x.lazy)((function(){return n.e(37).then(n.bind(null,2068))})),St=function(t){Object(v.a)(n,t);var e=Object(m.a)(n);function n(t){var o;return Object(f.a)(this,n),(o=e.call(this,t)).checkForMapLoad=function(){var t=o.props.maps.find((function(t){return t._id===o.props.localSettings.currentMapId}));if(void 0===t){o.setState({currentMap:o.props.maps[0]});var e=Object(h.a)(Object(h.a)({},o.props.localSettings),{},{currentMapId:o.props.maps[0]._id});o.props.dispatchPostLocalSettings(e)}else o.setState({currentMap:t})},o.refreshMap=function(){o.props.maps[0]&&o.props.dispatchGetMap(o.props.maps[0].guid)},o.openLocation=function(){return Object(W.jsx)(_.Route,{path:["/locations"]})},o.dragNewEntity=function(t){if(o.mouseDown)if(o.props.selectedStation&&!0===o.props.selectedStation.temp)o.props.dispatchSetStationAttributes(o.props.selectedStation._id,{x:t.clientX,y:t.clientY});else if(o.props.selectedPosition&&!0===o.props.selectedPosition.temp&&"temporary_position"!==o.props.selectedPosition.schema)o.props.dispatchSetPositionAttributes(o.props.selectedPosition._id,{x:t.clientX,y:t.clientY});else if(o.props.selectedStationChildrenCopy){var e=Object.values(o.props.selectedStationChildrenCopy).find((function(t){return!0===t.temp}));e&&!o.props.selectedPosition&&o.props.dispatchSetPositionAttributes(e._id,{x:t.clientX,y:t.clientY})}},o.validateNewEntity=function(){if(o.props.selectedStation&&!0===o.props.selectedStation.temp){var t=Object(E.a)([o.props.selectedStation.x,o.props.selectedStation.y],o.d3);o.props.dispatchSetStationAttributes(o.props.selectedStation._id,{pos_x:t[0],pos_y:t[1],temp:!1})}else if(o.props.selectedPosition&&!0===o.props.selectedPosition.temp&&"temporary_position"!==o.props.selectedPosition.schema){var e=Object(E.a)([o.props.selectedPosition.x,o.props.selectedPosition.y],o.d3);o.props.dispatchSetPositionAttributes(o.props.selectedPosition._id,{pos_x:e[0],pos_y:e[1],temp:!1})}else if(o.props.selectedStationChildrenCopy){var n=Object.values(o.props.selectedStationChildrenCopy).find((function(t){return 1==t.temp}));if(n){n=o.props.selectedStationChildrenCopy[n._id];var i=Object(E.a)([n.x,n.y],o.d3);o.props.dispatchSetPositionAttributes(n._id,{pos_x:i[0],pos_y:i[1],temp:!1})}}},o.bindZoomListener=function(){o.props.scaleExtent,o.state.currentMap.resolution;var t,e,n=o.d3,i=n.translate,s=n.scale,r=D.select(".".concat(o.rd3tSvgClassName)),c=D.selectAll(".".concat(o.rd3tMapClassName));r.call(D.behavior.zoom().scaleExtent([-100,100]).on("zoom",(function(){!(o.props.selectedStation||o.props.selectedPosition&&"temporary_position"!==o.props.selectedPosition.schema)||o.props.editingStation&&o.props.editingPosition||o.props.dispatchHoverStationInfo(null),o.lastEvent=D.event;var n=o.props,i=n.stations,s=n.positions,r=n.devices;c.attr("transform","translate(".concat(D.event.translate,") scale(").concat(D.event.scale,")")),o.d3=Object(h.a)(Object(h.a)({},o.d3),{},{translate:D.event.translate,scale:D.event.scale}),Object.values(i).forEach((function(n){var s=Object(E.b)([n.pos_x,n.pos_y],o.d3),r=Object(j.a)(s,2);t=r[0],e=r[1],n=Object(h.a)(Object(h.a)({},n),{},{x:t,y:e}),i[n._id]=n}));var a=null;if(o.props.selectedStation){var d=Object(E.b)([o.props.selectedStation.pos_x,o.props.selectedStation.pos_y],o.d3),l=Object(j.a)(d,2);t=l[0],e=l[1],a=o.props.selectedStation,a=Object(h.a)(Object(h.a)({},a),{},{x:t,y:e})}o.props.dispatchUpdateStations(i,a,o.d3),Object.values(s).forEach((function(n){var i=Object(E.b)([n.pos_x,n.pos_y],o.d3),r=Object(j.a)(i,2);t=r[0],e=r[1],n=Object(h.a)(Object(h.a)({},n),{},{x:t,y:e}),s[n._id]=n}));var u=null;if(o.props.selectedPosition){var p=Object(E.b)([o.props.selectedPosition.pos_x,o.props.selectedPosition.pos_y],o.d3),b=Object(j.a)(p,2);t=b[0],e=b[1],u=o.props.selectedPosition,u=Object(h.a)(Object(h.a)({},u),{},{x:t,y:e})}var f=null;o.props.selectedStationChildrenCopy&&(f={},Object.values(o.props.selectedStationChildrenCopy).forEach((function(n){var i=Object(E.b)([n.pos_x,n.pos_y],o.d3),s=Object(j.a)(i,2);t=s[0],e=s[1],n=Object(h.a)(Object(h.a)({},n),{},{x:t,y:e}),f[n._id]=n}))),o.props.dispatchUpdatePositions(s,u,f,o.d3),Object.values(r).filter((function(t){return"MiR100"==t.device_model})).map((function(n){var i=Object(E.b)([n.position.pos_x,n.position.pos_y],o.d3),s=Object(j.a)(i,2);t=s[0],e=s[1],n.position=Object(h.a)(Object(h.a)({},n.position),{},{x:t,y:e}),r[n._id]=n})),o.props.dispatchUpdateDevices(r,o.d3),o.initialRender&&(o.initialRender=!1)})).on("zoomend",(function(){})).scale(s).translate(i))},o.unbindZoomListener=function(){var t=Object(g.a)(o).rd3tSvgClassName;D.select(".".concat(t)).call(D.behavior.zoom().on("zoom",null))},o.onDisableDrag=function(){o.draggable&&(o.draggable=!1,o.unbindZoomListener())},o.onEnableDrag=function(){o.draggable||(o.draggable=!0,o.bindZoomListener())},o.onWidgetDisableDrag=function(){o.widgetDraggable&&(o.widgetDraggable=!1,o.unbindZoomListener())},o.onWidgetEnableDrag=function(){o.widgetDraggable||(o.widgetDraggable=!0,o.bindZoomListener())},o.calculateD3Geometry=function(){o.props.locations;var t,e,n=o.state.currentMap.resolution;if(t=o.props.zoom>o.props.scaleExtent.max?o.props.scaleExtent.max:o.props.zoom<o.props.scaleExtent.min?o.props.scaleExtent.min:o.props.zoom,o.mapContainer&&o.mapImage){var i,s,r=o.mapContainer.getBoundingClientRect().height,c=o.mapContainer.getBoundingClientRect().width,a=o.mapImage.getBoundingClientRect().height,d=o.mapImage.getBoundingClientRect().width,l=o.naturalImageDimensions.height,u=o.naturalImageDimensions.width;e={x:o.props.translate.x+c/2-d/2,y:o.props.translate.y+r/2-a/2},o.d3={translate:[e.x,e.y],scale:t,mapResolution:n,imgResolution:1,actualDims:{height:a,width:d},naturalDims:{height:l,width:u}};var p=o.props,b=p.stations,f=p.positions,O=p.devices;Object.values(b).forEach((function(t){var e=Object(E.b)([t.pos_x,t.pos_y],o.d3),n=Object(j.a)(e,2);i=n[0],s=n[1],t=Object(h.a)(Object(h.a)({},t),{},{x:i,y:s}),b[t._id]=t})),o.props.dispatchUpdateStations(b,null,o.d3),Object.values(f).forEach((function(t){var e=Object(E.b)([t.pos_x,t.pos_y],o.d3),n=Object(j.a)(e,2);i=n[0],s=n[1],t=Object(h.a)(Object(h.a)({},t),{},{x:i,y:s}),f[t._id]=t})),o.props.dispatchUpdatePositions(f,null,null,o.d3),Object.values(O).filter((function(t){return"MiR100"==t.device_model})).map((function(t){var e=Object(E.b)([t.position.pos_x,t.position.pos_y],o.d3),n=Object(j.a)(e,2);i=n[0],s=n[1],t.position=Object(h.a)(Object(h.a)({},t.position),{},{x:i,y:s}),O[t._id]=t})),o.props.dispatchUpdateDevices(O,o.d3)}else e=o.props.translate;D.selectAll(".".concat(o.rd3tMapClassName)).attr("transform","translate(".concat(e.x,",").concat(e.y,") scale(").concat(t,")"))},o.handleRightClickMenu=function(t){t.preventDefault(),o.setState({showRightClickMenu:{x:t.clientX,y:t.clientY}})},o.mobileMode=o.props.mobileMode,o.onClick=o.props.onClick,o.state={showRightClickMenu:{},hasStartAndEnd:!1,currentMap:null},o.rd3tSvgClassName="__SVG",o.rd3tMapClassName="__MAP",o.rd3tLocClassName="__LOC",o.rd3tStationClassName="__STATION",o.rd3tPosClassName="__POS",o.lastEvent=null,o.initialRender=!0,o.draggable=!0,o.widgetDraggable=!0,o.d3={translate:[0,0],naturalDims:{height:500,width:500},scale:1,naturalScale:1,boundingClientHeight:0},o.naturalImageDimensions={width:100,heigh:100},o.mouseDown=!1,o}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.checkForMapLoad(),window.addEventListener("mousedown",(function(){return t.mouseDown=!0}),{passive:!1}),window.addEventListener("mouseup",(function(){t.mouseDown=!1,t.validateNewEntity()}),{passive:!1}),window.addEventListener("click",(function(){t.setState({showRightClickMenu:{}})})),window.addEventListener("resize",(function(){t.bindZoomListener()}),{passive:!1})}},{key:"componentDidUpdate",value:function(t,e){this.props.localSettings.currentMapId!==this.state.currentMap._id&&this.checkForMapLoad(),t.selectedTask!==this.props.selectedTask&&this.setState({hasStartAndEnd:Object(st.c)(this.props.selectedTask)}),Object(L.e)(t.currentMap,this.state.currentMap)||this.bindZoomListener(),this.props.match.params.widgetPage?document.removeEventListener("dragend",this.validateNewLocation):document.addEventListener("dragend",this.validateNewLocation,{capture:!1,passive:!0}),this.props.editingStation||this.props.hoveringInfo||this.props.dispatchSetSelectedStation(null)}},{key:"render",value:function(){var t,e,n=this,o=this.props,i=o.stations,s=o.positions,r=o.devices,c=o.selectedStation,a=o.selectedPosition,d=o.selectedStationChildrenCopy,l=o.deviceEnabled;this.state.hasStartAndEnd;if(null==this.state.currentMap)return Object(W.jsx)(W.Fragment,{});var u=this.d3;u.translate,u.scale;return Object(W.jsx)("div",{style:{width:"100%",height:"100%"},onMouseMove:this.dragNewEntity,onMouseUp:this.validateNewLocation,children:Object(W.jsxs)(C,{ref:function(t){return n.mapContainer=t},style:{touchAction:"none",pointerEvents:this.widgetDraggable?"default":"none"},children:[Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(_t,{})}),Object.keys(this.state.showRightClickMenu).length>0&&Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(xt,{coords:this.state.showRightClickMenu,buttonClicked:function(){n.setState({showRightClickMenu:{}})},d3:this.d3})}),Object(W.jsxs)("svg",{className:this.rd3tSvgClassName,width:"100%",height:"100%",onClick:function(){n.setState({showRightClickMenu:{}})},onContextMenu:function(t){n.handleRightClickMenu(t)},onMouseEnter:function(){n.props.widgetLoaded&&(!(n.props.selectedStation||n.props.selectedPosition&&"temporary_position"!==n.props.selectedPosition.schema)||n.props.editingStation&&n.props.editingPosition||(n.props.dispatchHoverStationInfo(null),n.props.dispatchSetSelectedStation(null),n.props.dispatchSetSelectedPosition(null)))},onMouseOver:function(){n.props.widgetLoaded&&(n.props.selectedStation||n.props.selectedPosition&&"temporary_position"!==n.props.selectedPosition.schema)&&(n.props.dispatchHoverStationInfo(null),n.props.editingStation&&n.props.editingPosition||(n.props.dispatchSetSelectedStation(null),n.props.dispatchSetSelectedPosition(null)))},children:[" ",Object(W.jsx)(R,{className:this.rd3tMapClassName,children:Object(W.jsx)("foreignObject",{width:"200%",height:"200%",children:!!this.state.currentMap&&Object(W.jsx)(P,{ref:function(t){return n.mapImage=t},tall:!!this.mapContainer&&this.mapContainer.getBoundingClientRect().height/this.naturalImageDimensions.height>this.mapContainer.getBoundingClientRect().width/this.naturalImageDimensions.width,src:"data:image/png;base64, "+this.state.currentMap.map,onLoad:function(){n.naturalImageDimensions={height:n.mapImage.naturalHeight,width:n.mapImage.naturalWidth},n.calculateD3Geometry(),n.setState({resolution:n.state.currentMap.resolution},(function(){return n.bindZoomListener()}))}})})}),(!!this.props.selectedTask||!!this.props.selectedHoveringTask)&&Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(gt,{d3:this.d3})}),!!this.props.selectedProcess&&Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(vt,{d3:this.d3})}),Object(W.jsx)("defs",{children:Object(W.jsxs)("filter",{id:"glow",children:[Object(W.jsx)("feGaussianBlur",{stdDeviation:"1",result:"coloredBlur"}),Object(W.jsxs)("feMerge",{children:[Object(W.jsx)("feMergeNode",{in:"coloredBlur"}),Object(W.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),!!this.state.resolution&&!!this.mapImage&&Object(W.jsxs)(W.Fragment,{children:[this.props.settings.mapApps.heatmap&&Object(W.jsx)(bt,{map_id:null===(t=this.state.currentMap)||void 0===t?void 0:t._id,d3Scale:this.d3.scale}),this.props.settings.mapApps.ratsnest&&Object(W.jsx)(ht,{map_id:null===(e=this.state.currentMap)||void 0===e?void 0:e._id,d3Scale:this.d3.scale}),Object(W.jsx)(W.Fragment,{children:Object.values(i).filter((function(t){var e;return t.map_id===(null===(e=n.state.currentMap)||void 0===e?void 0:e._id)})).map((function(t,e){return Object(W.jsx)(rt,{station:c&&t._id===c._id?c:t,isSelected:!!c&&t._id===c._id,rd3tClassName:"".concat(n.rd3tStationClassName,"_").concat(e),d3:n.d3,handleEnableDrag:n.onEnableDrag,handleDisableDrag:n.onDisableDrag,mouseDown:n.mouseDown},"loc-".concat(e))}))}),Object(W.jsx)(W.Fragment,{children:Object.values(s).filter((function(t){var e;return t.map_id===(null===(e=n.state.currentMap)||void 0===e?void 0:e._id)})).map((function(t,e){return Object(W.jsx)(dt,{position:a&&t._id===a._id?a:d&&t._id in d?d[t._id]:t,rd3tClassName:"".concat(n.rd3tPosClassName,"_").concat(e),d3:n.d3,handleEnableDrag:n.onEnableDrag,handleDisableDrag:n.onDisableDrag,mouseDown:n.mouseDown},"pos-".concat(e))}))}),Object(W.jsx)(W.Fragment,{children:void 0!==r&&l?Object.values(r).filter((function(t){return"MiR100"==t.device_model})).map((function(t,e){return Object(W.jsx)(W.Fragment,{children:1==t.connected&&Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(mt,{device:t,d3:n.d3},t._id)})})})):Object(W.jsx)(W.Fragment,{})})]})]}),!!this.props.devices&&Object.values(this.props.devices).map((function(t){if(t.current_task_queue_id&&n.props.taskQueue[t.current_task_queue_id]&&n.props.taskQueue[t.current_task_queue_id].custom_task&&n.props.taskQueue[t.current_task_queue_id].custom_task.coordinate){var e=Object(E.b)([n.props.taskQueue[t.current_task_queue_id].custom_task.coordinate.pos_x,n.props.taskQueue[t.current_task_queue_id].custom_task.coordinate.pos_y],n.d3),o=Object(j.a)(e,2),i=o[0],s=o[1];return Object(W.jsx)(Z,{x:i,y:s})}})),null!==this.props.hoveringInfo&&!this.mobileMode&&Object(W.jsx)(x.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:Object(W.jsx)(yt,{})})]})})}}]),n}(x.Component);St.defaultProps={scaleExtent:{min:0,max:6},zoomable:!0,zoom:1,translate:{x:0,y:0}};e.default=Object(w.h)(Object(S.b)((function(t){return{maps:t.mapReducer.maps,localSettings:t.localReducer.localSettings,deviceEnabled:!1,settings:t.settingsReducer.settings,devices:t.devicesReducer.devices,positions:t.positionsReducer.positions,stations:t.stationsReducer.stations,tasks:t.tasksReducer.tasks,taskQueue:t.taskQueueReducer.taskQueue,showRouteConfirmation:t.tasksReducer.showRouteConfirmation,selectedStation:t.stationsReducer.selectedStation,selectedStationChildrenCopy:t.positionsReducer.selectedStationChildrenCopy,selectedPosition:t.positionsReducer.selectedPosition,editingStation:t.stationsReducer.editingStation,editingPosition:t.positionsReducer.editingPosition,selectedTask:t.tasksReducer.selectedTask,selectedHoveringTask:t.tasksReducer.selectedHoveringTask,editingTask:t.tasksReducer.editingTask,selectedProcess:t.processesReducer.selectedProcess,fixingProcess:t.processesReducer.fixingProcess,hoveringInfo:t.widgetReducer.hoverStationInfo,widgetLoaded:t.widgetReducer.widgetLoaded}}),(function(t){return{dispatchGetMap:function(e){return t(Object(N.a)(e))},dispatchSetCurrentMap:function(e){return t(Object(N.c)(e))},dispatchPostSettings:function(e){return t(Object(I.c)(e))},dispatchPostLocalSettings:function(e){return t(Object(Ot.c)(e))},dispatchUpdateStations:function(e,n,o){return t(Object(z.n)(e,n,o))},dispatchUpdatePositions:function(e,n,o,i){return t(Object(A.k)(e,n,o,i))},dispatchUpdateDevices:function(e,n){return t(F.c(e,n))},dispatchPostPosition:function(e){return t(Object(A.d)(e))},dispatchSetStationAttributes:function(e,n){return t(Object(z.k)(e,n))},dispatchSetPositionAttributes:function(e,n){return t(Object(A.h)(e,n))},dispatchSetSelectedStation:function(e){return t(Object(z.j)(e))},dispatchSetSelectedPosition:function(e){return t(Object(A.i)(e))},dispatchHoverStationInfo:function(e){return t(Object(G.a)(e))},dispatchWidgetLoaded:function(e){return t(Object(G.b)(e))}}}))(St))},826:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return d}));var o=n(133),i=function(t){return{type:o.d,payload:{mode:t}}},s=function(t){return{type:o.f,payload:t}},r=function(t){return{type:o.e,payload:t}},c=function(t){return{type:o.a,payload:t}},a=function(t,e){return{type:o.c,payload:{show:t,callback:e}}},d=function(t){return{type:o.g,payload:t}}},858:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));n(1);var o=n(83),i=n.n(o),s=n(8),r="#2adba6",c={shelf_position:{svgPath:Object(s.jsxs)("svg",{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsxs)("g",{y:"65",transform:"scale(0.87) translate(35, 100)",children:[Object(s.jsx)("path",{d:"M263.53,56.31l33,47a10,10,0,0,1-8.18,15.74h-66a10,10,0,0,1-8.19-15.74l33-47A10,10,0,0,1,263.53,56.31Z"}),Object(s.jsx)("path",{d:"M142.71,56.31l33,47a10,10,0,0,1-8.19,15.74h-66a10,10,0,0,1-8.18-15.74l33-47A10,10,0,0,1,142.71,56.31Z"}),Object(s.jsx)("circle",{cx:"255.44",cy:"146.56",r:"12.5"}),Object(s.jsx)("circle",{cx:"255.44",cy:"181.56",r:"7.5"}),Object(s.jsx)("circle",{cx:"134.44",cy:"146.56",r:"12.5"}),Object(s.jsx)("circle",{cx:"134.44",cy:"181.56",r:"7.5"})]})]}),attributes:{schema:"position",type:"shelf_position",parent:null,new:!0},color:r},charger_position:{svgPath:Object(s.jsxs)("svg",{children:[Object(s.jsx)("path",{d:"M344.75,131.18l-47,33A10,10,0,0,1,282,156V90a10,10,0,0,1,15.75-8.18l47,33A10,10,0,0,1,344.75,131.18Z"}),Object(s.jsx)("rect",{fill:"none",strokeMiterlimit:"10",strokeWidth:"20px",x:"5",y:"5",width:"378",height:"236",rx:"30"}),Object(s.jsx)("path",{d:"M251,171.13c-2.45,3.47-4.09,3.9-8.1,2.12l-73.27-32.63c-.72-.32-1.45-.61-2.47-1v3.15q0,12.9,0,25.81c0,4.89-3,6.91-7.46,5L31.14,118.34c-2.83-1.22-4.08-3.12-3.65-5.47s2.19-3.61,5.09-3.91q29.51-3,59-6c9-.91,17.93-1.86,26.91-2.63,1.81-.15,2.1-.82,2.06-2.38-.09-3.65,0-7.29,0-10.94,0-4.26,1.43-5.77,5.64-6.1q32.61-2.53,65.23-5.1c17.69-1.36,35.38-2.65,53.06-4.08,2.93-.23,5.1.52,6.54,3.12Z"}),Object(s.jsx)("rect",{fill:"transparent",strokeMiterlimit:"10",strokeWidth:"20px",x:"10",y:"10",width:"378",height:"236",rx:"30"})]}),color:"#fbd34e"},cart_position:{svgPath:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsx)("path",{d:"M315.5,200.87l-64,36.95A1,1,0,0,1,250,237v-73.9a1,1,0,0,1,1.5-.87l64,36.95A1,1,0,0,1,315.5,200.87Z",strokeMiterlimit:"10",strokeWidth:"10"}),Object(s.jsx)("circle",{cx:"200",cy:"200",r:"15"}),Object(s.jsx)("circle",{cx:"150",cy:"200",r:"10"}),Object(s.jsx)("circle",{cx:"102.5",cy:"200",r:"7.5"})]}),attributes:{schema:"position",type:"cart_position",parent:null,new:!0},color:r},temporary_cart_position:{svgPath:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("rect",{fill:"transparent",x:"100",y:"40",width:"200",height:"320",rx:"30",transform:"translate(400 0) rotate(90)",strokeMiterlimit:"10",strokeWidth:"20"}),Object(s.jsx)("path",{d:"M315.5,200.87l-64,36.95A1,1,0,0,1,250,237v-73.9a1,1,0,0,1,1.5-.87l64,36.95A1,1,0,0,1,315.5,200.87Z",strokeMiterlimit:"10",strokeWidth:"10"}),Object(s.jsx)("circle",{cx:"200",cy:"200",r:"15"}),Object(s.jsx)("circle",{cx:"150",cy:"200",r:"10"}),Object(s.jsx)("circle",{cx:"102.5",cy:"200",r:"7.5"})]}),attributes:{schema:"temporary_position",type:"cart_position",parent:null,new:!0},color:"#6283f0"}},a=function(t,e,n,o){return{name:t,schema:"position",type:e,temp:!0,new:!0,pos_x:0,pos_y:0,rotation:0,x:0,y:0,parent:n,_id:i.a.v4(),map_id:o}}},860:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));n(1);var o=n(351),i=n(8),s=o.a.main.schema.locations.solid,r={warehouse:{svgPath:Object(i.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 400",children:[Object(i.jsx)("path",{style:{fill:"transparent",strokeWidth:15,strokeMiterlimit:10},d:"M334.6,357.6h-260c-16.5,0-30-13.5-30-30v-260c0-16.5,13.5-30,30-30h260c16.5,0,30,13.5,30,30v260 C364.6,344.1,351.1,357.6,334.6,357.6z"}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M224,127c5.1-2.2,9.2-3.9,9.2-3.9s4.1,1.8,9.1,4.1l24.9,11.1c5,2.2,13.3,2.5,18.5,0.6l24.6-9.2 c5.1-1.9,5.2-5.1,0-7l-96.5-36.2c-5.1-1.9-13.6-1.9-18.7,0l-96.5,36.2c-5.1,1.9-5.1,5.1,0,7l96.5,36.2c5.1,1.9,13.6,1.9,18.7,0 l24.4-9.2c5.1-1.9,5.2-5.2,0.1-7.3l-24.6-10.2c-5.1-2.1-9.2-3.8-9.2-3.8c0,0,4.1-1.8,9.2-3.9L224,127z"})}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M98.5,144c-5.1-1.9-9.4,1-9.4,6.5v109.7c0,5.5,4.2,11.6,9.4,13.5l89.3,33.5c5.1,1.9,9.4-1,9.4-6.5V191 c0-5.5-4.2-11.6-9.4-13.5L98.5,144z M146.8,263c0,4.2-4.2,6.1-9.4,4.2l-10.1-3.8c-5.1-1.9-9.4-7-9.4-11.2s4.2-6.1,9.4-4.2 l10.1,3.8C142.5,253.7,146.8,258.7,146.8,263z"})}),Object(i.jsx)("g",{children:Object(i.jsx)("path",{d:"M285.8,153.2c-5.1,1.9-9.4,8-9.4,13.5v16.1c0,5.5-4.2,11.6-9.4,13.5l-10.1,3.8c-5.1,1.9-9.4-1-9.4-6.5 v-16.1c0-5.5-4.2-8.4-9.4-6.5l-17.3,6.5c-5.1,1.9-9.4,8-9.4,13.5v109.7c0,5.5,4.2,8.4,9.4,6.5l89.3-33.5c5.1-1.9,9.4-8,9.4-13.5 V150.5c0-5.5-4.2-8.4-9.4-6.5L285.8,153.2z"})})]}),attributes:{schema:"station",type:"warehouse",children:[],dashboards:[],new:!0},color:s},human:{svgPath:Object(i.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 400 400",children:[Object(i.jsx)("path",{style:{fill:"transparent",strokeWidth:15,strokeMiterlimit:10},d:"M334.6,357.6h-260c-16.5,0-30-13.5-30-30v-260c0-16.5,13.5-30,30-30h260c16.5,0,30,13.5,30,30v260 C364.6,344.1,351.1,357.6,334.6,357.6z"}),Object(i.jsx)("path",{d:"M205.9,200.2c32.7,0,59.3-26.3,59.3-58.7s-26.5-58.7-59.3-58.7s-59.3,26.3-59.3,58.7S173.1,200.2,205.9,200.2z M247.4,214.9h-7.7c-10.3,4.7-21.7,7.3-33.8,7.3c-12,0-23.4-2.7-33.8-7.3h-7.7c-34.4,0-62.3,27.6-62.3,61.7v19.1 c0,12.2,10,22,22.2,22h163c12.3,0,22.2-9.9,22.2-22v-19.1C309.6,242.5,281.7,214.9,247.4,214.9z"})]}),attributes:{schema:"station",type:"human",children:[],dashboards:[],new:!0},color:s}}},929:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));var o=n(203),i=function(t){return{type:o.c,payload:t}},s=function(t){return{type:o.b,payload:t}},r=function(t){return{type:o.a,payload:{info:t}}}}}]);
//# sourceMappingURL=34.a7055c31.chunk.js.map